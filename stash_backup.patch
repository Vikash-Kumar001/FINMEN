diff --git a/backend/controllers/activityController.js b/backend/controllers/activityController.js
index 5eabbe7..51ab752 100644
--- a/backend/controllers/activityController.js
+++ b/backend/controllers/activityController.js
@@ -1,5 +1,14 @@
 import ActivityLog from '../models/ActivityLog.js';
 import User from '../models/User.js';
+import GameProgress from '../models/GameProgress.js';
+import Wallet from '../models/Wallet.js';
+import Transaction from '../models/Transaction.js';
+import Assignment from '../models/Assignment.js';
+import AssignmentAttempt from '../models/AssignmentAttempt.js';
+import Task from '../models/Task.js';
+import TeacherChallenge from '../models/TeacherChallenge.js';
+import TeacherActivity from '../models/TeacherActivity.js';
+import SchoolStudent from '../models/School/SchoolStudent.js';
 import { ErrorResponse } from '../utils/ErrorResponse.js';
 
 // Log a new activity
@@ -35,15 +44,17 @@ export const logActivity = async (req, res, next) => {
         },
       });
 
-      // If the student has an assigned , emit to that 's room
-      if (req.user.Id) {
-        io.to(`-${req.user.Id}`).emit('student-activity', {
-          activityLog,
-          user: {
-            id: req.user._id,
-            name: req.user.name,
-            role: req.user.role,
-          },
+      // If the student has an assigned teacher, emit to that teacher's room
+      if (req.user.linkedIds?.teacherIds?.length > 0) {
+        req.user.linkedIds.teacherIds.forEach(teacherId => {
+          io.to(`teacher-${teacherId}`).emit('student-activity', {
+            activityLog,
+            user: {
+              id: req.user._id,
+              name: req.user.name,
+              role: req.user.role,
+            },
+          });
         });
       }
     }
@@ -70,9 +81,9 @@ export const getUserActivities = async (req, res, next) => {
     }
 
     // Check if the requester has permission to view this user's activities
-    if (req.user.role === '') {
+    if (req.user.role === 'parent') {
       const student = await User.findById(userId);
-      if (!student || student.Id?.toString() !== req.user._id.toString()) {
+      if (!student || !student.linkedIds?.parentIds?.includes(req.user._id)) {
         throw new ErrorResponse('You do not have permission to view this student\'s activities', 403);
       }
     }
@@ -275,4 +286,583 @@ export const getActivityStream = async (req, res, next) => {
   } catch (err) {
     next(err);
   }
+};
+
+// Get student activity with filtering and time range
+export const getStudentActivity = async (req, res, next) => {
+  try {
+    console.log('ðŸ” getStudentActivity called with:', { 
+      filter: req.query.filter, 
+      timeRange: req.query.timeRange,
+      userId: req.user?._id,
+      userRole: req.user?.role 
+    });
+    
+    const { filter = 'all', timeRange = 'week' } = req.query;
+    const userId = req.user._id;
+    const user = req.user;
+
+    // Ensure user has required fields with proper validation
+    if (!user) {
+      console.error('âŒ User object is null or undefined');
+      return res.status(401).json({ 
+        success: false, 
+        message: 'User not authenticated' 
+      });
+    }
+
+    // Get tenantId from request (set by tenant middleware) or user object
+    const tenantId = req.tenantId || user.tenantId || 'default';
+    console.log('ðŸ¢ Tenant ID:', { 
+      fromRequest: req.tenantId, 
+      fromUser: user.tenantId, 
+      final: tenantId 
+    });
+
+    // Validate user role
+    if (!user.role) {
+      console.error('âŒ User role is missing');
+      return res.status(400).json({ 
+        success: false, 
+        message: 'User role is required' 
+      });
+    }
+
+    // Calculate date range
+    const now = new Date();
+    let startDate;
+    
+    switch (timeRange) {
+      case 'day':
+        startDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());
+        break;
+      case 'week':
+        startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
+        break;
+      case 'month':
+        startDate = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);
+        break;
+      case 'all':
+      default:
+        startDate = new Date(0); // Beginning of time
+        break;
+    }
+
+    // Get student's class information
+    let studentClass = null;
+    let classId = null;
+    
+    if (user.role === 'school_student') {
+      try {
+        const schoolStudent = await SchoolStudent.findOne({ userId, tenantId }).populate('classId');
+        if (schoolStudent) {
+          studentClass = schoolStudent.classId;
+          classId = schoolStudent.classId?._id;
+          console.log('ðŸŽ“ Student class info:', {
+            studentId: userId,
+            schoolStudentId: schoolStudent._id,
+            classId: classId,
+            className: schoolStudent.classId?.classNumber,
+            tenantId: tenantId,
+            schoolStudentTenantId: schoolStudent.tenantId
+          });
+        } else {
+          console.log('âš ï¸ No school student record found for user:', userId);
+        }
+      } catch (classError) {
+        console.error('âŒ Error fetching student class info:', classError);
+        // Continue without class info
+      }
+    } else {
+      console.log('â„¹ï¸ User is not a school student, skipping class lookup');
+    }
+
+    // Debug: Check if there are any assignments in the database
+    try {
+      const allAssignments = await Assignment.find({ tenantId: tenantId }).limit(5);
+      console.log('ðŸ” Debug - All assignments in tenant:', {
+        tenantId: tenantId,
+        count: allAssignments.length,
+        assignments: allAssignments.map(a => ({
+          id: a._id,
+          title: a.title,
+          classId: a.classId,
+          assignedToClasses: a.assignedToClasses,
+          tenantId: a.tenantId
+        }))
+      });
+    } catch (debugError) {
+      console.error('âŒ Debug error:', debugError);
+    }
+
+    // Base query for all content
+    const baseQuery = {
+      tenantId: tenantId,
+      isActive: true,
+      hiddenFromStudents: { $ne: true }, // Exclude assignments hidden from students
+    };
+
+    // For students, also exclude assignments they've hidden themselves
+    if (user.role === 'school_student') {
+      baseQuery.hiddenFromStudentsList = { $nin: [user._id.toString()] };
+    }
+
+    // Add class filter for school students
+    if (user.role === 'school_student' && classId) {
+      baseQuery.classId = classId;
+    }
+
+    // Get all teacher/admin-created content
+    let assignments = [];
+    let tasks = [];
+    let challenges = [];
+    let activities = [];
+
+    // Query content for school students
+    if (user.role === 'school_student') {
+      try {
+        console.log('ðŸ” Querying content for school student:', {
+          userId: userId,
+          classId: classId,
+          tenantId: user.tenantId,
+          hasClass: !!classId
+        });
+        
+        // Build query conditions
+        let assignmentQuery = { ...baseQuery };
+        let taskQuery = { ...baseQuery };
+        let challengeQuery = { ...baseQuery };
+        let activityQuery = { ...baseQuery };
+        
+        // Add class-specific conditions if student has a class
+        if (classId) {
+          const classConditions = [
+            { classId: classId }, // Single class assignment
+            { assignedToClasses: classId }, // Multiple classes assignment
+            { classId: null, tenantId: tenantId } // Fallback for old assignments
+          ];
+          
+          assignmentQuery.$or = classConditions;
+          taskQuery.$or = [
+            { classId: classId },
+            { classId: null, tenantId: tenantId }
+          ];
+          challengeQuery.$or = [
+            { classId: classId },
+            { classId: null, tenantId: tenantId }
+          ];
+          activityQuery.$or = [
+            { classId: classId },
+            { classId: null, tenantId: tenantId }
+          ];
+        } else {
+          // If no class, show all assignments for the tenant
+          console.log('âš ï¸ Student has no class assigned, showing all tenant assignments');
+        }
+        
+        // Add date filters
+        assignmentQuery.assignedDate = { $gte: startDate };
+        taskQuery.assignedDate = { $gte: startDate };
+        challengeQuery.startDate = { $lte: now };
+        challengeQuery.endDate = { $gte: startDate };
+        activityQuery.scheduledDate = { $gte: startDate };
+        
+        [assignments, tasks, challenges, activities] = await Promise.all([
+          // Assignments
+          (filter === 'all' || filter === 'assignments')
+            ? Assignment.find(assignmentQuery)
+              .populate('teacherId', 'name')
+              .sort({ assignedDate: -1 })
+              .limit(50)
+            : [],
+          
+          // Tasks
+          (filter === 'all' || filter === 'tasks')
+            ? Task.find(taskQuery)
+              .populate('createdBy', 'name')
+              .sort({ assignedDate: -1 })
+              .limit(50)
+            : [],
+          
+          // Challenges
+          (filter === 'all' || filter === 'challenges')
+            ? TeacherChallenge.find(challengeQuery)
+              .populate('createdBy', 'name')
+              .sort({ startDate: -1 })
+              .limit(50)
+            : [],
+          
+          // Activities
+          (filter === 'all' || filter === 'activities')
+            ? TeacherActivity.find(activityQuery)
+              .populate('createdBy', 'name')
+              .sort({ scheduledDate: -1 })
+              .limit(50)
+            : []
+        ]);
+        
+        console.log('âœ… Database queries completed:', {
+          assignments: assignments.length,
+          tasks: tasks.length,
+          challenges: challenges.length,
+          activities: activities.length,
+          queryConditions: {
+            assignmentQuery: Object.keys(assignmentQuery),
+            taskQuery: Object.keys(taskQuery),
+            challengeQuery: Object.keys(challengeQuery),
+            activityQuery: Object.keys(activityQuery)
+          }
+        });
+
+        // Debug: Show assignment details
+        if (assignments.length > 0) {
+          console.log('ðŸ“ Found assignments:', assignments.map(a => ({
+            id: a._id,
+            title: a.title,
+            classId: a.classId,
+            assignedToClasses: a.assignedToClasses,
+            tenantId: a.tenantId,
+            assignedDate: a.assignedDate
+          })));
+        } else {
+          console.log('âŒ No assignments found with query:', assignmentQuery);
+        }
+      } catch (dbError) {
+        console.error('âŒ Database query error:', dbError);
+        // Continue with empty arrays if database queries fail
+        assignments = [];
+        tasks = [];
+        challenges = [];
+        activities = [];
+      }
+    } else {
+      console.log('â„¹ï¸ Skipping content queries - user is not a school student');
+    }
+
+    // Get submission status for each assignment if user is a student
+    let assignmentSubmissionStatus = {};
+    if (user.role === 'school_student') {
+      const assignmentIds = assignments.map(a => a._id);
+      const attempts = await AssignmentAttempt.find({
+        assignmentId: { $in: assignmentIds },
+        studentId: user._id,
+        tenantId
+      }).select('assignmentId status submittedAt');
+      
+      assignmentSubmissionStatus = attempts.reduce((acc, attempt) => {
+        acc[attempt.assignmentId.toString()] = {
+          status: attempt.status,
+          submittedAt: attempt.submittedAt
+        };
+        return acc;
+      }, {});
+    }
+
+    // Transform assignments
+    const transformedAssignments = assignments.map(assignment => ({
+      _id: assignment._id,
+      title: assignment.title,
+      description: assignment.description || `Assignment: ${assignment.title}`,
+      type: 'assignment',
+      assignmentType: assignment.type, // Add the actual assignment type
+      timestamp: assignment.assignedDate,
+      createdAt: assignment.assignedDate,
+      category: assignment.subject || 'assignment',
+      points: assignment.totalMarks || 0,
+      action: `Assignment: ${assignment.title}`,
+      message: `New assignment: ${assignment.title}`,
+      location: 'Classroom',
+      time: assignment.assignedDate.toLocaleTimeString(),
+      color: getActivityColor('assignment'),
+      dueDate: assignment.dueDate,
+      teacher: assignment.teacherId?.name || 'Teacher',
+      priority: assignment.priority,
+      status: assignment.status,
+      subject: assignment.subject,
+      className: assignment.className,
+      createdBy: assignment.teacherId?.name || 'Teacher',
+      questions: assignment.questions,
+      instructions: assignment.instructions,
+      duration: assignment.duration,
+      allowRetake: assignment.allowRetake,
+      maxAttempts: assignment.maxAttempts,
+      gradingType: assignment.gradingType,
+      createdByRole: 'teacher',
+      // Add submission status for students
+      submissionStatus: assignmentSubmissionStatus[assignment._id.toString()] || null,
+      canDelete: user.role === 'school_student' && assignmentSubmissionStatus[assignment._id.toString()]?.status === 'submitted'
+    }));
+
+    // Transform tasks
+    const transformedTasks = tasks.map(task => ({
+      _id: task._id,
+      title: task.title,
+      description: task.description || `Task: ${task.title}`,
+      type: 'task',
+      timestamp: task.assignedDate,
+      createdAt: task.assignedDate,
+      category: task.subject || 'task',
+      points: task.points || 0,
+      action: `Task: ${task.title}`,
+      message: `New task: ${task.title}`,
+      location: task.location || 'Classroom',
+      time: task.assignedDate.toLocaleTimeString(),
+      color: getActivityColor('task'),
+      dueDate: task.dueDate,
+      teacher: task.createdBy?.name || 'Teacher',
+      priority: task.priority,
+      status: task.status,
+      subject: task.subject,
+      className: task.className,
+      createdBy: task.createdBy?.name || 'Teacher',
+      createdByRole: 'teacher',
+      taskType: task.type
+    }));
+
+    // Transform challenges
+    const transformedChallenges = challenges.map(challenge => ({
+      _id: challenge._id,
+      title: challenge.title,
+      description: challenge.description || `Challenge: ${challenge.title}`,
+      type: 'challenge',
+      timestamp: challenge.startDate,
+      createdAt: challenge.startDate,
+      category: challenge.type || 'challenge',
+      points: challenge.points || 0,
+      action: `Challenge: ${challenge.title}`,
+      message: `New challenge: ${challenge.title}`,
+      location: 'Classroom',
+      time: challenge.startDate.toLocaleTimeString(),
+      color: getActivityColor('challenge'),
+      startDate: challenge.startDate,
+      endDate: challenge.endDate,
+      teacher: challenge.createdBy?.name || 'Teacher',
+      difficulty: challenge.difficulty,
+      status: challenge.status,
+      subject: challenge.subject,
+      className: challenge.className,
+      createdBy: challenge.createdBy?.name || 'Teacher',
+      createdByRole: 'teacher',
+      challengeType: challenge.type,
+      duration: challenge.duration
+    }));
+
+    // Transform activities
+    const transformedActivities = activities.map(activity => ({
+      _id: activity._id,
+      title: activity.title,
+      description: activity.description || `Activity: ${activity.title}`,
+      type: 'activity',
+      timestamp: activity.scheduledDate,
+      createdAt: activity.scheduledDate,
+      category: activity.type || 'activity',
+      points: activity.points || 0,
+      action: `Activity: ${activity.title}`,
+      message: `New activity: ${activity.title}`,
+      location: activity.location || 'Classroom',
+      time: activity.scheduledDate.toLocaleTimeString(),
+      color: getActivityColor('activity'),
+      scheduledDate: activity.scheduledDate,
+      duration: activity.duration,
+      teacher: activity.createdBy?.name || 'Teacher',
+      status: activity.status,
+      subject: activity.subject,
+      className: activity.className,
+      createdBy: activity.createdBy?.name || 'Teacher',
+      createdByRole: 'teacher',
+      activityType: activity.type,
+      objectives: activity.objectives
+    }));
+
+    // Combine and sort all content
+    const allContent = [
+      ...transformedAssignments,
+      ...transformedTasks,
+      ...transformedChallenges,
+      ...transformedActivities
+    ].sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
+
+    // If no content found and user is not a school student, return empty array with success
+    if (allContent.length === 0 && user.role !== 'school_student') {
+      console.log('â„¹ï¸ No content found for non-school student, returning empty array');
+    }
+
+    console.log('âœ… getStudentActivity returning:', { 
+      totalContent: allContent.length,
+      assignments: transformedAssignments.length,
+      tasks: transformedTasks.length,
+      challenges: transformedChallenges.length,
+      activities: transformedActivities.length,
+      studentClassId: classId,
+      studentRole: user.role
+    });
+
+    res.status(200).json({
+      success: true,
+      activities: allContent
+    });
+  } catch (err) {
+    console.error('âŒ Error in getStudentActivity:', err);
+    next(err);
+  }
+};
+
+// Get student activity statistics
+export const getStudentActivityStats = async (req, res, next) => {
+  try {
+    console.log('ðŸ” getStudentActivityStats called with:', { 
+      userId: req.user?._id,
+      userRole: req.user?.role 
+    });
+    
+    const userId = req.user._id;
+    const user = req.user;
+
+    // Validate user object
+    if (!user) {
+      console.error('âŒ User object is null or undefined');
+      return res.status(401).json({ 
+        success: false, 
+        message: 'User not authenticated' 
+      });
+    }
+
+    // Get tenantId from request (set by tenant middleware) or user object
+    const tenantId = req.tenantId || user.tenantId || 'default';
+
+    const now = new Date();
+    const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
+    const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);
+
+    // Get activity counts with error handling
+    let totalActivities = 0;
+    let weekActivities = 0;
+    let monthActivities = 0;
+    let gamesPlayed = 0;
+    let lessonsCompleted = 0;
+    let walletTransactions = 0;
+
+    try {
+      [totalActivities, weekActivities, monthActivities, gamesPlayed, lessonsCompleted, walletTransactions] = await Promise.all([
+        ActivityLog.countDocuments({ userId }),
+        ActivityLog.countDocuments({ 
+          userId, 
+          timestamp: { $gte: weekAgo } 
+        }),
+        ActivityLog.countDocuments({ 
+          userId, 
+          timestamp: { $gte: monthAgo } 
+        }),
+        GameProgress.countDocuments({ 
+          userId,
+          progress: { $gt: 0 }
+        }),
+        GameProgress.countDocuments({ 
+          userId,
+          progress: 100
+        }),
+        Transaction.countDocuments({ 
+          userId,
+          type: 'earned'
+        })
+      ]);
+    } catch (statsError) {
+      console.error('âŒ Error getting basic stats:', statsError);
+      // Continue with default values
+    }
+
+    // Get assignment statistics for school students
+    let assignmentsAssigned = 0;
+    let assignmentsCompleted = 0;
+    let assignmentsPending = 0;
+    
+    if (user.role === 'school_student') {
+      try {
+        const schoolStudent = await SchoolStudent.findOne({ userId, tenantId }).populate('classId');
+        if (schoolStudent && schoolStudent.classId) {
+          // Get assignments assigned to the student's class
+          assignmentsAssigned = await Assignment.countDocuments({
+            classId: schoolStudent.classId._id,
+            isActive: true,
+            assignedDate: { $gte: monthAgo },
+            tenantId
+          });
+
+          // Get assignments completed by the student
+          assignmentsCompleted = await Assignment.countDocuments({
+            classId: schoolStudent.classId._id,
+            isActive: true,
+            'submissions.studentId': userId,
+            'submissions.status': 'submitted',
+            tenantId
+          });
+
+          // Get pending assignments
+          assignmentsPending = await Assignment.countDocuments({
+            classId: schoolStudent.classId._id,
+            isActive: true,
+            dueDate: { $gte: now },
+            'submissions.studentId': { $ne: userId },
+            tenantId
+          });
+        }
+      } catch (statsError) {
+        console.error('âŒ Error getting assignment stats:', statsError);
+        // Continue with default values
+      }
+    }
+
+    // Calculate trends (simplified)
+    const activitiesTrend = weekActivities > 0 ? Math.round((weekActivities / 7) * 30) : 0;
+    const gamesTrend = gamesPlayed > 0 ? Math.round((gamesPlayed / 30) * 100) : 0;
+    const lessonsTrend = lessonsCompleted > 0 ? Math.round((lessonsCompleted / 30) * 100) : 0;
+    const assignmentsTrend = assignmentsAssigned > 0 ? Math.round((assignmentsCompleted / assignmentsAssigned) * 100) : 0;
+
+    console.log('âœ… getStudentActivityStats returning:', { 
+      totalActivities,
+      gamesPlayed,
+      lessonsCompleted,
+      assignmentsAssigned,
+      assignmentsCompleted,
+      assignmentsPending
+    });
+
+    res.status(200).json({
+      success: true,
+      totalActivities,
+      gamesPlayed,
+      lessonsCompleted,
+      assignmentsAssigned,
+      assignmentsCompleted,
+      assignmentsPending,
+      challengesWon: 0, // No challenges anymore
+      walletTransactions,
+      activitiesTrend,
+      gamesTrend,
+      lessonsTrend,
+      assignmentsTrend,
+      challengesTrend: 0 // No challenges anymore
+    });
+  } catch (err) {
+    console.error('âŒ Error in getStudentActivityStats:', err);
+    next(err);
+  }
+};
+
+// Helper function to get activity color
+const getActivityColor = (activityType) => {
+  const colorMap = {
+    'game': 'blue',
+    'lesson': 'green',
+    'challenge': 'purple',
+    'achievement': 'orange',
+    'quiz': 'pink',
+    'mood': 'red',
+    'wallet': 'yellow',
+    'level_up': 'violet',
+    'assignment': 'indigo',
+    'task': 'teal',
+    'activity': 'emerald'
+  };
+  return colorMap[activityType] || 'gray';
 };
\ No newline at end of file
diff --git a/backend/controllers/challengeController.js b/backend/controllers/challengeController.js
deleted file mode 100644
index 68161f5..0000000
--- a/backend/controllers/challengeController.js
+++ /dev/null
@@ -1,211 +0,0 @@
-import Challenge from '../models/Challenge.js';
-import ChallengeProgress from '../models/ChallengeProgress.js';
-
-// ðŸ“¥ GET /api/challenges
-export const getAllChallenges = async (req, res) => {
-  try {
-    const challenges = await Challenge.find({});
-    res.status(200).json(challenges);
-  } catch (err) {
-    console.error('âŒ Failed to fetch challenges:', err);
-    res.status(500).json({ error: 'Server error while fetching challenges' });
-  }
-};
-
-// ðŸ“¥ GET /api/challenges/active
-export const getActiveChallenges = async (req, res) => {
-  try {
-    const today = new Date();
-    const challenges = await Challenge.find({
-      startDate: { $lte: today },
-      endDate: { $gte: today }
-    });
-    res.status(200).json(challenges);
-  } catch (err) {
-    console.error('âŒ Failed to fetch active challenges:', err);
-    res.status(500).json({ error: 'Server error while fetching active challenges' });
-  }
-};
-
-// ðŸ“¥ GET /api/challenges/:id
-export const getChallengeById = async (req, res) => {
-  const { id } = req.params;
-  
-  try {
-    const challenge = await Challenge.findById(id);
-    if (!challenge) {
-      return res.status(404).json({ error: 'Challenge not found' });
-    }
-    res.status(200).json(challenge);
-  } catch (err) {
-    console.error('âŒ Failed to fetch challenge:', err);
-    res.status(500).json({ error: 'Server error while fetching challenge' });
-  }
-};
-
-// âœ… POST /api/challenges/start/:challengeId
-export const startChallenge = async (req, res) => {
-  const userId = req.user?._id;
-  const { challengeId } = req.params;
-
-  try {
-    const challenge = await Challenge.findById(challengeId);
-    if (!challenge) return res.status(404).json({ error: 'Challenge not found' });
-
-    let progress = await ChallengeProgress.findOne({ 
-      userId,
-      challengeId
-    });
-
-    if (progress) {
-      return res.status(400).json({ error: 'Challenge already started' });
-    }
-
-    // Create new progress record
-    progress = await ChallengeProgress.create({
-      userId,
-      challengeId,
-      currentStep: 0,
-      startedAt: new Date(),
-      completedSteps: [],
-      isCompleted: false
-    });
-
-    res.status(200).json({
-      message: 'ðŸŽ‰ Challenge started!',
-      progress
-    });
-  } catch (err) {
-    console.error('âŒ Challenge start error:', err);
-    res.status(500).json({ error: 'Failed to start challenge' });
-  }
-};
-
-// âœ… POST /api/challenges/progress/:challengeId
-export const updateChallengeProgress = async (req, res) => {
-  const userId = req.user?._id;
-  const { challengeId } = req.params;
-  const { stepCompleted } = req.body;
-
-  try {
-    const challenge = await Challenge.findById(challengeId);
-    if (!challenge) return res.status(404).json({ error: 'Challenge not found' });
-
-    let progress = await ChallengeProgress.findOne({ 
-      userId,
-      challengeId
-    });
-
-    if (!progress) {
-      return res.status(404).json({ error: 'Challenge not started yet' });
-    }
-
-    // Check if step is already completed
-    if (progress.completedSteps.includes(stepCompleted)) {
-      return res.status(400).json({ error: 'Step already completed' });
-    }
-
-    // Update progress
-    progress.completedSteps.push(stepCompleted);
-    progress.currentStep = progress.completedSteps.length;
-    
-    // Check if all steps are completed
-    if (progress.currentStep >= challenge.completionSteps) {
-      progress.isCompleted = true;
-      progress.completedAt = new Date();
-    }
-
-    await progress.save();
-
-    // If challenge is completed, update user XP and coins
-    if (progress.isCompleted) {
-      // Update user stats (this would typically be handled by a user service)
-      // For now, we'll just return the rewards info
-      res.status(200).json({
-        message: 'ðŸŽ‰ Challenge completed!',
-        progress,
-        rewards: {
-          xp: challenge.xpReward,
-          coins: challenge.coinReward
-        }
-      });
-    } else {
-      res.status(200).json({
-        message: 'ðŸ‘ Progress updated!',
-        progress
-      });
-    }
-  } catch (err) {
-    console.error('âŒ Challenge progress update error:', err);
-    res.status(500).json({ error: 'Failed to update challenge progress' });
-  }
-};
-
-// ðŸ“Š GET /api/challenges/progress
-export const getUserChallengeProgress = async (req, res) => {
-  const userId = req.user?._id;
-  
-  try {
-    // Find all progress records for this user
-    const progressRecords = await ChallengeProgress.find({ userId })
-      .populate('challengeId');
-    
-    // Format the progress as an object with challengeId as keys
-    const progressMap = {};
-    
-    progressRecords.forEach(record => {
-      if (record.challengeId && record.challengeId._id) {
-        progressMap[record.challengeId._id.toString()] = {
-          currentStep: record.currentStep,
-          completedSteps: record.completedSteps,
-          isCompleted: record.isCompleted,
-          startedAt: record.startedAt,
-          completedAt: record.completedAt
-        };
-      }
-    });
-    
-    // Calculate completed today count
-    const today = new Date();
-    today.setHours(0, 0, 0, 0);
-    
-    const completedToday = progressRecords.filter(record => {
-      return record.isCompleted && record.completedAt && new Date(record.completedAt) >= today;
-    }).length;
-    
-    // Calculate streak (simplified version)
-    // In a real app, you'd have more complex streak logic
-    const streak = 1; // Placeholder for actual streak calculation
-    
-    res.status(200).json({
-      progress: progressMap,
-      completedToday,
-      streak
-    });
-  } catch (err) {
-    console.error('âŒ Challenge progress fetch error:', err);
-    res.status(500).json({ error: 'Failed to fetch challenge progress' });
-  }
-};
-
-// ðŸ“Š GET /api/challenges/progress/:challengeId
-export const getUserChallengeProgressById = async (req, res) => {
-  const userId = req.user?._id;
-  const { challengeId } = req.params;
-  
-  try {
-    const progress = await ChallengeProgress.findOne({ 
-      userId,
-      challengeId
-    }).populate('challengeId');
-
-    if (!progress) {
-      return res.status(404).json({ error: 'Challenge progress not found' });
-    }
-
-    res.status(200).json(progress);
-  } catch (err) {
-    console.error('âŒ Challenge progress fetch error:', err);
-    res.status(500).json({ error: 'Failed to fetch challenge progress' });
-  }
-};
\ No newline at end of file
diff --git a/backend/controllers/csrKPIController.js b/backend/controllers/csrKPIController.js
index 239be38..b31b266 100644
--- a/backend/controllers/csrKPIController.js
+++ b/backend/controllers/csrKPIController.js
@@ -1,6 +1,5 @@
 import CSRKPI from '../models/CSRKPI.js';
 import User from '../models/User.js';
-import Challenge from '../models/Challenge.js';
 import VoucherRedemption from '../models/VoucherRedemption.js';
 import GameProgress from '../models/GameProgress.js';
 import Wallet from '../models/Wallet.js';
@@ -89,35 +88,8 @@ const calculateFreshKPIs = async (period, region, organizationId) => {
     { $sort: { count: -1 } }
   ]);
 
-  // 2. Campaign Completion Rate
-  const campaigns = await Challenge.find({ 
-    ...baseQuery,
-    type: 'campaign'
-  });
-  
-  const campaignCompletionData = await Promise.all(campaigns.map(async (campaign) => {
-    const participants = await User.find({ 
-      role: 'student',
-      'challenges.challengeId': campaign._id 
-    });
-    
-    const completedParticipants = participants.filter(p => 
-      p.challenges.find(c => c.challengeId.toString() === campaign._id.toString())?.status === 'completed'
-    );
-    
-    return {
-      campaignId: campaign._id,
-      campaignName: campaign.title,
-      totalParticipants: participants.length,
-      completedParticipants: completedParticipants.length,
-      completionRate: participants.length > 0 ? (completedParticipants.length / participants.length) * 100 : 0,
-      startDate: campaign.startDate,
-      endDate: campaign.endDate,
-      targetAudience: campaign.targetAudience || 'All Students',
-      objectives: campaign.objectives || [],
-      status: campaign.status || 'active'
-    };
-  }));
+  // 2. Campaign Completion Rate (Disabled - Challenge model removed)
+  const campaignCompletionData = [];
 
   // 3. Engagement Lift vs Baseline
   const engagementMetrics = await calculateEngagementMetrics(baseQuery, dateRange);
@@ -257,7 +229,7 @@ const calculateBudgetMetrics = async (baseQuery, dateRange) => {
 
 // Calculate certificates data
 const calculateCertificatesData = async (baseQuery, dateRange) => {
-  // Get students who completed challenges/games (simplified certificate logic)
+  // Get students who completed games (simplified certificate logic)
   const students = await User.find({ ...baseQuery, role: 'student' });
   const gameProgress = await GameProgress.find({
     userId: { $in: students.map(s => s._id) },
diff --git a/backend/controllers/dailyChallengeController.js b/backend/controllers/dailyChallengeController.js
deleted file mode 100644
index 81899e7..0000000
--- a/backend/controllers/dailyChallengeController.js
+++ /dev/null
@@ -1,414 +0,0 @@
-import Challenge from '../models/Challenge.js';
-import ChallengeProgress from '../models/ChallengeProgress.js';
-import UserProgress from '../models/UserProgress.js';
-import User from '../models/User.js';
-import Wallet from '../models/Wallet.js';
-import Transaction from '../models/Transaction.js';
-import { addXP } from './userProgressController.js';
-
-// Helper function to generate a random daily challenge
-const generateDailyChallenge = async (userId) => {
-  try {
-    // Get the current date at midnight (to ensure consistent daily challenges)
-    const today = new Date();
-    today.setHours(0, 0, 0, 0);
-    
-    // Check if a daily challenge already exists for today
-    const existingChallenge = await Challenge.findOne({
-      title: { $regex: `Daily Challenge - ${today.toISOString().split('T')[0]}` },
-      category: 'daily'
-    });
-    
-    if (existingChallenge) {
-      return existingChallenge;
-    }
-    
-    // Create a new daily challenge
-    const dailyChallenge = new Challenge({
-      title: `Daily Challenge - ${today.toISOString().split('T')[0]}`,
-      description: 'Complete this daily challenge to earn rewards!',
-      category: 'daily',
-      difficulty: 'Easy',
-      xpReward: 25,
-      coinReward: 15,
-      estimatedTime: '5-10 minutes',
-      completionSteps: 1,
-      benefits: ['Improve financial discipline', 'Build daily habits'],
-      startDate: today,
-      endDate: new Date(today.getTime() + 24 * 60 * 60 * 1000), // 24 hours from now
-      isActive: true,
-      iconName: 'Calendar',
-      gradientColors: 'from-green-400 to-emerald-500'
-    });
-    
-    await dailyChallenge.save();
-    return dailyChallenge;
-  } catch (error) {
-    console.error('Error generating daily challenge:', error);
-    throw error;
-  }
-};
-
-// Helper function to generate a weekly challenge
-const generateWeeklyChallenge = async () => {
-  try {
-    // Get the current week start (Sunday)
-    const today = new Date();
-    const dayOfWeek = today.getDay(); // 0 = Sunday, 1 = Monday, etc.
-    const startOfWeek = new Date(today);
-    startOfWeek.setDate(today.getDate() - dayOfWeek);
-    startOfWeek.setHours(0, 0, 0, 0);
-    
-    // Check if a weekly challenge already exists for this week
-    const existingChallenge = await Challenge.findOne({
-      title: { $regex: `Weekly Challenge - Week ${getWeekNumber(today)}` },
-      category: 'weekly'
-    });
-    
-    if (existingChallenge) {
-      return existingChallenge;
-    }
-    
-    // Create a new weekly challenge
-    const weeklyChallenge = new Challenge({
-      title: `Weekly Challenge - Week ${getWeekNumber(today)}`,
-      description: 'Complete this weekly challenge to earn bigger rewards!',
-      category: 'weekly',
-      difficulty: 'Medium',
-      xpReward: 100,
-      coinReward: 50,
-      estimatedTime: '30 minutes',
-      completionSteps: 3,
-      benefits: ['Build financial discipline', 'Develop long-term habits', 'Earn bonus rewards'],
-      startDate: startOfWeek,
-      endDate: new Date(startOfWeek.getTime() + 7 * 24 * 60 * 60 * 1000), // 7 days from start of week
-      isActive: true,
-      iconName: 'Trophy',
-      gradientColors: 'from-purple-500 to-indigo-600'
-    });
-    
-    await weeklyChallenge.save();
-    return weeklyChallenge;
-  } catch (error) {
-    console.error('Error generating weekly challenge:', error);
-    throw error;
-  }
-};
-
-// Helper function to get the week number of the year
-const getWeekNumber = (date) => {
-  const firstDayOfYear = new Date(date.getFullYear(), 0, 1);
-  const pastDaysOfYear = (date - firstDayOfYear) / 86400000;
-  return Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7);
-};
-
-// Get the current daily challenge for the user
-export const getDailyChallenge = async (req, res) => {
-  try {
-    const userId = req.user._id;
-    
-    // Generate or get the daily challenge
-    const dailyChallenge = await generateDailyChallenge(userId);
-    
-    // Check if the user has already started this challenge
-    let progress = await ChallengeProgress.findOne({
-      userId,
-      challengeId: dailyChallenge._id
-    });
-    
-    // If not, create a new progress entry
-    if (!progress) {
-      progress = new ChallengeProgress({
-        userId,
-        challengeId: dailyChallenge._id,
-        currentStep: 0,
-        completedSteps: [],
-        startedAt: new Date(),
-        isCompleted: false
-      });
-      await progress.save();
-    }
-    
-    res.status(200).json({
-      challenge: dailyChallenge,
-      progress
-    });
-  } catch (error) {
-    console.error('Error getting daily challenge:', error);
-    res.status(500).json({ error: 'Failed to get daily challenge' });
-  }
-};
-
-// Get 10 unique daily challenges for the user
-export const getDailyChallenges = async (req, res) => {
-  try {
-    const userId = req.user._id;
-    const today = new Date();
-    today.setHours(0, 0, 0, 0);
-
-    // Find or create a field on the user to track completed challenge IDs
-    let user = await User.findById(userId);
-    if (!user) return res.status(404).json({ error: 'User not found' });
-    if (!user.completedChallengeIds) user.completedChallengeIds = [];
-    if (!user.dailyChallengeHistory) user.dailyChallengeHistory = {};
-
-    // If all 1000 are completed, reset
-    const totalChallenges = await Challenge.countDocuments();
-    if (user.completedChallengeIds.length >= totalChallenges) {
-      user.completedChallengeIds = [];
-    }
-
-    // Check if today's challenges are already set
-    const todayKey = today.toISOString().split('T')[0];
-    let todaysChallengeIds = user.dailyChallengeHistory[todayKey];
-    if (!todaysChallengeIds) {
-      // Get all challenge IDs not yet completed
-      const allIds = (await Challenge.find({}, '_id')).map(c => c._id.toString());
-      const availableIds = allIds.filter(id => !user.completedChallengeIds.includes(id));
-      // Shuffle and pick 10
-      for (let i = availableIds.length - 1; i > 0; i--) {
-        const j = Math.floor(Math.random() * (i + 1));
-        [availableIds[i], availableIds[j]] = [availableIds[j], availableIds[i]];
-      }
-      todaysChallengeIds = availableIds.slice(0, 10);
-      user.dailyChallengeHistory[todayKey] = todaysChallengeIds;
-      await user.save();
-    }
-
-    // Fetch the 10 challenges
-    const challenges = await Challenge.find({ _id: { $in: todaysChallengeIds } });
-
-    // Get progress for each challenge and create if missing
-    const progresses = await ChallengeProgress.find({
-      userId,
-      challengeId: { $in: todaysChallengeIds }
-    });
-    const progressMap = {};
-    progresses.forEach(p => { progressMap[p.challengeId.toString()] = p; });
-
-    // Create missing progress records
-    const missingProgressIds = todaysChallengeIds.filter(id => !progressMap[id]);
-    if (missingProgressIds.length > 0) {
-      const newProgresses = missingProgressIds.map(challengeId => ({
-        userId,
-        challengeId,
-        currentStep: 0,
-        completedSteps: [],
-        startedAt: new Date(),
-        isCompleted: false
-      }));
-      
-      const createdProgresses = await ChallengeProgress.insertMany(newProgresses);
-      createdProgresses.forEach(p => { progressMap[p.challengeId.toString()] = p; });
-    }
-
-    res.status(200).json({
-      challenges: challenges.map(ch => ({
-        challenge: ch,
-        progress: progressMap[ch._id.toString()] || {
-          currentStep: 0,
-          completedSteps: [],
-          isCompleted: false,
-          startedAt: new Date(),
-          userId,
-          challengeId: ch._id
-        }
-      }))
-    });
-  } catch (error) {
-    console.error('Error getting daily challenges:', error);
-    res.status(500).json({ error: 'Failed to get daily challenges' });
-  }
-};
-
-// Get the current weekly challenge for the user
-export const getWeeklyChallenge = async (req, res) => {
-  try {
-    const userId = req.user._id;
-    
-    // Generate or get the weekly challenge
-    const weeklyChallenge = await generateWeeklyChallenge();
-    
-    // Check if the user has already started this challenge
-    let progress = await ChallengeProgress.findOne({
-      userId,
-      challengeId: weeklyChallenge._id
-    });
-    
-    // If not, create a new progress entry
-    if (!progress) {
-      progress = new ChallengeProgress({
-        userId,
-        challengeId: weeklyChallenge._id,
-        currentStep: 0,
-        completedSteps: [],
-        startedAt: new Date(),
-        isCompleted: false
-      });
-      await progress.save();
-    }
-    
-    res.status(200).json({
-      challenge: weeklyChallenge,
-      progress
-    });
-  } catch (error) {
-    console.error('Error getting weekly challenge:', error);
-    res.status(500).json({ error: 'Failed to get weekly challenge' });
-  }
-};
-
-// Update progress for a daily or weekly challenge
-export const updateChallengeProgress = async (req, res) => {
-  try {
-    const userId = req.user._id;
-    const { challengeId } = req.params;
-    const { step } = req.body;
-    
-    // Find the challenge
-    const challenge = await Challenge.findById(challengeId);
-    if (!challenge) {
-      return res.status(404).json({ error: 'Challenge not found' });
-    }
-    
-    // Find or create the user's progress for this challenge
-    let progress = await ChallengeProgress.findOne({ userId, challengeId });
-    
-    if (!progress) {
-      // Create new progress if it doesn't exist
-      progress = new ChallengeProgress({
-        userId,
-        challengeId,
-        currentStep: 0,
-        completedSteps: [],
-        startedAt: new Date(),
-        isCompleted: false
-      });
-      await progress.save();
-    }
-    
-    // Check if the challenge is already completed
-    if (progress.isCompleted) {
-      return res.status(400).json({ error: 'Challenge already completed' });
-    }
-    
-    // Check if the step is already completed
-    if (progress.completedSteps.includes(step)) {
-      return res.status(400).json({ error: 'Step already completed' });
-    }
-    
-    // Update the progress
-    progress.completedSteps.push(step);
-    progress.currentStep = Math.max(progress.currentStep, step);
-    
-    // Check if all steps are completed
-    if (progress.completedSteps.length >= challenge.completionSteps) {
-      progress.isCompleted = true;
-      progress.completedAt = new Date();
-      
-      // Award XP and coins
-      const xpResult = await addXP(req.user._id, challenge.xpReward);
-      
-      // Add coins to wallet
-      let wallet = await Wallet.findOne({ userId });
-      if (!wallet) {
-        wallet = new Wallet({ userId, balance: 0 });
-      }
-      
-      wallet.balance += challenge.coinReward;
-      wallet.totalEarned += challenge.coinReward;
-      await wallet.save();
-      
-      // Record the transaction
-      const transaction = new Transaction({
-        userId,
-        amount: challenge.coinReward,
-        type: 'credit',
-        description: `Completed ${challenge.category} challenge: ${challenge.title}`,
-        status: 'completed'
-      });
-      await transaction.save();
-
-      // Mark challenge as completed for this user to avoid repeats
-      const user = await User.findById(userId);
-      if (user) {
-        if (!user.completedChallengeIds) user.completedChallengeIds = [];
-        if (!user.completedChallengeIds.includes(challengeId.toString())) {
-          user.completedChallengeIds.push(challengeId.toString());
-          await user.save();
-        }
-      }
-      
-      // Emit socket event for real-time updates
-      const io = req.app.get('io');
-      if (io) {
-        io.to(userId.toString()).emit('challenge-completed', {
-          challenge,
-          rewards: {
-            xp: challenge.xpReward,
-            coins: challenge.coinReward,
-            levelUp: xpResult.levelUp
-          }
-        });
-      }
-    }
-    
-    await progress.save();
-    
-    res.status(200).json({
-      progress,
-      isCompleted: progress.isCompleted,
-      rewards: progress.isCompleted ? {
-        xp: challenge.xpReward,
-        coins: challenge.coinReward
-      } : null
-    });
-  } catch (error) {
-    console.error('Error updating challenge progress:', error);
-    res.status(500).json({ error: 'Failed to update challenge progress' });
-  }
-};
-
-// Get all active challenges (daily and weekly) for the user
-export const getActiveChallenges = async (req, res) => {
-  try {
-    const userId = req.user._id;
-    
-    // Generate or get the daily and weekly challenges
-    const dailyChallenge = await generateDailyChallenge();
-    const weeklyChallenge = await generateWeeklyChallenge();
-    
-    // Get the user's progress for these challenges
-    const dailyProgress = await ChallengeProgress.findOne({
-      userId,
-      challengeId: dailyChallenge._id
-    }) || {
-      currentStep: 0,
-      completedSteps: [],
-      isCompleted: false
-    };
-    
-    const weeklyProgress = await ChallengeProgress.findOne({
-      userId,
-      challengeId: weeklyChallenge._id
-    }) || {
-      currentStep: 0,
-      completedSteps: [],
-      isCompleted: false
-    };
-    
-    res.status(200).json({
-      daily: {
-        challenge: dailyChallenge,
-        progress: dailyProgress
-      },
-      weekly: {
-        challenge: weeklyChallenge,
-        progress: weeklyProgress
-      }
-    });
-  } catch (error) {
-    console.error('Error getting active challenges:', error);
-    res.status(500).json({ error: 'Failed to get active challenges' });
-  }
-};
\ No newline at end of file
diff --git a/backend/controllers/schoolController.js b/backend/controllers/schoolController.js
index 6ef698c..1531a1a 100644
--- a/backend/controllers/schoolController.js
+++ b/backend/controllers/schoolController.js
@@ -10,6 +10,7 @@ import ActivityLog from '../models/ActivityLog.js';
 import MoodLog from '../models/MoodLog.js';
 import Notification from '../models/Notification.js';
 import Assignment from '../models/Assignment.js';
+import AssignmentAttempt from '../models/AssignmentAttempt.js';
 import Timetable from '../models/Timetable.js';
 import Announcement from '../models/Announcement.js';
 import Template from '../models/Template.js';
@@ -434,7 +435,7 @@ export const createTeacher = async (req, res) => {
   try {
     const { tenantId } = req;
     const orgId = req.user?.orgId;
-    const { name, email, phone, subject, qualification, experience, joiningDate, password } = req.body;
+    const { name, email, phone, subject, qualification, experience, joiningDate, password, pronouns, customPronouns } = req.body;
 
     if (!name || !email || !subject) {
       return res.status(400).json({ message: 'Missing required fields: name, email, and subject are required' });
@@ -452,6 +453,9 @@ export const createTeacher = async (req, res) => {
     console.log('Creating teacher with password:', defaultPassword);
     const hashedPassword = await bcrypt.hash(defaultPassword, 10);
     
+    // Determine final pronouns value
+    const finalPronouns = pronouns === 'other' ? customPronouns : pronouns;
+
     const teacher = await User.create({
       name,
       email,
@@ -461,6 +465,7 @@ export const createTeacher = async (req, res) => {
       orgId,
       phone,
       subject,
+      pronouns: finalPronouns || '',
       metadata: {
         qualification: qualification || '',
         experience: parseInt(experience) || 0,
@@ -492,7 +497,8 @@ export const createTeacher = async (req, res) => {
         name: teacher.name,
         email: teacher.email,
         subject: teacher.subject,
-        phone: teacher.phone
+        phone: teacher.phone,
+        pronouns: teacher.pronouns
       }
     });
   } catch (error) {
@@ -650,9 +656,12 @@ export const getTeacherClasses = async (req, res) => {
   try {
     const { tenantId, user, isLegacyUser } = req;
 
-    // Build query based on user type
+    // Build query based on user type - check both classTeacher and subject teachers
     const query = {
-      'sections.classTeacher': user._id
+      $or: [
+        { 'sections.classTeacher': user._id },
+        { 'subjects.teachers': user._id }
+      ]
     };
     
     // Add tenantId filter for multi-tenant users
@@ -664,52 +673,69 @@ export const getTeacherClasses = async (req, res) => {
 
     const classes = await SchoolClass.find(query)
       .populate('sections.classTeacher', 'name email')
-      .select('classNumber stream sections academicYear')
+      .populate('subjects.teachers', 'name email')
+      .select('classNumber stream sections subjects academicYear isActive')
       .catch(err => {
         console.error('SchoolClass query error:', err);
         return [];
       });
 
-    // If no classes found, return mock data for demo purposes
+    // If no classes found where teacher is assigned, get all active classes for the school
     if (classes.length === 0) {
-      return res.json([
-        {
-          _id: 'mock-class-1',
-          name: 'Class 10A',
-          students: 42,
-          sections: 2,
-          academicYear: '2024-25',
-          avg: 85
-        },
-        {
-          _id: 'mock-class-2',
-          name: 'Class 9B',
-          students: 38,
-          sections: 2,
-          academicYear: '2024-25',
-          avg: 82
-        },
-        {
-          _id: 'mock-class-3',
-          name: 'Class 8A',
-          students: 35,
-          sections: 1,
-          academicYear: '2024-25',
-          avg: 88
-        }
-      ]);
+      console.log('No classes found for teacher, fetching all available classes');
+      
+      // Get all active classes for the school
+      const allClassesQuery = {
+        isActive: true
+      };
+      
+      if (!isLegacyUser && tenantId) {
+        allClassesQuery.tenantId = tenantId;
+      } else if (isLegacyUser) {
+        allClassesQuery.allowLegacy = true;
+      }
+
+      const allClasses = await SchoolClass.find(allClassesQuery)
+        .populate('sections.classTeacher', 'name email')
+        .populate('subjects.teachers', 'name email')
+        .select('classNumber stream sections subjects academicYear isActive')
+        .limit(10); // Limit to 10 classes to avoid overwhelming the UI
+
+      // Transform the classes to include proper names and IDs
+      const transformedClasses = allClasses.map(cls => ({
+        _id: cls._id,
+        name: `Class ${cls.classNumber}${cls.stream ? ` ${cls.stream}` : ''}`,
+        classNumber: cls.classNumber,
+        stream: cls.stream,
+        sections: cls.sections,
+        subjects: cls.subjects,
+        academicYear: cls.academicYear,
+        isActive: cls.isActive
+      }));
+
+      return res.json({
+        success: true,
+        classes: transformedClasses,
+        message: 'Showing all available classes. Contact admin to assign you to specific classes.'
+      });
     }
 
-    const classesWithStats = classes.map(cls => ({
+    // Transform the classes to include proper names and IDs
+    const transformedClasses = classes.map(cls => ({
       _id: cls._id,
       name: `Class ${cls.classNumber}${cls.stream ? ` ${cls.stream}` : ''}`,
-      students: cls.sections.reduce((sum, section) => sum + section.currentStrength, 0),
-      sections: cls.sections.length,
+      classNumber: cls.classNumber,
+      stream: cls.stream,
+      sections: cls.sections,
+      subjects: cls.subjects,
       academicYear: cls.academicYear,
-      avg: 85 // TODO: Calculate from student performance
+      isActive: cls.isActive
     }));
 
-    res.json(classesWithStats);
+    res.json({
+      success: true,
+      classes: transformedClasses
+    });
   } catch (error) {
     console.error('Error fetching teacher classes:', error);
     res.status(500).json({ message: 'Server error', error: error.message });
@@ -720,20 +746,84 @@ export const getTeacherClasses = async (req, res) => {
 export const getTeacherAssignments = async (req, res) => {
   try {
     const { tenantId, user } = req;
+    const { type, status, search } = req.query;
 
-    const assignments = await Assignment.find({
+    // Build query filters
+    const query = {
       tenantId,
       teacherId: user._id,
-      isActive: true
-    })
+      isActive: true,
+      hiddenFromTeacher: { $ne: true } // Exclude assignments hidden from teacher
+    };
+
+    if (type && type !== 'all') {
+      query.type = type;
+    }
+
+    if (status && status !== 'all') {
+      query.status = status;
+    }
+
+    if (search) {
+      query.$or = [
+        { title: { $regex: search, $options: 'i' } },
+        { description: { $regex: search, $options: 'i' } },
+        { subject: { $regex: search, $options: 'i' } }
+      ];
+    }
+
+    const assignments = await Assignment.find(query)
+      .populate('classId', 'name section academicYear')
+      .populate('assignedToClasses', 'name section academicYear')
       .sort({ dueDate: 1 })
-      .limit(10)
       .lean();
 
-    res.json(assignments);
+    // Get basic stats for each assignment
+    const assignmentsWithStats = await Promise.all(
+      assignments.map(async (assignment) => {
+        const AssignmentAttempt = (await import('../models/AssignmentAttempt.js')).default;
+        
+        const totalAttempts = await AssignmentAttempt.countDocuments({
+          assignmentId: assignment._id,
+          tenantId
+        });
+
+        const submittedAttempts = await AssignmentAttempt.countDocuments({
+          assignmentId: assignment._id,
+          tenantId,
+          status: 'submitted'
+        });
+
+        const averageScore = await AssignmentAttempt.aggregate([
+          { $match: { assignmentId: assignment._id, tenantId, status: 'submitted' } },
+          { $group: { _id: null, avgScore: { $avg: '$totalScore' } } }
+        ]);
+
+        return {
+          ...assignment,
+          stats: {
+            totalAttempts,
+            submittedAttempts,
+            pendingAttempts: totalAttempts - submittedAttempts,
+            completionRate: totalAttempts > 0 ? Math.round((submittedAttempts / totalAttempts) * 100) : 0,
+            averageScore: averageScore.length > 0 ? Math.round(averageScore[0].avgScore * 100) / 100 : 0
+          }
+        };
+      })
+    );
+
+    res.json({
+      success: true,
+      data: assignmentsWithStats,
+      total: assignmentsWithStats.length
+    });
   } catch (error) {
     console.error('Error fetching teacher assignments:', error);
-    res.status(500).json({ message: 'Server error' });
+    res.status(500).json({ 
+      success: false,
+      message: 'Failed to fetch assignments',
+      error: error.message 
+    });
   }
 };
 
@@ -899,24 +989,52 @@ export const getStudentGrades = async (req, res) => {
   }
 };
 
-// Student Announcements
+// Student Announcements - Redirect to announcement controller
 export const getStudentAnnouncements = async (req, res) => {
   try {
-    // Mock data - in real app, this would come from Announcement model
-    const announcements = [
-      {
-        title: 'Holiday Notice',
-        message: 'School will be closed on January 26th for Republic Day',
-        date: '2024-01-20'
-      },
-      {
-        title: 'Exam Schedule',
-        message: 'Mid-term exams will start from February 1st',
-        date: '2024-01-18'
-      }
-    ];
+    const { tenantId, user } = req;
+    const { page = 1, limit = 10 } = req.query;
 
-    res.json(announcements);
+    // Get student's class information
+    const student = await User.findById(user._id).populate('academic.classId');
+    const studentClassId = student.academic?.classId?._id;
+
+    // Build filter for announcements visible to students
+    const filter = {
+      tenantId,
+      isActive: true,
+      $or: [
+        { targetAudience: 'all' },
+        { targetAudience: 'students' },
+        ...(studentClassId ? [{ targetClasses: studentClassId }] : [])
+      ],
+      $and: [
+        { publishDate: { $lte: new Date() } },
+        {
+          $or: [
+            { expiryDate: { $exists: false } },
+            { expiryDate: null },
+            { expiryDate: { $gte: new Date() } }
+          ]
+        }
+      ]
+    };
+
+    const announcements = await Announcement.find(filter)
+      .populate('createdBy', 'name email avatar')
+      .populate('targetClasses', 'classNumber stream')
+      .sort({ isPinned: -1, publishDate: -1 })
+      .limit(limit * 1)
+      .skip((page - 1) * limit);
+
+    const total = await Announcement.countDocuments(filter);
+
+    res.json({
+      announcements,
+      totalPages: Math.ceil(total / limit),
+      currentPage: page,
+      total
+    });
   } catch (error) {
     console.error('Error fetching student announcements:', error);
     res.status(500).json({ message: 'Server error' });
@@ -1070,24 +1188,47 @@ export const getParentFees = async (req, res) => {
   }
 };
 
-// Parent Announcements
+// Parent Announcements - Updated to use actual data
 export const getParentAnnouncements = async (req, res) => {
   try {
-    // Mock data - in real app, this would come from Announcement model
-    const announcements = [
-      {
-        title: 'Parent-Teacher Meeting',
-        message: 'PTM scheduled for Class 10A on January 25th at 2 PM',
-        date: '2024-01-20'
-      },
-      {
-        title: 'Fee Payment Reminder',
-        message: 'Please pay the pending fees before the due date',
-        date: '2024-01-18'
-      }
-    ];
+    const { tenantId } = req;
+    const { page = 1, limit = 10 } = req.query;
+
+    // Build filter for announcements visible to parents
+    const filter = {
+      tenantId,
+      isActive: true,
+      $or: [
+        { targetAudience: 'all' },
+        { targetAudience: 'parents' }
+      ],
+      $and: [
+        { publishDate: { $lte: new Date() } },
+        {
+          $or: [
+            { expiryDate: { $exists: false } },
+            { expiryDate: null },
+            { expiryDate: { $gte: new Date() } }
+          ]
+        }
+      ]
+    };
+
+    const announcements = await Announcement.find(filter)
+      .populate('createdBy', 'name email avatar')
+      .populate('targetClasses', 'classNumber stream')
+      .sort({ isPinned: -1, publishDate: -1 })
+      .limit(limit * 1)
+      .skip((page - 1) * limit);
 
-    res.json(announcements);
+    const total = await Announcement.countDocuments(filter);
+
+    res.json({
+      announcements,
+      totalPages: Math.ceil(total / limit),
+      currentPage: page,
+      total
+    });
   } catch (error) {
     console.error('Error fetching parent announcements:', error);
     res.status(500).json({ message: 'Server error' });
@@ -1180,7 +1321,7 @@ export const getStudentAnalyticsForTeacher = async (req, res) => {
       return res.status(400).json({ message: 'Student ID is required' });
     }
 
-    // Fetch student data
+    // Fetch student data with parent information
     const student = await User.findById(studentId).select('name email role tenantId createdAt dob avatar academic institution linkedIds').lean();
 
     if (!student) {
@@ -1192,6 +1333,23 @@ export const getStudentAnalyticsForTeacher = async (req, res) => {
       return res.status(403).json({ message: 'Access denied to this student' });
     }
 
+    // Fetch parent information
+    let parentInfo = null;
+    if (student.linkedIds && student.linkedIds.parentIds && student.linkedIds.parentIds.length > 0) {
+      const parent = await User.findById(student.linkedIds.parentIds[0])
+        .select('name email phone avatar')
+        .lean();
+      
+      if (parent) {
+        parentInfo = {
+          name: parent.name,
+          email: parent.email,
+          phone: parent.phone,
+          avatar: parent.avatar || '/avatars/avatar1.png'
+        };
+      }
+    }
+
     const thirtyDaysAgo = new Date();
     thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
     
@@ -1562,14 +1720,24 @@ export const getStudentAnalyticsForTeacher = async (req, res) => {
       aiSkills: totalCompleted > 0 ? Math.round((categoryCounts['AI Skills'] || 0) / totalCompleted * 100) : 18
     };
 
-    // 16. Child Card Info (SAME AS PARENT)
+    // 16. Child Card Info with Parent Information
     const childCard = {
       name: student.name,
       avatar: student.avatar || '/avatars/avatar1.png',
       email: student.email,
       grade: student.academic?.grade || student.institution || 'Not specified',
       age: student.dob ? Math.floor((Date.now() - new Date(student.dob)) / (365.25 * 24 * 60 * 60 * 1000)) : null,
-      teacherContact: null // Teacher viewing student, so no teacher contact shown
+      parentContact: parentInfo ? {
+        name: parentInfo.name,
+        email: parentInfo.email,
+        phone: parentInfo.phone || 'Not provided',
+        avatar: parentInfo.avatar
+      } : {
+        name: 'Not specified',
+        email: 'Not specified',
+        phone: 'Not specified',
+        avatar: '/avatars/avatar1.png'
+      }
     };
 
     // 17. Snapshot KPIs (SAME AS PARENT)
@@ -2115,25 +2283,130 @@ export const createAssignment = async (req, res) => {
     const { tenantId, user } = req;
     const assignmentData = req.body;
 
+    console.log('Creating assignment with data:', assignmentData);
+
+    // Validate required fields
+    if (!assignmentData.title || !assignmentData.description || !assignmentData.subject || !assignmentData.dueDate) {
+      return res.status(400).json({
+        success: false,
+        message: 'Missing required fields: title, description, subject, and dueDate are required'
+      });
+    }
+
+    if (!assignmentData.assignedTo || assignmentData.assignedTo.length === 0) {
+      return res.status(400).json({
+        success: false,
+        message: 'At least one class must be selected'
+      });
+    }
+
     // Get orgId if available
     let orgId = user.orgId || null;
     if (!orgId && tenantId) {
-      const org = await Organization.findOne({ tenantId });
-      if (org) {
-        orgId = org._id;
+      try {
+        const org = await Organization.findOne({ tenantId });
+        if (org) {
+          orgId = org._id;
+        }
+      } catch (orgError) {
+        console.error('Error fetching organization:', orgError);
+        // Continue without orgId
+      }
+    }
+
+    // Get class information if classId is provided
+    let className = 'Multiple Classes';
+    let classId = null;
+    
+    if (assignmentData.assignedTo && assignmentData.assignedTo.length > 0) {
+      try {
+        // If only one class is selected, get its details
+        if (assignmentData.assignedTo.length === 1) {
+          const classInfo = await SchoolClass.findById(assignmentData.assignedTo[0]);
+          if (classInfo) {
+            className = `Class ${classInfo.classNumber}${classInfo.stream ? ` ${classInfo.stream}` : ''}`;
+            classId = classInfo._id;
+          } else {
+            console.warn('Class not found for ID:', assignmentData.assignedTo[0]);
+            className = 'Unknown Class';
+          }
+        } else {
+          // Multiple classes selected
+          className = `${assignmentData.assignedTo.length} Classes`;
+        }
+      } catch (classError) {
+        console.error('Error fetching class information:', classError);
+        className = 'Multiple Classes';
       }
     }
 
     const assignmentToCreate = {
-      ...assignmentData,
+      title: assignmentData.title,
+      description: assignmentData.description,
+      subject: assignmentData.subject,
+      type: assignmentData.type || 'homework',
+      dueDate: new Date(assignmentData.dueDate),
+      totalMarks: assignmentData.totalPoints || assignmentData.points || 100,
+      priority: assignmentData.priority || 'medium',
+      status: 'published',
+      className: className,
+      classId: classId,
+      assignedToClasses: assignmentData.assignedTo || [], // Store all assigned class IDs
       tenantId: tenantId || 'default',
-      teacherId: user._id
+      teacherId: user._id,
+      assignedDate: new Date(),
+      isActive: true,
+      // New fields for template-based assignments
+      questions: (assignmentData.questions || []).map(q => {
+        console.log('ðŸ” Processing question:', {
+          type: q.type,
+          question: q.question,
+          options: q.options,
+          optionsType: typeof q.options,
+          isArray: Array.isArray(q.options)
+        });
+        
+        // For project assignments, provide default question text if empty
+        if (assignmentData.type === 'project' && !q.question && ['research_question', 'presentation', 'reflection'].includes(q.type)) {
+          return {
+            ...q,
+            question: q.type === 'research_question' ? 'Research Task' : 
+                     q.type === 'presentation' ? 'Presentation Task' : 
+                     'Reflection Task'
+          };
+        }
+        
+        // Ensure options is properly formatted
+        if (q.options && Array.isArray(q.options)) {
+          // If options are strings (multiple choice), keep them as strings
+          // If options are objects (matching), keep them as objects
+          q.options = q.options.filter(opt => opt && opt.toString().trim() !== '');
+        }
+        
+        return q;
+      }),
+      questionCount: assignmentData.questionCount || 0,
+      instructions: assignmentData.instructions || "Complete all questions carefully.",
+      gradingType: assignmentData.gradingType || "auto",
+      allowRetake: assignmentData.allowRetake !== false,
+      maxAttempts: assignmentData.maxAttempts || 3,
+      duration: assignmentData.duration || 60, // in minutes
+      // Project-specific fields
+      projectMode: assignmentData.projectMode || 'instructions',
+      projectData: assignmentData.projectData || {}
     };
 
     if (orgId) {
       assignmentToCreate.orgId = orgId;
     }
 
+    // Add attachments if provided
+    if (assignmentData.attachments && assignmentData.attachments.length > 0) {
+      assignmentToCreate.attachments = assignmentData.attachments;
+    }
+
+    console.log('Assignment to create:', assignmentToCreate);
+
     const assignment = await Assignment.create(assignmentToCreate);
 
     res.status(201).json({ 
@@ -2175,15 +2448,54 @@ export const updateAssignment = async (req, res) => {
   }
 };
 
-// Delete Assignment/Task
-export const deleteAssignment = async (req, res) => {
+// Delete Assignment for Teacher Only (Soft Delete)
+export const deleteAssignmentForTeacher = async (req, res) => {
+  try {
+    const { tenantId, user } = req;
+    const { assignmentId } = req.params;
+
+    const assignment = await Assignment.findOneAndUpdate(
+      { _id: assignmentId, tenantId, teacherId: user._id },
+      { 
+        hiddenFromTeacher: true,
+        deletedBy: user._id,
+        deletedAt: new Date(),
+        deleteType: 'soft_teacher'
+      },
+      { new: true }
+    );
+
+    if (!assignment) {
+      return res.status(404).json({ message: 'Assignment not found' });
+    }
+
+    res.json({ 
+      success: true,
+      message: 'Assignment deleted for you. Students can still see and access it.',
+      deleteType: 'soft_teacher'
+    });
+  } catch (error) {
+    console.error('Error deleting assignment for teacher:', error);
+    res.status(500).json({ message: 'Server error', error: error.message });
+  }
+};
+
+// Delete Assignment for Everyone (Hard Delete)
+export const deleteAssignmentForEveryone = async (req, res) => {
   try {
     const { tenantId, user } = req;
     const { assignmentId } = req.params;
 
     const assignment = await Assignment.findOneAndUpdate(
       { _id: assignmentId, tenantId, teacherId: user._id },
-      { isActive: false },
+      { 
+        isActive: false,
+        hiddenFromStudents: true,
+        hiddenFromTeacher: true,
+        deletedBy: user._id,
+        deletedAt: new Date(),
+        deleteType: 'hard'
+      },
       { new: true }
     );
 
@@ -2191,13 +2503,105 @@ export const deleteAssignment = async (req, res) => {
       return res.status(404).json({ message: 'Assignment not found' });
     }
 
-    res.json({ message: 'Assignment deleted successfully' });
+    // Also delete any related assignment attempts
+    await AssignmentAttempt.updateMany(
+      { assignmentId: assignmentId, tenantId },
+      { isActive: false }
+    );
+
+    res.json({ 
+      success: true,
+      message: 'Assignment deleted for everyone. No one can access it anymore.',
+      deleteType: 'hard'
+    });
+  } catch (error) {
+    console.error('Error deleting assignment for everyone:', error);
+    res.status(500).json({ message: 'Server error', error: error.message });
+  }
+};
+
+// Delete Assignment for Student (Soft Delete)
+export const deleteAssignmentForStudent = async (req, res) => {
+  try {
+    const { tenantId, user } = req;
+    const { assignmentId } = req.params;
+
+    // Check if student has submitted this assignment
+    const submittedAttempt = await AssignmentAttempt.findOne({
+      assignmentId: assignmentId,
+      studentId: user._id,
+      tenantId,
+      status: 'submitted'
+    });
+
+    if (!submittedAttempt) {
+      return res.status(400).json({ 
+        success: false,
+        message: 'You can only delete assignments after submitting them' 
+      });
+    }
+
+    // Add student to hidden list for this assignment
+    const assignment = await Assignment.findById(assignmentId);
+    if (!assignment) {
+      return res.status(404).json({ message: 'Assignment not found' });
+    }
+
+    // Add student to hiddenFromStudents list (we'll use a new field for this)
+    if (!assignment.hiddenFromStudentsList) {
+      assignment.hiddenFromStudentsList = [];
+    }
+    
+    if (!assignment.hiddenFromStudentsList.includes(user._id.toString())) {
+      assignment.hiddenFromStudentsList.push(user._id.toString());
+      await assignment.save();
+    }
+
+    res.json({ 
+      success: true,
+      message: 'Assignment removed from your view. You can still access it from your submission history.',
+      deleteType: 'soft_student'
+    });
   } catch (error) {
-    console.error('Error deleting assignment:', error);
+    console.error('Error deleting assignment for student:', error);
     res.status(500).json({ message: 'Server error', error: error.message });
   }
 };
 
+// Get Single Assignment by ID
+export const getAssignmentById = async (req, res) => {
+  try {
+    const { tenantId } = req;
+    const { assignmentId } = req.params;
+
+    const assignment = await Assignment.findOne({
+      _id: assignmentId,
+      tenantId,
+      isActive: true
+    })
+    .populate('teacherId', 'name email')
+    .populate('classId', 'name section academicYear');
+
+    if (!assignment) {
+      return res.status(404).json({ 
+        success: false,
+        message: 'Assignment not found' 
+      });
+    }
+
+    res.json({
+      success: true,
+      data: assignment
+    });
+  } catch (error) {
+    console.error('Error getting assignment:', error);
+    res.status(500).json({ 
+      success: false,
+      message: 'Server error' 
+    });
+  }
+};
+
 // Mark message as read
 export const markMessageAsRead = async (req, res) => {
   try {
@@ -2761,15 +3165,47 @@ export const assignStudentsToClass = async (req, res) => {
   try {
     const { classId, className, studentIds } = req.body;
     const teacherId = req.user._id;
+    const { tenantId } = req;
 
     if (!studentIds || studentIds.length === 0) {
       return res.status(400).json({ message: 'No students selected' });
     }
 
-    // Update each student's class information
+    // Get class details
+    const classData = await SchoolClass.findOne({ _id: classId, tenantId });
+    if (!classData) {
+      return res.status(404).json({ message: 'Class not found' });
+    }
+
+    // Determine section - use first available section
+    const targetSection = classData.sections[0]?.name;
+    if (!targetSection) {
+      return res.status(400).json({ message: 'No sections available in this class' });
+    }
+
+    // Check for students already assigned to other classes
+    const studentsAlreadyAssigned = await SchoolStudent.find({
+      userId: { $in: studentIds },
+      tenantId,
+      classId: { $ne: classId, $ne: null }
+    }).populate('classId', 'classNumber');
+
+    if (studentsAlreadyAssigned.length > 0) {
+      const errorMessages = studentsAlreadyAssigned.map(student => 
+        `${student.name || 'Student'} is already assigned to Class ${student.classId?.classNumber || 'Unknown'}`
+      );
+      return res.status(400).json({ 
+        message: 'Some students are already assigned to other classes',
+        errors: errorMessages,
+        studentsAlreadyAssigned: studentsAlreadyAssigned.map(s => s.userId)
+      });
+    }
+
+    // Update both User and SchoolStudent models
     await Promise.all(
-      studentIds.map(studentId =>
-        User.findByIdAndUpdate(studentId, {
+      studentIds.map(async (studentId) => {
+        // Update User model
+        await User.findByIdAndUpdate(studentId, {
           $addToSet: {
             'metadata.classes': {
               classId,
@@ -2778,10 +3214,50 @@ export const assignStudentsToClass = async (req, res) => {
               assignedAt: new Date()
             }
           }
-        })
-      )
+        });
+
+        // Update or create SchoolStudent record
+        await SchoolStudent.findOneAndUpdate(
+          { userId: studentId, tenantId },
+          {
+            classId: classId,
+            grade: classData.classNumber,
+            section: targetSection,
+            academicYear: classData.academicYear
+          },
+          { upsert: true, new: true }
+        );
+      })
     );
 
+    // Update section strength
+    const sectionIndex = classData.sections.findIndex(s => s.name === targetSection);
+    if (sectionIndex !== -1) {
+      const currentCount = await SchoolStudent.countDocuments({
+        tenantId,
+        classId,
+        section: targetSection
+      });
+      classData.sections[sectionIndex].currentStrength = currentCount;
+      await classData.save();
+    }
+
+    // Log audit
+    await ComplianceAuditLog.logAction({
+      tenantId,
+      orgId: req.user?.orgId,
+      userId: req.user._id,
+      userRole: req.user.role,
+      userName: req.user.name,
+      action: 'students_assigned_to_class_by_teacher',
+      targetType: 'class',
+      targetId: classId,
+      targetName: `Class ${classData.classNumber}`,
+      description: `${studentIds.length} student(s) assigned to Class ${classData.classNumber} - Section ${targetSection} by teacher`,
+      ipAddress: req.ip,
+      userAgent: req.headers['user-agent'],
+    });
+
     res.json({
       success: true,
       message: `${studentIds.length} student(s) assigned to ${className}`,
@@ -2962,97 +3438,6 @@ export const bulkUploadStudents = async (req, res) => {
   }
 };
 
-// Assignment Wizard Endpoints
-
-// Get assignment templates
-export const getAssignmentTemplates = async (req, res) => {
-  try {
-    const { tenantId } = req;
-    
-    // Mock templates for now - in production, fetch from database
-    const templates = [
-      {
-        _id: "1",
-        title: "Math Quiz - Algebra Basics",
-        description: "15 questions covering basic algebra concepts",
-        category: "math",
-        subject: "Mathematics",
-        questionCount: 15,
-        duration: 30,
-        premium: false
-      },
-      {
-        _id: "2",
-        title: "Science Test - Photosynthesis",
-        description: "Comprehensive test on photosynthesis",
-        category: "science",
-        subject: "Biology",
-        questionCount: 20,
-        duration: 45,
-        premium: false
-      },
-      {
-        _id: "3",
-        title: "English Grammar Assessment",
-        description: "Advanced grammar and composition",
-        category: "english",
-        subject: "English",
-        questionCount: 25,
-        duration: 40,
-        premium: true
-      }
-    ];
-
-    res.json({ success: true, templates });
-  } catch (error) {
-    console.error("Error fetching templates:", error);
-    res.status(500).json({ message: "Server error", error: error.message });
-  }
-};
-
-// Get question bank
-export const getQuestionBank = async (req, res) => {
-  try {
-    const { tenantId } = req;
-    
-    // Mock question bank - in production, fetch from database
-    const questions = [
-      {
-        _id: "q1",
-        title: "Algebra Fundamentals",
-        category: "Algebra",
-        questionCount: 30,
-        difficulty: "medium"
-      },
-      {
-        _id: "q2",
-        title: "Geometry Basics",
-        category: "Geometry",
-        questionCount: 25,
-        difficulty: "easy"
-      },
-      {
-        _id: "q3",
-        title: "Cell Biology",
-        category: "Biology",
-        questionCount: 40,
-        difficulty: "medium"
-      },
-      {
-        _id: "q4",
-        title: "Grammar Rules",
-        category: "English",
-        questionCount: 35,
-        difficulty: "hard"
-      }
-    ];
-
-    res.json({ success: true, questions });
-  } catch (error) {
-    console.error("Error fetching question bank:", error);
-    res.status(500).json({ message: "Server error", error: error.message });
-  }
-};
 
 // Get Inavora catalog
 export const getInavoraCatalog = async (req, res) => {
@@ -3204,134 +3589,6 @@ export const aiSuggestStudents = async (req, res) => {
   }
 };
 
-// Create advanced assignment
-export const createAdvancedAssignment = async (req, res) => {
-  try {
-    const { scope, template, modules, rules, participants, rewards, status } = req.body;
-    const teacherId = req.user._id;
-    const { tenantId, isLegacyUser } = req;
-
-    // Validate required fields
-    if (!scope || !template || !modules || !rules) {
-      return res.status(400).json({ 
-        success: false, 
-        message: "Missing required fields: scope, template, modules, and rules are required" 
-      });
-    }
-
-    // Get orgId if available
-    let orgId = req.user.orgId || null;
-    if (!orgId && tenantId) {
-      const org = await Organization.findOne({ tenantId });
-      if (org) {
-        orgId = org._id;
-      }
-    }
-
-    // Create assignment document
-    const assignmentData = {
-      title: template.title,
-      description: template.description,
-      subject: template.subject,
-      teacherId,
-      tenantId: tenantId || 'default-tenant',
-      className: typeof scope.classes[0] === 'object' ? scope.classes[0].name : (scope.classes[0] || 'General'),
-      
-      // Scope
-      scope: scope.type,
-      scopeClasses: scope.classes,
-      approvalRequired: scope.approvalRequired,
-      
-      // Template
-      templateType: template.type,
-      templateId: template.selectedTemplate?._id,
-      
-      // Modules
-      modules: modules.items.map(item => ({
-        type: item.type,
-        id: item._id || item.id,
-        title: item.title,
-        module_id: item._id || item.id,
-        questionCount: item.questionCount,
-        duration: item.duration
-      })),
-      
-      // Rules
-      startTime: new Date(rules.startTime),
-      endTime: new Date(rules.endTime),
-      dueDate: new Date(rules.endTime),
-      assignedDate: new Date(),
-      maxAttempts: rules.maxAttempts,
-      randomizeQuestions: rules.randomizeQuestions,
-      gradingType: rules.gradingType,
-      accessibility: rules.accessibility,
-      
-      // Participants
-      participantMode: participants.mode,
-      selectedStudents: participants.selectedStudents,
-      filterTags: participants.filterTags,
-      aiSuggestions: participants.aiSuggestions,
-      
-      // Rewards
-      healCoinsReward: rewards.healCoins * rewards.bonusMultiplier,
-      badges: rewards.badges,
-      certificate: rewards.certificate,
-      
-      // Status
-      status: scope.approvalRequired ? 'pending_approval' : (status || 'published'),
-      createdAt: new Date(),
-      updatedAt: new Date()
-    };
-
-    if (orgId) {
-      assignmentData.orgId = orgId;
-    }
-
-    const assignment = await Assignment.create(assignmentData);
-
-    // If requires approval, create approval task
-    if (scope.approvalRequired) {
-      // Create approval notification for admin
-      await Notification.create({
-        userId: orgId, // Send to org admin
-        type: 'approval_request',
-        title: 'Assignment Approval Required',
-        message: `Teacher ${req.user.name} has submitted "${template.title}" for approval`,
-        metadata: {
-          assignmentId: assignment._id,
-          teacherId,
-          scope: scope.type
-        }
-      });
-    }
-
-    res.json({
-      success: true,
-      message: scope.approvalRequired ? 'Assignment submitted for approval' : 'Assignment published successfully',
-      assignment
-    });
-  } catch (error) {
-    console.error("Error creating advanced assignment:", error);
-    console.error("Request body:", JSON.stringify(req.body, null, 2));
-    
-    // Return more specific error messages
-    if (error.name === 'ValidationError') {
-      const validationErrors = Object.values(error.errors).map(err => err.message);
-      return res.status(400).json({ 
-        success: false,
-        message: "Validation failed", 
-        errors: validationErrors,
-        details: error.errors
-      });
-    }
-    
-    res.status(500).json({ 
-      success: false,
-      message: "Server error", 
-      error: error.message 
-    });
-  }
-};
 
 // Helper function to format time ago
 const formatTimeAgo = (date) => {
@@ -7790,9 +8047,10 @@ export const addStudentsToClass = async (req, res) => {
       });
     }
 
-    // Update students
-    const updatePromises = studentIds.map(studentId =>
-      SchoolStudent.findOneAndUpdate(
+    // Update both SchoolStudent and User models
+    const updatePromises = studentIds.map(async (studentId) => {
+      // Update SchoolStudent model
+      const schoolStudent = await SchoolStudent.findOneAndUpdate(
         { _id: studentId, tenantId },
         {
           classId: classId,
@@ -7801,8 +8059,24 @@ export const addStudentsToClass = async (req, res) => {
           academicYear: classData.academicYear
         },
         { new: true }
-      )
-    );
+      );
+
+      // Update User model if SchoolStudent exists
+      if (schoolStudent && schoolStudent.userId) {
+        await User.findByIdAndUpdate(schoolStudent.userId, {
+          $addToSet: {
+            'metadata.classes': {
+              classId,
+              className: `Class ${classData.classNumber}`,
+              teacherId: null, // Admin assignment
+              assignedAt: new Date()
+            }
+          }
+        });
+      }
+
+      return schoolStudent;
+    });
 
     await Promise.all(updatePromises);
 
@@ -7940,29 +8214,31 @@ export const addStudentsByEmailToClass = async (req, res) => {
         } else {
           // Check if already assigned to this class
           if (schoolStudent.classId && schoolStudent.classId.toString() === classId) {
-            results.alreadyAssigned.push({ email, name: user.name });
-            continue;
-          }
-
-          // Check if already assigned to another class
-          if (schoolStudent.classId && schoolStudent.classId.toString() !== classId) {
-            const existingClass = await SchoolClass.findById(schoolStudent.classId);
-            results.errors.push({ 
-              email, 
-              error: `Student is already assigned to Class ${existingClass?.classNumber || 'Unknown'}. One student can only be assigned to one class.` 
-            });
+            results.alreadyAssigned.push({ email, message: 'Student already assigned to this class' });
             continue;
           }
 
-          // Update existing SchoolStudent
+          // Update existing SchoolStudent record
           schoolStudent.classId = classId;
+          schoolStudent.grade = classData.classNumber;
           schoolStudent.section = section;
           schoolStudent.academicYear = classData.academicYear;
           await schoolStudent.save();
-        }
 
-        results.success.push({ email, name: user.name, studentId: schoolStudent._id });
+          // Update User model
+          await User.findByIdAndUpdate(user._id, {
+            $addToSet: {
+              'metadata.classes': {
+                classId,
+                className: `Class ${classData.classNumber}`,
+                teacherId: null, // Admin assignment
+                assignedAt: new Date()
+              }
+            }
+          });
 
+          results.success.push({ email, studentId: schoolStudent._id });
+        }
       } catch (error) {
         console.error(`Error processing email ${email}:`, error);
         results.errors.push({ email, error: error.message });
@@ -7970,14 +8246,13 @@ export const addStudentsByEmailToClass = async (req, res) => {
     }
 
     // Update section strength
-    const currentCount = await SchoolStudent.countDocuments({
-      tenantId,
-      classId,
-      section: section
-    });
-    
     const sectionIndex = classData.sections.findIndex(s => s.name === section);
     if (sectionIndex !== -1) {
+      const currentCount = await SchoolStudent.countDocuments({
+        tenantId,
+        classId,
+        section: section
+      });
       classData.sections[sectionIndex].currentStrength = currentCount;
       await classData.save();
     }
@@ -7989,7 +8264,7 @@ export const addStudentsByEmailToClass = async (req, res) => {
       userId: req.user._id,
       userRole: req.user.role,
       userName: req.user.name,
-      action: 'students_added_by_email',
+      action: 'students_added_to_class_by_email',
       targetType: 'class',
       targetId: classId,
       targetName: `Class ${classData.classNumber}`,
@@ -8001,14 +8276,8 @@ export const addStudentsByEmailToClass = async (req, res) => {
     res.json({
       success: true,
       message: `Processed ${emails.length} email(s)`,
-      results: {
-        success: results.success.length,
-        errors: results.errors.length,
-        alreadyAssigned: results.alreadyAssigned.length,
-        details: results
-      }
+      results
     });
-
   } catch (error) {
     console.error('Error adding students by email:', error);
     res.status(500).json({ message: 'Server error', error: error.message });
@@ -8761,10 +9030,17 @@ export const createStudent = async (req, res) => {
   try {
     const { tenantId } = req;
     const orgId = req.user?.orgId;
-    const { name, email, phone, password, gender } = req.body;
+    const { name, email, phone, password, gender, dateOfBirth } = req.body;
+
+    if (!name || !email || !phone || !password || !gender || !dateOfBirth) {
+      return res.status(400).json({ message: 'Missing required fields: name, email, phone, gender, dateOfBirth, and password are required' });
+    }
 
-    if (!name || !email || !phone || !password || !gender) {
-      return res.status(400).json({ message: 'Missing required fields: name, email, phone, gender, and password are required' });
+    // Validate date of birth
+    const dob = new Date(dateOfBirth);
+    const today = new Date();
+    if (dob >= today) {
+      return res.status(400).json({ message: 'Date of birth cannot be in the future' });
     }
 
     // Check if user with email already exists
@@ -8816,6 +9092,8 @@ export const createStudent = async (req, res) => {
       tenantId,
       orgId,
       phone,
+      gender,
+      dateOfBirth: new Date(dateOfBirth),
     });
     
     console.log('Student created successfully:', {
@@ -8837,7 +9115,7 @@ export const createStudent = async (req, res) => {
       academicYear,
       parentIds: [], // Empty array - parents will link themselves later
       personalInfo: {
-        dateOfBirth: null,
+        dateOfBirth: new Date(dateOfBirth),
         gender: gender,
         bloodGroup: null,
       },
diff --git a/backend/middlewares/requireAuth.js b/backend/middlewares/requireAuth.js
index 608a7eb..ed2519c 100644
--- a/backend/middlewares/requireAuth.js
+++ b/backend/middlewares/requireAuth.js
@@ -89,4 +89,13 @@ export const requireSchoolRole = (req, res, next) => {
     return res.status(403).json({ message: "Access denied. School users only." });
   }
   next();
+};
+
+// âœ… Middleware: School roles + regular parent access (for chat functionality)
+export const requireSchoolRoleOrParent = (req, res, next) => {
+  const allowedRoles = ['school_admin', 'school_teacher', 'school_student', 'school_parent', 'school_accountant', 'school_librarian', 'parent'];
+  if (!allowedRoles.includes(req.user?.role)) {
+    return res.status(403).json({ message: "Access denied. School users or parents only." });
+  }
+  next();
 };
\ No newline at end of file
diff --git a/backend/models/Assignment.js b/backend/models/Assignment.js
index bd2d524..fbfb554 100644
--- a/backend/models/Assignment.js
+++ b/backend/models/Assignment.js
@@ -27,6 +27,10 @@ const assignmentSchema = new mongoose.Schema({
     type: String,
     required: true,
   },
+  assignedToClasses: [{
+    type: mongoose.Schema.Types.ObjectId,
+    ref: 'SchoolClass',
+  }],
   section: {
     type: String,
   },
@@ -54,7 +58,7 @@ const assignmentSchema = new mongoose.Schema({
   },
   type: {
     type: String,
-    enum: ['grading', 'approval', 'review', 'homework', 'project', 'test'],
+    enum: ['grading', 'approval', 'review', 'homework', 'project', 'test', 'quiz', 'classwork'],
     default: 'homework',
   },
   status: {
@@ -99,88 +103,125 @@ const assignmentSchema = new mongoose.Schema({
     type: Boolean,
     default: true,
   },
-  
-  // Advanced Wizard Fields
-  scope: {
-    type: String,
-    enum: ['single_class', 'multiple_classes', 'whole_school', 'csr', 'state'],
-    default: 'single_class'
+  // Soft delete fields for teacher-specific deletion
+  hiddenFromTeacher: {
+    type: Boolean,
+    default: false,
   },
-  scopeClasses: [{
-    id: String,
-    name: String
-  }],
-  approvalRequired: {
+  hiddenFromStudents: {
     type: Boolean,
-    default: false
+    default: false,
   },
-  approvedBy: {
+  deletedBy: {
     type: mongoose.Schema.Types.ObjectId,
-    ref: 'User'
+    ref: 'User',
   },
-  approvedAt: Date,
-  
-  // Template
-  templateType: {
+  deletedAt: {
+    type: Date,
+  },
+  deleteType: {
     type: String,
-    enum: ['blank', 'template']
+    enum: ['soft_teacher', 'soft_students', 'hard'],
+    default: null,
   },
-  templateId: String,
+  // List of students who have hidden this assignment from their view
+  hiddenFromStudentsList: [{
+    type: String, // Student IDs as strings
+  }],
   
-  // Modules
-  modules: [{
+  // Template-based assignment fields
+  questions: [{
     type: {
       type: String,
-      enum: ['question_bank', 'inavora']
+      enum: [
+        'multiple_choice',
+        'true_false',
+        'short_answer',
+        'essay',
+        'fill_in_blank',
+        'matching',
+        'problem_solving',
+        'word_problem',
+        'research_question',
+        'presentation',
+        'reflection'
+      ],
+      required: true
+    },
+    question: {
+      type: String,
+      required: function() {
+        // For project assignments, question field is not required if it's a task type
+        return !['research_question', 'presentation', 'reflection'].includes(this.type);
+      }
+    },
+    options: [mongoose.Schema.Types.Mixed], // Can be strings for multiple choice or objects for matching
+    correctAnswer: mongoose.Schema.Types.Mixed, // Can be string, number, boolean, or array
+    points: {
+      type: Number,
+      default: 1
     },
-    id: String,
-    title: String,
-    module_id: String,
-    questionCount: Number,
-    duration: Number
+    explanation: String,
+    required: {
+      type: Boolean,
+      default: true
+    },
+    timeLimit: {
+      type: Number,
+      default: 0 // in minutes, 0 = no limit
+    }
   }],
-  
-  // Rules
-  startTime: Date,
-  endTime: Date,
-  maxAttempts: Number,
-  randomizeQuestions: Boolean,
+  questionCount: {
+    type: Number,
+    default: 0
+  },
+  instructions: {
+    type: String,
+    default: "Complete all questions carefully."
+  },
   gradingType: {
     type: String,
-    enum: ['auto', 'manual'],
+    enum: ['auto', 'manual', 'mixed'],
     default: 'auto'
   },
-  accessibility: {
-    allowScreenReader: Boolean,
-    extraTime: Boolean,
-    textToSpeech: Boolean
+  allowRetake: {
+    type: Boolean,
+    default: true
+  },
+  maxAttempts: {
+    type: Number,
+    default: 3
+  },
+  duration: {
+    type: Number, // in minutes
+    default: 60
   },
   
-  // Participants
-  participantMode: {
+  // Project-specific fields
+  projectMode: {
     type: String,
-    enum: ['all', 'filtered', 'manual', 'ai_suggested']
+    enum: ['instructions', 'virtual'],
+    default: 'instructions'
+  },
+  projectData: {
+    mode: {
+      type: String,
+      enum: ['instructions', 'virtual'],
+      default: 'instructions'
+    },
+    instructions: String,
+    deliverables: String,
+    resources: String,
+    deadline: Date,
+    duration: Number, // in days
+    groupSize: {
+      type: String,
+      enum: ['individual', 'pairs', 'small', 'large'],
+      default: 'individual'
+    },
+    submissionRequirements: String
   },
-  selectedStudents: [{
-    type: mongoose.Schema.Types.ObjectId,
-    ref: 'User'
-  }],
-  filterTags: [String],
-  aiSuggestions: [{
-    studentId: mongoose.Schema.Types.ObjectId,
-    studentName: String,
-    weakPillars: [String],
-    confidence: Number
-  }],
   
-  // Rewards
-  healCoinsReward: Number,
-  badges: [{
-    _id: String,
-    name: String,
-    description: String
-  }],
-  certificate: Boolean,
 }, {
   timestamps: true,
 });
diff --git a/backend/models/Challenge.js b/backend/models/Challenge.js
deleted file mode 100644
index 4f8a50c..0000000
--- a/backend/models/Challenge.js
+++ /dev/null
@@ -1,80 +0,0 @@
-import mongoose from 'mongoose';
-
-const ChallengeSchema = new mongoose.Schema(
-  {
-    title: {
-      type: String,
-      required: true,
-      trim: true,
-    },
-    description: {
-      type: String,
-      required: true,
-    },
-    category: {
-      type: String,
-      required: true,
-      enum: ['financial', 'education', 'planning', 'other', 'daily', 'weekly'],
-      default: 'financial',
-    },
-    difficulty: {
-      type: String,
-      required: true,
-      enum: ['Easy', 'Medium', 'Hard'],
-      default: 'Medium',
-    },
-    xpReward: {
-      type: Number,
-      required: true,
-      default: 50,
-    },
-    coinReward: {
-      type: Number,
-      required: true,
-      default: 20,
-    },
-    estimatedTime: {
-      type: String,
-      required: true,
-    },
-    completionSteps: {
-      type: Number,
-      required: true,
-      default: 1,
-    },
-    benefits: {
-      type: [String],
-      default: [],
-    },
-    startDate: {
-      type: Date,
-      default: Date.now,
-    },
-    endDate: {
-      type: Date,
-      default: function() {
-        // Default to 30 days from start date
-        const date = new Date(this.startDate);
-        date.setDate(date.getDate() + 30);
-        return date;
-      },
-    },
-    isActive: {
-      type: Boolean,
-      default: true,
-    },
-    iconName: {
-      type: String,
-      default: 'Target',
-    },
-    gradientColors: {
-      type: String,
-      default: 'from-blue-400 to-indigo-400',
-    },
-  },
-  { timestamps: true }
-);
-
-const Challenge = mongoose.model('Challenge', ChallengeSchema);
-
-export default Challenge;
\ No newline at end of file
diff --git a/backend/models/ChallengeProgress.js b/backend/models/ChallengeProgress.js
deleted file mode 100644
index 348e48e..0000000
--- a/backend/models/ChallengeProgress.js
+++ /dev/null
@@ -1,44 +0,0 @@
-import mongoose from 'mongoose';
-
-const ChallengeProgressSchema = new mongoose.Schema(
-  {
-    userId: {
-      type: mongoose.Schema.Types.ObjectId,
-      ref: 'User',
-      required: true,
-    },
-    challengeId: {
-      type: mongoose.Schema.Types.ObjectId,
-      ref: 'Challenge',
-      required: true,
-    },
-    currentStep: {
-      type: Number,
-      default: 0,
-    },
-    completedSteps: {
-      type: [Number],
-      default: [],
-    },
-    startedAt: {
-      type: Date,
-      default: Date.now,
-    },
-    completedAt: {
-      type: Date,
-      default: null,
-    },
-    isCompleted: {
-      type: Boolean,
-      default: false,
-    },
-  },
-  { timestamps: true }
-);
-
-// Create a compound index to ensure a user can only have one progress record per challenge
-ChallengeProgressSchema.index({ userId: 1, challengeId: 1 }, { unique: true });
-
-const ChallengeProgress = mongoose.model('ChallengeProgress', ChallengeProgressSchema);
-
-export default ChallengeProgress;
\ No newline at end of file
diff --git a/backend/models/User.js b/backend/models/User.js
index 680aedc..0fcf6aa 100644
--- a/backend/models/User.js
+++ b/backend/models/User.js
@@ -68,6 +68,10 @@ const userSchema = new mongoose.Schema(
     bio: {
       type: String,
     },
+    pronouns: {
+      type: String,
+      trim: true,
+    },
     city: {
       type: String,
     },
diff --git a/backend/package-lock.json b/backend/package-lock.json
index a3c2eaf..1966162 100644
--- a/backend/package-lock.json
+++ b/backend/package-lock.json
@@ -25,7 +25,7 @@
         "nodemailer": "^6.9.7",
         "nodemon": "^3.0.2",
         "pdfkit": "^0.17.2",
-        "socket.io": "^4.7.4",
+        "socket.io": "^4.8.1",
         "stripe": "^14.7.0"
       }
     },
diff --git a/backend/package.json b/backend/package.json
index 9234134..ca8c001 100644
--- a/backend/package.json
+++ b/backend/package.json
@@ -26,7 +26,7 @@
     "nodemailer": "^6.9.7",
     "nodemon": "^3.0.2",
     "pdfkit": "^0.17.2",
-    "socket.io": "^4.7.4",
+    "socket.io": "^4.8.1",
     "stripe": "^14.7.0"
   },
   "keywords": [
diff --git a/backend/routes/activityRoutes.js b/backend/routes/activityRoutes.js
index b06b134..462508d 100644
--- a/backend/routes/activityRoutes.js
+++ b/backend/routes/activityRoutes.js
@@ -5,19 +5,25 @@ import {
   getMyActivities,
   getActivitySummary,
   getActivityStream,
+  getStudentActivity,
+  getStudentActivityStats,
 } from '../controllers/activityController.js';
 import { requireAuth } from '../middlewares/requireAuth.js';
 import { checkRole } from '../middlewares/checkRole.js';
+import { extractTenant } from '../middlewares/tenantMiddleware.js';
 
 const router = express.Router();
 
 // Protect all routes
 router.use(requireAuth);
+router.use(extractTenant);
 
 // Student routes
 router.post('/log', logActivity);
 router.get('/my-activities', getMyActivities);
 router.get('/recent', getMyActivities); // Alias for recent activities
+router.get('/', getStudentActivity); // Get student activity with filtering
+router.get('/stats', getStudentActivityStats); // Get student activity statistics
 
 // Admin and  routes
 router.get('/user/:userId', checkRole(['admin', '']), getUserActivities);
diff --git a/backend/routes/challengeRoutes.js b/backend/routes/challengeRoutes.js
deleted file mode 100644
index 2334965..0000000
--- a/backend/routes/challengeRoutes.js
+++ /dev/null
@@ -1,28 +0,0 @@
-import express from 'express';
-import { requireAuth } from '../middlewares/requireAuth.js';
-import {
-  getAllChallenges,
-  getActiveChallenges,
-  getChallengeById,
-  startChallenge,
-  updateChallengeProgress,
-  getUserChallengeProgress,
-  getUserChallengeProgressById
-} from '../controllers/challengeController.js';
-
-const router = express.Router();
-
-// Public routes
-router.get('/', getAllChallenges);
-router.get('/active', getActiveChallenges);
-
-// Protected routes - require authentication
-router.post('/start/:challengeId', requireAuth, startChallenge);
-router.post('/progress/:challengeId', requireAuth, updateChallengeProgress);
-router.get('/progress', requireAuth, getUserChallengeProgress);
-router.get('/progress/:challengeId', requireAuth, getUserChallengeProgressById);
-
-// This route must be defined after all other specific routes to avoid conflicts
-router.get('/:id', getChallengeById);
-
-export default router;
\ No newline at end of file
diff --git a/backend/routes/dailyChallengeRoutes.js b/backend/routes/dailyChallengeRoutes.js
deleted file mode 100644
index 04e705a..0000000
--- a/backend/routes/dailyChallengeRoutes.js
+++ /dev/null
@@ -1,31 +0,0 @@
-import express from 'express';
-import { requireAuth } from '../middlewares/requireAuth.js';
-import {
-  getDailyChallenge,
-  getDailyChallenges,  // Add this import
-  getWeeklyChallenge,
-  updateChallengeProgress,
-  getActiveChallenges
-} from '../controllers/dailyChallengeController.js';
-
-const router = express.Router();
-
-// All routes require authentication
-router.use(requireAuth);
-
-// Get all daily challenges (10 challenges)
-router.get('/', getDailyChallenges);  // Add this route
-
-// Get the current daily challenge
-router.get('/daily', getDailyChallenge);
-
-// Get the current weekly challenge
-router.get('/weekly', getWeeklyChallenge);
-
-// Get all active challenges (daily and weekly)
-router.get('/active', getActiveChallenges);
-
-// Update progress for a challenge
-router.post('/progress/:challengeId', updateChallengeProgress);
-
-export default router;
\ No newline at end of file
diff --git a/backend/routes/parentRoutes.js b/backend/routes/parentRoutes.js
index 1c7aef4..c6b8720 100644
--- a/backend/routes/parentRoutes.js
+++ b/backend/routes/parentRoutes.js
@@ -10,6 +10,7 @@ import Transaction from "../models/Transaction.js";
 import MoodLog from "../models/MoodLog.js";
 import ActivityLog from "../models/ActivityLog.js";
 import Notification from "../models/Notification.js";
+import SchoolStudent from "../models/School/SchoolStudent.js";
 
 const router = express.Router();
 
@@ -27,7 +28,7 @@ router.post("/link-child", async (req, res) => {
       return res.status(400).json({ message: 'Child email is required' });
     }
 
-    // Find the child by email
+    // Find the child by email - allow both student and school_student roles
     const child = await User.findOne({ 
       email: childEmail.toLowerCase().trim(),
       role: { $in: ['student', 'school_student'] }
@@ -53,6 +54,8 @@ router.post("/link-child", async (req, res) => {
     
     parent.linkedIds.childIds.push(child._id);
     await parent.save();
+    
+    console.log('Updated parent linkedIds:', parent.linkedIds);
 
     // Also update child's linkedIds to include parent
     if (!child.linkedIds) {
@@ -64,6 +67,8 @@ router.post("/link-child", async (req, res) => {
     
     child.linkedIds.parentIds.push(parent._id);
     await child.save();
+    
+    console.log('Updated child linkedIds:', child.linkedIds);
 
     res.status(200).json({ 
       message: `Successfully linked ${child.name} to your account`,
@@ -85,22 +90,65 @@ router.get("/children", async (req, res) => {
   try {
     const parent = req.user;
     
+    console.log('Parent ID:', parent._id);
+    console.log('Parent linkedIds:', parent.linkedIds);
+    console.log('Parent childEmail:', parent.childEmail);
+    console.log('Parent email:', parent.email);
+    
     // Find children by multiple methods:
     // 1. By childEmail field (legacy single child)
     // 2. By linkedIds.childIds (new multi-child support)
     // 3. By guardianEmail matching parent email
-    const children = await User.find({
-      role: "student",
+    
+    const query = {
+      role: { $in: ['student', 'school_student'] },
       $or: [
         { email: parent.childEmail },
         { _id: { $in: parent.linkedIds?.childIds || [] } },
         { guardianEmail: parent.email }
       ]
-    }).select("name email dob avatar institution city createdAt lastActive");
+    };
+    
+    console.log('Query for children:', JSON.stringify(query, null, 2));
+    
+    // Let's also check if there are any students with guardianEmail matching parent email
+    const studentsWithGuardianEmail = await User.find({
+      role: { $in: ['student', 'school_student'] },
+      guardianEmail: parent.email
+    }).select("name email guardianEmail");
+    console.log('Students with guardianEmail matching parent:', studentsWithGuardianEmail.length);
+    console.log('Students with guardianEmail data:', studentsWithGuardianEmail.map(s => ({ 
+      id: s._id, 
+      name: s.name, 
+      email: s.email, 
+      guardianEmail: s.guardianEmail 
+    })));
+    
+    const children = await User.find(query).select("name email dob avatar institution city createdAt lastActive role tenantId orgId");
+    
+    console.log('Found children:', children.length);
+    console.log('Children data:', children.map(c => ({ id: c._id, name: c.name, email: c.email, role: c.role })));
 
     // Get progress and wallet data for each child
     const childrenWithData = await Promise.all(
       children.map(async (child) => {
+        // For school_student children, get school information from SchoolStudent model
+        let schoolInfo = null;
+        if (child.role === 'school_student') {
+          try {
+            const schoolStudent = await SchoolStudent.findOne({ 
+              userId: child._id,
+              tenantId: child.tenantId 
+            }).populate('orgId', 'name');
+            
+            if (schoolStudent && schoolStudent.orgId) {
+              schoolInfo = schoolStudent.orgId.name;
+            }
+          } catch (error) {
+            console.error('Error fetching school info for child:', child._id, error);
+          }
+        }
+
         const [childProgress, wallet, userProgress, gameProgress] = await Promise.all([
           ChildProgress.findOne({ parentId: parent._id, childId: child._id }),
           Wallet.findOne({ userId: child._id }),
@@ -113,6 +161,7 @@ router.get("/children", async (req, res) => {
         
         return {
           ...child.toObject(),
+          institution: schoolInfo || child.institution || 'Not specified',
           childProgress: childProgress || null,
           totalCoins: wallet?.balance || 0,
           healCoins: wallet?.balance || 0,
@@ -159,8 +208,53 @@ router.get("/child/:childId/analytics", async (req, res) => {
         { _id: { $in: req.user.linkedIds?.childIds || [] } },
         { guardianEmail: req.user.email }
       ],
-      role: "student"
-    }).populate('linkedIds.teacherIds', 'name email phone');
+      role: { $in: ['student', 'school_student'] }
+    }).select('name email avatar dob institution academic tenantId orgId').populate('linkedIds.teacherIds', 'name email phone');
+
+    // For school_student children, get school information and date of birth from SchoolStudent model
+    let schoolInfo = null;
+    let schoolStudentDob = null;
+    let schoolStudent = null;
+    if (child && child.role === 'school_student') {
+      try {
+        console.log('Looking for school student with userId:', child._id, 'tenantId:', child.tenantId);
+        schoolStudent = await SchoolStudent.findOne({ 
+          userId: child._id,
+          tenantId: child.tenantId 
+        }).populate('orgId', 'name').populate('classId', 'classNumber stream');
+        
+        // If not found with tenantId, try without tenantId as fallback
+        if (!schoolStudent) {
+          console.log('Not found with tenantId, trying without tenantId...');
+          schoolStudent = await SchoolStudent.findOne({ 
+            userId: child._id
+          }).populate('orgId', 'name').populate('classId', 'classNumber stream');
+        }
+        
+        console.log('Found school student:', schoolStudent ? 'Yes' : 'No');
+        if (schoolStudent) {
+          console.log('School student data:', {
+            orgId: schoolStudent.orgId,
+            personalInfo: schoolStudent.personalInfo,
+            hasOrgId: !!schoolStudent.orgId,
+            hasDateOfBirth: !!schoolStudent.personalInfo?.dateOfBirth
+          });
+          
+          if (schoolStudent.orgId) {
+            schoolInfo = schoolStudent.orgId.name;
+            console.log('School info set to:', schoolInfo);
+          }
+          if (schoolStudent.personalInfo?.dateOfBirth) {
+            schoolStudentDob = schoolStudent.personalInfo.dateOfBirth;
+            console.log('School student DOB set to:', schoolStudentDob);
+          }
+        } else {
+          console.log('No school student record found for userId:', child._id);
+        }
+      } catch (error) {
+        console.error('Error fetching school info for child analytics:', child._id, error);
+      }
+    }
 
     if (!child) {
       return res.status(404).json({ message: "Child not found or access denied" });
@@ -483,12 +577,25 @@ router.get("/child/:childId/analytics", async (req, res) => {
     };
 
     // 11. Child Card Info
+    const effectiveDob = schoolStudentDob || child.dob;
+    
+    // For school_student children, try to get grade from classId
+    let gradeInfo = 'Not specified';
+    if (child.role === 'school_student' && schoolStudent && schoolStudent.classId) {
+      const classNumber = schoolStudent.classId.classNumber;
+      const stream = schoolStudent.classId.stream;
+      gradeInfo = `Class ${classNumber}${stream ? ` ${stream}` : ''}`;
+    } else {
+      gradeInfo = schoolInfo || child.academic?.grade || child.institution || 'Not specified';
+    }
+    
     const childCard = {
       name: child.name,
       avatar: child.avatar || '/avatars/avatar1.png',
       email: child.email,
-      grade: child.academic?.grade || child.institution || 'Not specified',
-      age: child.dob ? Math.floor((Date.now() - new Date(child.dob)) / (365.25 * 24 * 60 * 60 * 1000)) : null,
+      grade: gradeInfo,
+      institution: schoolInfo || child.institution || 'Not specified',
+      age: effectiveDob ? Math.floor((Date.now() - new Date(effectiveDob)) / (365.25 * 24 * 60 * 60 * 1000)) : null,
       teacherContact: primaryTeacher ? {
         name: primaryTeacher.name,
         email: primaryTeacher.email,
@@ -496,6 +603,17 @@ router.get("/child/:childId/analytics", async (req, res) => {
       } : null
     };
 
+    console.log('ChildCard created:', childCard);
+    console.log('School info:', schoolInfo);
+    console.log('School student DOB:', schoolStudentDob);
+    console.log('Child dob:', child.dob);
+    console.log('Effective DOB:', effectiveDob);
+    console.log('Child institution:', child.institution);
+    console.log('Child tenantId:', child.tenantId);
+    console.log('Parent tenantId:', req.tenantId);
+    console.log('Grade info:', gradeInfo);
+    console.log('School student classId:', schoolStudent?.classId);
+
     // 12. Detailed Progress Report Data
     const weeklyCoins = (transactions || [])
       .filter(t => t.type === 'earned' && new Date(t.createdAt) >= sevenDaysAgo)
@@ -834,7 +952,7 @@ router.get("/child", async (req, res) => {
     // Find the child by email
     const child = await User.findOne({ 
       email: parent.childEmail,
-      role: "student" 
+      role: { $in: ['student', 'school_student'] }
     }).select("name email dob avatar level currentStreak");
 
     if (!child) {
@@ -896,7 +1014,7 @@ router.get("/child/:childId/progress", async (req, res) => {
     const child = await User.findOne({
       _id: childId,
       guardianEmail: req.user.email,
-      role: "student"
+      role: { $in: ['student', 'school_student'] }
     });
 
     if (!child) {
@@ -928,7 +1046,7 @@ router.post("/child/:childId/report", async (req, res) => {
     const child = await User.findOne({
       _id: childId,
       guardianEmail: req.user.email,
-      role: "student"
+      role: { $in: ['student', 'school_student'] }
     });
 
     if (!child) {
diff --git a/backend/routes/schoolRoutes.js b/backend/routes/schoolRoutes.js
index 45d8085..c9dd819 100644
--- a/backend/routes/schoolRoutes.js
+++ b/backend/routes/schoolRoutes.js
@@ -52,7 +52,10 @@ import {
   createSchoolParent,
   createAssignment,
   updateAssignment,
-  deleteAssignment,
+  deleteAssignmentForTeacher,
+  deleteAssignmentForEveryone,
+  deleteAssignmentForStudent,
+  getAssignmentById,
   markMessageAsRead,
   createSampleData,
   getTeacherSettings,
@@ -70,13 +73,10 @@ import {
   assignStudentsToClass,
   generateRegistrationLink,
   bulkUploadStudents,
-  getAssignmentTemplates,
-  getQuestionBank,
   getInavoraCatalog,
   getAvailableBadges,
   getStudentsForAssignment,
   aiSuggestStudents,
-  createAdvancedAssignment,
   // New analytics endpoints
   getStudentAdoption,
   getSchoolPillarMastery,
@@ -358,7 +358,11 @@ router.get('/teacher/class-missions', requireAuth, requireSchoolRole, getClassMi
 // Assignment/Task CRUD
 router.post('/teacher/assignments', requireAuth, requireSchoolRole, createAssignment);
 router.put('/teacher/assignments/:assignmentId', requireAuth, requireSchoolRole, updateAssignment);
-router.delete('/teacher/assignments/:assignmentId', requireAuth, requireSchoolRole, deleteAssignment);
+router.delete('/teacher/assignments/:assignmentId/for-me', requireAuth, requireSchoolRole, deleteAssignmentForTeacher);
+router.delete('/teacher/assignments/:assignmentId/for-everyone', requireAuth, requireSchoolRole, deleteAssignmentForEveryone);
+
+// Student delete assignment
+router.delete('/student/assignments/:assignmentId/for-me', requireAuth, requireSchoolRole, deleteAssignmentForStudent);
 
 // Message operations
 router.put('/teacher/messages/:messageId/read', requireAuth, requireSchoolRole, markMessageAsRead);
@@ -391,18 +395,15 @@ router.post('/teacher/bulk-upload-students', requireAuth, requireSchoolRole, upl
 router.get('/teacher/groups', requireAuth, requireSchoolRole, getTeacherGroups);
 router.post('/teacher/groups', requireAuth, requireSchoolRole, createStudentGroup);
 
-// Assignment Wizard endpoints
-router.get('/teacher/assignment-templates', requireAuth, requireSchoolRole, getAssignmentTemplates);
-router.get('/teacher/question-bank', requireAuth, requireSchoolRole, getQuestionBank);
 router.get('/teacher/inavora-catalog', requireAuth, requireSchoolRole, getInavoraCatalog);
 router.get('/teacher/available-badges', requireAuth, requireSchoolRole, getAvailableBadges);
 router.post('/teacher/get-students-for-assignment', requireAuth, requireSchoolRole, getStudentsForAssignment);
 router.post('/teacher/ai-suggest-students', requireAuth, requireSchoolRole, aiSuggestStudents);
-router.post('/teacher/assignments/create-advanced', requireAuth, requireSchoolRole, createAdvancedAssignment);
 
 // School Student Routes
 router.get('/student/stats', requireAuth, requireSchoolRole, getStudentStats);
 router.get('/student/assignments', requireAuth, requireSchoolRole, getStudentAssignments);
+router.get('/assignments/:assignmentId', requireAuth, requireSchoolRole, getAssignmentById);
 router.get('/student/timetable', requireAuth, requireSchoolRole, getStudentTimetable);
 router.get('/student/grades', requireAuth, requireSchoolRole, getStudentGrades);
 router.get('/student/announcements', requireAuth, requireSchoolRole, getStudentAnnouncements);
diff --git a/backend/seed/challengeSeeder.js b/backend/seed/challengeSeeder.js
deleted file mode 100644
index c075e98..0000000
--- a/backend/seed/challengeSeeder.js
+++ /dev/null
@@ -1,84 +0,0 @@
-import mongoose from 'mongoose';
-import dotenv from 'dotenv';
-import Challenge from '../models/Challenge.js';
-
-// Load environment variables
-dotenv.config();
-
-// Connect to MongoDB
-mongoose
-  .connect(process.env.MONGO_URI)
-  .then(() => console.log('âœ… MongoDB connected for seeding'))
-  .catch((err) => {
-    console.error('âŒ MongoDB connection error:', err.message);
-    process.exit(1);
-  });
-
-// Generate 1000 unique challenges
-const categories = ['financial', 'education', 'planning', 'other', 'daily', 'weekly'];
-const difficulties = ['Easy', 'Medium', 'Hard'];
-const icons = ['Target', 'Coins', 'TrendingUp', 'Zap', 'Calendar', 'Award', 'Star', 'Crown', 'Gift', 'BookOpen'];
-const gradients = [
-  'from-green-400 to-emerald-400',
-  'from-yellow-400 to-orange-400',
-  'from-red-400 to-pink-400',
-  'from-blue-400 to-indigo-400',
-  'from-purple-400 to-violet-400',
-  'from-cyan-400 to-teal-400',
-  'from-orange-400 to-amber-400',
-  'from-pink-400 to-rose-400',
-  'from-indigo-400 to-blue-400',
-  'from-emerald-400 to-green-400'
-];
-
-function randomFrom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
-
-const challenges = Array.from({ length: 1000 }, (_, i) => {
-  const cat = randomFrom(categories);
-  const diff = randomFrom(difficulties);
-  const icon = randomFrom(icons);
-  const grad = randomFrom(gradients);
-  const xp = 50 + (i % 10) * 10 + (diff === 'Hard' ? 40 : diff === 'Medium' ? 20 : 0);
-  const coins = 20 + (i % 5) * 5 + (diff === 'Hard' ? 20 : diff === 'Medium' ? 10 : 0);
-  const steps = 3 + (i % 7);
-  return {
-    title: `Challenge #${i + 1}: ${cat.charAt(0).toUpperCase() + cat.slice(1)} Quest`,
-    description: `Complete the ${cat} challenge number ${i + 1} with ${steps} steps. Difficulty: ${diff}.`,
-    category: cat,
-    difficulty: diff,
-    xpReward: xp,
-    coinReward: coins,
-    estimatedTime: `${steps * (diff === 'Hard' ? 2 : 1)} days`,
-    completionSteps: steps,
-    benefits: [
-      `Benefit 1 for challenge ${i + 1}`,
-      `Benefit 2 for challenge ${i + 1}`,
-      `Benefit 3 for challenge ${i + 1}`
-    ],
-    iconName: icon,
-    gradientColors: grad
-  };
-});
-
-// Seed function
-const seedChallenges = async () => {
-  try {
-    // Clear existing challenges
-    await Challenge.deleteMany({});
-    console.log('ðŸ§¹ Cleared existing challenges');
-
-    // Insert new challenges
-    const createdChallenges = await Challenge.insertMany(challenges);
-    console.log(`ðŸŒ± Seeded ${createdChallenges.length} challenges`);
-
-    // Disconnect from MongoDB
-    mongoose.disconnect();
-    console.log('âœ… Database connection closed');
-  } catch (error) {
-    console.error('âŒ Error seeding challenges:', error);
-    process.exit(1);
-  }
-};
-
-// Run the seed function
-seedChallenges();
\ No newline at end of file
diff --git a/backend/server.js b/backend/server.js
index ca1604e..641cedd 100644
--- a/backend/server.js
+++ b/backend/server.js
@@ -88,10 +88,8 @@ import journalRoutes from "./routes/journalRoutes.js";
 import walletRoutes from "./routes/walletRoutes.js";
 import statsRoutes from "./routes/statsRoutes.js";
 import studentRoutes from "./routes/studentRoutes.js";
-import challengeRoutes from "./routes/challengeRoutes.js";
 import activityRoutes from './routes/activityRoutes.js';
 import userProgressRoutes from './routes/userProgressRoutes.js';
-import dailyChallengeRoutes from './routes/dailyChallengeRoutes.js';
 import userRoutes from "./routes/userRoutes.js";
 import parentRoutes from "./routes/parentRoutes.js";
 import sellerRoutes from "./routes/sellerRoutes.js";
@@ -109,6 +107,9 @@ import campaignApprovalRoutes from "./routes/campaignApprovalRoutes.js";
 import budgetTrackingRoutes from "./routes/budgetTrackingRoutes.js";
 import csrOverviewRoutes from "./routes/csrOverviewRoutes.js";
 import avatarRoutes from "./routes/avatarRoutes.js";
+import announcementRoutes from "./routes/announcementRoutes.js";
+import assignmentAttemptRoutes from "./routes/assignmentAttemptRoutes.js";
+import chatRoutes from "./routes/chatRoutes.js";
 
 // Multi-tenant routes
 import companyRoutes from "./routes/companyRoutes.js";
@@ -226,10 +227,8 @@ app.use("/api/journal", journalRoutes);
 app.use("/api/wallet", walletRoutes);
 app.use("/api/stats", statsRoutes);
 app.use("/api/student", studentRoutes);
-app.use("/api/challenges", challengeRoutes);
 app.use('/api/activity', activityRoutes);
 app.use('/api/progress', userProgressRoutes);
-app.use('/api/daily-challenges', dailyChallengeRoutes);
 app.use('/api/user', userRoutes);
 app.use('/api/parent', parentRoutes);
 app.use('/api/seller', sellerRoutes);
@@ -247,6 +246,9 @@ app.use('/api/campaign-approvals', campaignApprovalRoutes);
 app.use('/api/budget-tracking', budgetTrackingRoutes);
 app.use('/api/csr-overview', csrOverviewRoutes);
 app.use('/api/avatar', avatarRoutes);
+app.use('/api/announcements', announcementRoutes);
+app.use('/api/assignment-attempts', assignmentAttemptRoutes);
+app.use('/api/chat', chatRoutes);
 
 // Health Check
 app.get("/", (_, res) => {
diff --git a/backend/services/csrKPICalculationService.js b/backend/services/csrKPICalculationService.js
index d064343..cd0d0db 100644
--- a/backend/services/csrKPICalculationService.js
+++ b/backend/services/csrKPICalculationService.js
@@ -1,5 +1,4 @@
 import User from '../models/User.js';
-import Challenge from '../models/Challenge.js';
 import VoucherRedemption from '../models/VoucherRedemption.js';
 import GameProgress from '../models/GameProgress.js';
 import Wallet from '../models/Wallet.js';
@@ -164,68 +163,10 @@ class CSRKPICalculationService {
     };
   }
 
-  // Calculate Campaign Completion Rates
+  // Calculate Campaign Completion Rates (Disabled - Challenge model removed)
   async calculateCampaignCompletionRates(filters, dateRange) {
-    const baseQuery = this.buildBaseQuery(filters, dateRange);
-    
-    // Get all campaigns in the period
-    const campaigns = await Challenge.find({
-      ...baseQuery,
-      type: { $in: ['campaign', 'challenge'] },
-      $or: [
-        { startDate: { $lte: dateRange.endDate, $gte: dateRange.startDate } },
-        { endDate: { $lte: dateRange.endDate, $gte: dateRange.startDate } },
-        { 
-          startDate: { $lte: dateRange.startDate },
-          endDate: { $gte: dateRange.endDate }
-        }
-      ]
-    }).populate('participants', 'userId status completedAt');
-
-    const campaignData = await Promise.all(campaigns.map(async (campaign) => {
-      // Get all participants
-      const participants = await User.find({
-        'challenges.challengeId': campaign._id,
-        role: 'student'
-      });
-
-      // Get completion data
-      const completedParticipants = participants.filter(p => {
-        const challengeData = p.challenges.find(c => 
-          c.challengeId.toString() === campaign._id.toString()
-        );
-        return challengeData && challengeData.status === 'completed';
-      });
-
-      // Calculate engagement metrics
-      const engagementRate = participants.length > 0 ? 
-        (completedParticipants.length / participants.length) * 100 : 0;
-
-      // Get activity logs for engagement measurement
-      const activityLogs = await ActivityLog.find({
-        userId: { $in: participants.map(p => p._id) },
-        activity: { $regex: campaign.title, $options: 'i' },
-        timestamp: { $gte: dateRange.startDate, $lte: dateRange.endDate }
-      });
-
-      return {
-        campaignId: campaign._id,
-        campaignName: campaign.title,
-        totalParticipants: participants.length,
-        completedParticipants: completedParticipants.length,
-        completionRate: engagementRate,
-        startDate: campaign.startDate,
-        endDate: campaign.endDate,
-        targetAudience: campaign.targetAudience || 'All Students',
-        objectives: campaign.objectives || [],
-        status: this.determineCampaignStatus(campaign),
-        engagementScore: this.calculateEngagementScore(activityLogs, participants.length),
-        averageTimeToComplete: this.calculateAverageCompletionTime(completedParticipants),
-        dropOffRate: this.calculateDropOffRate(participants, completedParticipants)
-      };
-    }));
-
-    return campaignData;
+    // Return empty array since Challenge model has been removed
+    return [];
   }
 
   // Calculate Engagement Lift vs Baseline
@@ -326,7 +267,7 @@ class CSRKPICalculationService {
   async calculateCertificatesData(filters, dateRange) {
     const baseQuery = this.buildBaseQuery(filters, dateRange);
     
-    // Get students who completed challenges/games
+    // Get students who completed games
     const students = await User.find({ ...baseQuery, role: 'student' });
     const gameProgress = await GameProgress.find({
       userId: { $in: students.map(s => s._id) },
diff --git a/backend/socketHandlers/chatSocket.js b/backend/socketHandlers/chatSocket.js
index 4b3008d..dc585c6 100644
--- a/backend/socketHandlers/chatSocket.js
+++ b/backend/socketHandlers/chatSocket.js
@@ -1,276 +1,170 @@
+import Chat from '../models/Chat.js';
+import Message from '../models/Message.js';
 import User from '../models/User.js';
-import ChatMessage from '../models/ChatMessage.js';
-import ChatSession from '../models/ChatSession.js';
-import ActivityLog from '../models/ActivityLog.js';
-import aimlService from '../services/aimlService.js';
 
-/**
- * Socket handler for chat real-time interactions
- * Enables students to send and receive chat messages
- */
-export const setupChatSocket = (io, socket, user) => {
-  // Student subscribe to chat - Enhanced with AIML chat history
-  socket.on('student:chat:subscribe', async ({ studentId }) => {
-    try {
-      // Verify user permissions (allow students, teachers, and other school roles)
-      const allowedRoles = ['student', 'school_teacher', 'school_student', 'parent', 'school_parent'];
-      if (user._id.toString() !== studentId || !allowedRoles.includes(user.role)) {
-        socket.emit('student:chat:error', { message: 'Unauthorized access' });
-        return;
+export const setupChatSocket = (io) => {
+  // Increase max listeners to prevent memory leak warnings
+  io.setMaxListeners(20);
+  
+  io.on('connection', (socket) => {
+    console.log('ðŸ’¬ Chat socket connected:', socket.id);
+    
+    // Set max listeners for this socket
+    socket.setMaxListeners(20);
+
+    // Join chat room
+    socket.on('join-chat', async (chatId) => {
+      try {
+        const chat = await Chat.findById(chatId);
+        if (chat) {
+          socket.join(chatId);
+          socket.emit('joined-chat', { chatId });
+          console.log(`User joined chat: ${chatId}`);
+        }
+      } catch (error) {
+        console.error('Error joining chat:', error);
+        socket.emit('error', { message: 'Failed to join chat' });
       }
-
-      console.log(`ðŸ’¬ Student ${studentId} subscribed to AIML chat`);
-      
-      // Join student-specific room for chat updates
-      socket.join(`student-chat-${studentId}`);
-      
-      // Get or create student's chat session
-      let chatSession = await ChatSession.findOne({ userId: studentId });
-      if (!chatSession) {
-        const today = new Date().toISOString().split('T')[0];
-        chatSession = new ChatSession({
-          userId: studentId,
-          sessionId: `finmen_${studentId}_${today}`,
-          messages: [],
-          lastUsed: new Date()
+    });
+
+    // Leave chat room
+    socket.on('leave-chat', (chatId) => {
+      socket.leave(chatId);
+      socket.emit('left-chat', { chatId });
+      console.log(`User left chat: ${chatId}`);
+    });
+
+    // Send message
+    socket.on('send-message', async (data) => {
+      try {
+        const { chatId, content, messageType = 'text', replyTo, attachments } = data;
+        const userId = socket.userId;
+
+        if (!userId) {
+          socket.emit('error', { message: 'User not authenticated' });
+          return;
+        }
+
+        const user = await User.findById(userId).select('name avatar role');
+        if (!user) {
+          socket.emit('error', { message: 'User not found' });
+          return;
+        }
+
+        const message = new Message({
+          chatId,
+          senderId: userId,
+          senderRole: user.role === 'school_teacher' ? 'teacher' : 'parent',
+          content: content.trim(),
+          messageType,
+          replyTo,
+          attachments: attachments || []
         });
-        await chatSession.save();
-      }
-      
-      // Update stats and send chat history with user stats
-      chatSession.updateStats();
-      await chatSession.save();
-      
-      // Send enhanced chat history with session stats
-      const enhancedHistory = {
-        messages: chatSession.messages.slice(-50), // Last 50 messages
-        userXP: chatSession.userXP,
-        chatStreak: chatSession.chatStreak,
-        achievements: chatSession.achievements,
-        averageMood: chatSession.averageMood
-      };
-      
-      socket.emit('student:chat:history', enhancedHistory);
-      
-      // Check AIML service health and notify client
-      const serviceHealth = await aimlService.checkServiceHealth();
-      socket.emit('student:chat:service-status', { 
-        aimlAvailable: serviceHealth,
-        message: serviceHealth ? 
-          'AI chatbot is ready! ðŸ¤–âœ¨' : 
-          'AI is in basic mode - still here to help! ðŸ¤–'
-      });
-      
-    } catch (err) {
-      console.error('Error in student:chat:subscribe:', err);
-      socket.emit('student:chat:error', { message: err.message });
-    }
-  });
-
-  // Student send chat message - Enhanced with AIML integration
-  socket.on('student:chat:send', async ({ studentId, message, text, attachments = [] }) => {
-    try {
-      // Verify user permissions (allow students, teachers, and other school roles)
-      const allowedRoles = ['student', 'school_teacher', 'school_student', 'parent', 'school_parent'];
-      if (user._id.toString() !== studentId || !allowedRoles.includes(user.role)) {
-        socket.emit('student:chat:error', { message: 'Unauthorized access' });
-        return;
-      }
-
-      // Use either 'message' or 'text' parameter for backward compatibility
-      const userMessage = message || text;
-      
-      // Validate input
-      if (!userMessage && attachments.length === 0) {
-        socket.emit('student:chat:error', { message: 'Message or attachment is required' });
-        return;
-      }
-
-      console.log(`ðŸ’¬ Student ${studentId} sent message: ${userMessage}`);
-      
-      // Process message through AIML service
-      const chatResponse = await aimlService.processMessage(studentId, userMessage);
-      
-      // Update chat session stats
-      const chatSession = await ChatSession.findOne({ userId: studentId });
-      if (chatSession) {
-        chatSession.updateStats();
-        await chatSession.save();
-      }
-      
-      // Send user message to student
-      socket.emit('student:chat:message', chatResponse.userMessage);
-      
-      // Send bot response with a small delay for natural feel
-      setTimeout(() => {
-        socket.emit('student:chat:message', chatResponse.botMessage);
-      }, 500 + Math.random() * 1500); // Random delay between 0.5-2 seconds
-      
-      // Log activity
-      await ActivityLog.create({
-        userId: studentId,
-        activityType: 'chat_message_sent',
-        details: {
-          messageLength: userMessage.length,
-          category: chatResponse.botMessage.category,
-          hasAttachments: attachments.length > 0
-        },
-        timestamp: new Date()
-      });
-
-    } catch (err) {
-      console.error('Error in student:chat:send:', err);
-      socket.emit('student:chat:error', { message: 'Failed to process your message. Please try again.' });
-    }
-  });
-
-  // Admin subscribe to all student chats
-  socket.on('admin:chat:subscribe', async ({ adminId }) => {
-    try {
-      // Verify admin permissions
-      if (user._id.toString() !== adminId || user.role !== 'admin') {
-        socket.emit('admin:chat:error', { message: 'Unauthorized access' });
-        return;
-      }
 
-      console.log(`ðŸ’¬ Admin ${adminId} subscribed to all chats`);
-      
-      // Join admin-specific room for chat updates
-      socket.join('admin-chat');
-      
-      // Get all recent chat messages (last 100 messages)
-      const chatHistory = await ChatMessage.find({})
-        .sort({ timestamp: -1 })
-        .limit(100)
-        .populate('senderId', 'name profilePicture')
-        .populate('receiverId', 'name profilePicture')
-        .lean();
-      
-      socket.emit('admin:chat:history', chatHistory);
-      
-    } catch (err) {
-      console.error('Error in admin:chat:subscribe:', err);
-      socket.emit('admin:chat:error', { message: err.message });
-    }
-  });
+        await message.save();
+        await message.populate('senderId', 'name avatar role');
+        await message.populate('replyTo');
+
+        // Update chat with last message
+        await Chat.findByIdAndUpdate(chatId, {
+          lastMessage: message._id,
+          lastMessageAt: new Date(),
+          $inc: {
+            [`unreadCount.${user.role === 'school_teacher' ? 'parent' : 'teacher'}`]: 1
+          }
+        });
 
-  // Admin send chat message to student
-  socket.on('admin:chat:send', async ({ adminId, studentId, message, attachments = [] }) => {
-    try {
-      // Verify admin permissions
-      if (user._id.toString() !== adminId || user.role !== 'admin') {
-        socket.emit('admin:chat:error', { message: 'Unauthorized access' });
-        return;
-      }
+        // Emit message to all users in the chat room
+        io.to(chatId).emit('new-message', {
+          message,
+          chatId
+        });
 
-      // Validate input
-      if (!message && attachments.length === 0) {
-        socket.emit('admin:chat:error', { message: 'Message or attachment is required' });
-        return;
+        console.log(`Message sent in chat ${chatId}:`, content.substring(0, 50));
+      } catch (error) {
+        console.error('Error sending message:', error);
+        socket.emit('error', { message: 'Failed to send message' });
       }
+    });
+
+    // Mark messages as seen
+    socket.on('mark-as-seen', async (data) => {
+      try {
+        const { chatId } = data;
+        const userId = socket.userId;
+
+        if (!userId) {
+          socket.emit('error', { message: 'User not authenticated' });
+          return;
+        }
+
+        const user = await User.findById(userId).select('role');
+        if (!user) {
+          socket.emit('error', { message: 'User not found' });
+          return;
+        }
+
+        // Mark all messages in chat as seen for current user
+        await Message.updateMany(
+          { 
+            chatId, 
+            senderId: { $ne: userId },
+            'readBy.userId': { $ne: userId }
+          },
+          { 
+            $addToSet: { 
+              readBy: { 
+                userId: userId, 
+                readAt: new Date() 
+              } 
+            },
+            $set: { status: 'seen' }
+          }
+        );
+
+        // Update unread count
+        await Chat.findByIdAndUpdate(chatId, {
+          $set: {
+            [`unreadCount.${user.role === 'school_teacher' ? 'teacher' : 'parent'}`]: 0
+          }
+        });
 
-      if (!studentId) {
-        socket.emit('admin:chat:error', { message: 'Student ID is required' });
-        return;
-      }
+        // Emit seen status to other users in chat
+        socket.to(chatId).emit('messages-seen', {
+          chatId,
+          seenBy: userId,
+          seenAt: new Date()
+        });
 
-      // Verify student exists
-      const student = await User.findOne({ _id: studentId, role: 'student' });
-      if (!student) {
-        socket.emit('admin:chat:error', { message: 'Student not found' });
-        return;
+        console.log(`Messages marked as seen in chat ${chatId} by user ${userId}`);
+      } catch (error) {
+        console.error('Error marking messages as seen:', error);
+        socket.emit('error', { message: 'Failed to mark messages as seen' });
       }
-
-      // Create chat message
-      const chatMessage = await ChatMessage.create({
-        senderId: adminId,
-        receiverId: studentId,
-        message,
-        attachments,
-        timestamp: new Date(),
-        isRead: false
-      });
-
-      // Populate sender info
-      const populatedMessage = await ChatMessage.findById(chatMessage._id)
-        .populate('senderId', 'name profilePicture')
-        .lean();
-
-      // Log activity
-      await ActivityLog.create({
-        userId: adminId,
-        activityType: 'chat_message_sent',
-        details: {
-          messageId: chatMessage._id,
-          receiverId: studentId
-        },
-        timestamp: new Date()
+    });
+
+    // Typing indicator
+    socket.on('typing-start', (data) => {
+      const { chatId, userId } = data;
+      socket.to(chatId).emit('user-typing', {
+        chatId,
+        userId,
+        isTyping: true
       });
-
-      // Send message to all admins
-      io.to('admin-chat').emit('admin:chat:message', {
-        ...populatedMessage,
-        studentId
+    });
+
+    socket.on('typing-stop', (data) => {
+      const { chatId, userId } = data;
+      socket.to(chatId).emit('user-typing', {
+        chatId,
+        userId,
+        isTyping: false
       });
-      
-      // Send message to specific student if they're online
-      io.to(`student-chat-${studentId}`).emit('student:chat:message', populatedMessage);
-
-    } catch (err) {
-      console.error('Error in admin:chat:send:', err);
-      socket.emit('admin:chat:error', { message: err.message });
-    }
-  });
-
-  // Mark messages as read
-  socket.on('chat:mark-read', async ({ userId, messageIds }) => {
-    try {
-      // Verify user permissions
-      if (user._id.toString() !== userId) {
-        socket.emit('chat:error', { message: 'Unauthorized access' });
-        return;
-      }
-
-      if (!messageIds || !Array.isArray(messageIds) || messageIds.length === 0) {
-        socket.emit('chat:error', { message: 'Message IDs are required' });
-        return;
-      }
-
-      // Update messages as read
-      await ChatMessage.updateMany(
-        { _id: { $in: messageIds }, receiverId: userId },
-        { $set: { isRead: true } }
-      );
-
-      // Notify about read status
-      if (user.role === 'student') {
-        io.to('admin-chat').emit('admin:chat:read', { messageIds, studentId: userId });
-      } else if (user.role === 'admin') {
-        // Find the students associated with these messages
-        const messages = await ChatMessage.find({ _id: { $in: messageIds } });
-        const studentIds = [...new Set(messages.map(msg => 
-          msg.senderId.toString() === userId ? msg.receiverId.toString() : msg.senderId.toString()
-        ))];
-        
-        // Notify each student
-        studentIds.forEach(studentId => {
-          io.to(`student-chat-${studentId}`).emit('student:chat:read', { messageIds });
-        });
-      }
-
-    } catch (err) {
-      console.error('Error in chat:mark-read:', err);
-      socket.emit('chat:error', { message: err.message });
-    }
-  });
+    });
 
-  // Cleanup when socket disconnects
-  socket.on('disconnect', () => {
-    // Leave all rooms related to chat
-    if (user.role === 'student') {
-      socket.leave(`student-chat-${user._id}`);
-    } else if (user.role === 'admin') {
-      socket.leave('admin-chat');
-    }
+    // Handle disconnect
+    socket.on('disconnect', () => {
+      console.log('ðŸ’¬ Chat socket disconnected:', socket.id);
+    });
   });
 };
\ No newline at end of file
diff --git a/backend/socketHandlers/gameSocket.js b/backend/socketHandlers/gameSocket.js
index 8ef752a..5350551 100644
--- a/backend/socketHandlers/gameSocket.js
+++ b/backend/socketHandlers/gameSocket.js
@@ -1,6 +1,5 @@
 import User from '../models/User.js';
 import FinancialMission from '../models/FinancialMission.js';
-import Challenge from '../models/Challenge.js';
 import ActivityLog from '../models/ActivityLog.js';
 import Wallet from '../models/Wallet.js';
 import Transaction from '../models/Transaction.js';
@@ -8,7 +7,7 @@ import UserProgress from '../models/UserProgress.js';
 
 /**
  * Socket handler for game-related real-time interactions
- * Enables students to interact with missions, challenges, and leaderboards
+ * Enables students to interact with missions and leaderboards
  */
 export const setupGameSocket = (io, socket, user) => {
   // Student subscribe to missions
@@ -178,58 +177,6 @@ export const setupGameSocket = (io, socket, user) => {
     }
   });
 
-  // Student subscribe to challenges
-  socket.on('student:challenges:subscribe', async ({ studentId }) => {
-    try {
-      // Verify student permissions
-      if (user._id.toString() !== studentId || user.role !== 'student') {
-        socket.emit('student:challenges:error', { message: 'Unauthorized access' });
-        return;
-      }
-
-      console.log(`ðŸ† Student ${studentId} subscribed to challenges`);
-      
-      // Join student-specific room for challenges
-      socket.join(`student-challenges-${studentId}`);
-      
-      // Get active challenges
-      const now = new Date();
-      const challenges = await Challenge.find({
-        startDate: { $lte: now },
-        endDate: { $gte: now }
-      }).sort({ endDate: 1 });
-      
-      // Get student's challenge progress
-      const student = await User.findById(studentId).select('challengeProgress');
-      const challengeProgress = student?.challengeProgress || {};
-      
-      // Add progress information to challenges
-      const challengesWithProgress = challenges.map(challenge => {
-        const progress = challengeProgress[challenge._id] || 0;
-        const isCompleted = progress >= challenge.targetValue;
-        
-        return {
-          _id: challenge._id,
-          title: challenge.title,
-          description: challenge.description,
-          type: challenge.type,
-          targetValue: challenge.targetValue,
-          xpReward: challenge.xpReward,
-          coinReward: challenge.coinReward,
-          startDate: challenge.startDate,
-          endDate: challenge.endDate,
-          progress,
-          isCompleted
-        };
-      });
-      
-      socket.emit('student:challenges:data', challengesWithProgress);
-      
-    } catch (err) {
-      console.error('Error in student:challenges:subscribe:', err);
-      socket.emit('student:challenges:error', { message: err.message });
-    }
-  });
 
   // Student subscribe to leaderboard
   socket.on('student:leaderboard:subscribe', async ({ period }) => {
@@ -307,7 +254,6 @@ export const setupGameSocket = (io, socket, user) => {
     // Leave all game-related rooms
     if (user.role === 'student') {
       socket.leave(`student-missions-${user._id}`);
-      socket.leave(`student-challenges-${user._id}`);
       
       // Leave leaderboard rooms
       ['daily', 'weekly', 'monthly', 'allTime'].forEach(period => {
diff --git a/backend/tests/dailyChallenges.test.js b/backend/tests/dailyChallenges.test.js
deleted file mode 100644
index 47c7bb4..0000000
--- a/backend/tests/dailyChallenges.test.js
+++ /dev/null
@@ -1,34 +0,0 @@
-// Minimal illustrative tests (requires jest and test setup)
-import request from 'supertest';
-import app from '../server';
-
-// NOTE: This file is illustrative. A proper test harness and DB fixtures are needed.
-describe('Daily Challenges', () => {
-  it('should return 10 daily challenges', async () => {
-    const token = 'TEST_JWT'; // replace with real token in setup
-    const res = await request(app)
-      .get('/api/daily-challenges')
-      .set('Authorization', `Bearer ${token}`);
-    expect(res.status).toBe(200);
-    expect(Array.isArray(res.body.challenges)).toBe(true);
-    // expect(res.body.challenges).toHaveLength(10); // enable with stable data
-  });
-
-  it('should update progress and award rewards on completion', async () => {
-    const token = 'TEST_JWT'; // replace with real token in setup
-    const challengesRes = await request(app)
-      .get('/api/daily-challenges')
-      .set('Authorization', `Bearer ${token}`);
-    const challenge = challengesRes.body.challenges?.[0]?.challenge;
-    if (!challenge) return;
-
-    // Complete all steps
-    for (let step = 1; step <= (challenge.completionSteps || 1); step++) {
-      const res = await request(app)
-        .post(`/api/daily-challenges/progress/${challenge._id}`)
-        .send({ step })
-        .set('Authorization', `Bearer ${token}`);
-      expect([200, 400, 404]).toContain(res.status);
-    }
-  });
-});
diff --git a/frontend/src/App.jsx b/frontend/src/App.jsx
index 058492b..2ba8019 100644
--- a/frontend/src/App.jsx
+++ b/frontend/src/App.jsx
@@ -21,6 +21,8 @@ import AccountTypeSelection from "./pages/Auth/AccountTypeSelection";
 
 // Student Pages
 import StudentDashboard from "./pages/Student/StudentDashboard";
+import StudentActivity from "./pages/Student/StudentActivity";
+import AssignmentAttempt from "./pages/Student/AssignmentAttempt";
 import CategoryView from "./pages/Student/CategoryView";
 import QuickQuiz from "./pages/Student/QuickQuiz";
 import MoodTracker from "./pages/Student/MoodTracker";
@@ -36,8 +38,6 @@ import Notifications from "./components/Notifications";
 import Profile from "./components/Profile";
 import Setting from "./components/Settings";
 import BreathingExercise from "./pages/Student/BreathingExercise";
-import DailyChallenges from "./pages/Student/DailyChallenges";
-import Challenge from "./pages/Student/Challenge";
 import FinancialLiteracy from "./pages/Student/FinancialLiteracy";
 import BudgetPlanner from "./pages/Student/BudgetPlanner";
 import InvestmentSimulator from "./pages/Student/InvestmentSimulator";
@@ -450,6 +450,8 @@ import CSRCobranding from "./pages/CSR/CSRCobranding";
 import CompanySignup from "./pages/MultiTenant/CompanySignup";
 import CreateOrganization from "./pages/MultiTenant/CreateOrganization";
 import SchoolAdminDashboard from "./pages/School/SchoolAdminDashboard";
+import AnnouncementManagement from "./pages/School/AnnouncementManagement";
+import Announcements from "./pages/School/Announcements";
 import SchoolAdminAnalytics from "./pages/School/SchoolAdminAnalytics";
 import SchoolAdminStudents from "./pages/School/SchoolAdminStudents";
 import SchoolAdminTeachers from "./pages/School/SchoolAdminTeachers";
@@ -475,6 +477,9 @@ import TeacherMessages from "./pages/School/TeacherMessages";
 import TeacherTasks from "./pages/School/TeacherTasks";
 import TeacherSettings from "./pages/School/TeacherSettings";
 import TeacherStudentProgress from "./pages/School/TeacherStudentProgress";
+import TeacherParentChat from "./pages/School/TeacherParentChat";
+import ParentChat from "./pages/Parent/ParentChat";
+import AssignmentTracking from "./pages/School/AssignmentTracking";
 import LandingPage from "./pages/LandingPage";
 import IndividualAccountSelection from "./pages/IndividualAccountSelection";
 
@@ -625,6 +630,7 @@ const App = () => {
           <Route path="/school/admin/teachers" element={<ProtectedRoute roles={['school_admin']}><SchoolAdminTeachers /></ProtectedRoute>} />
           <Route path="/school/admin/classes" element={<ProtectedRoute roles={['school_admin']}><SchoolAdminClasses /></ProtectedRoute>} />
           <Route path="/school/admin/staff" element={<ProtectedRoute roles={['school_admin']}><SchoolAdminStaff /></ProtectedRoute>} />
+          <Route path="/school/admin/announcements" element={<ProtectedRoute roles={['school_admin']}><AnnouncementManagement /></ProtectedRoute>} />
           <Route path="/school/admin/approvals" element={<ProtectedRoute roles={['school_admin']}><SchoolAdminApprovals /></ProtectedRoute>} />
           <Route path="/school/admin/templates" element={<ProtectedRoute roles={['school_admin']}><SchoolAdminTemplates /></ProtectedRoute>} />
           <Route path="/school/admin/nep-tracking" element={<ProtectedRoute roles={['school_admin']}><SchoolAdminNEPTracking /></ProtectedRoute>} />
@@ -644,18 +650,27 @@ const App = () => {
           <Route path="/school-teacher/students" element={<ProtectedRoute roles={['school_teacher']}><TeacherStudents /></ProtectedRoute>} />
           <Route path="/school-teacher/analytics" element={<ProtectedRoute roles={['school_teacher']}><TeacherAnalytics /></ProtectedRoute>} />
           <Route path="/school-teacher/messages" element={<ProtectedRoute roles={['school_teacher']}><TeacherMessages /></ProtectedRoute>} />
+          <Route path="/school-teacher/announcements" element={<ProtectedRoute roles={['school_teacher']}><Announcements /></ProtectedRoute>} />
           <Route path="/school-teacher/tasks" element={<ProtectedRoute roles={['school_teacher']}><TeacherTasks /></ProtectedRoute>} />
+          <Route path="/school-teacher/tracking" element={<ProtectedRoute roles={['school_teacher']}><AssignmentTracking /></ProtectedRoute>} />
           <Route path="/school-teacher/settings" element={<ProtectedRoute roles={['school_teacher']}><TeacherSettings /></ProtectedRoute>} />
           <Route path="/school_teacher/settings" element={<ProtectedRoute roles={['school_teacher']}><TeacherSettings /></ProtectedRoute>} />
           <Route path="/school-teacher/student/:studentId/progress" element={<ProtectedRoute roles={['school_teacher']}><TeacherStudentProgress /></ProtectedRoute>} />
+          <Route path="/school-teacher/student/:studentId/chat" element={<ProtectedRoute roles={['school_teacher']}><TeacherParentChat /></ProtectedRoute>} />
           <Route path="/school-teacher/profile" element={<ProtectedRoute roles={['school_teacher']}><Profile /></ProtectedRoute>} />
           <Route path="/school_teacher/profile" element={<ProtectedRoute roles={['school_teacher']}><Profile /></ProtectedRoute>} />
           
           <Route path="/school-student/dashboard" element={<ProtectedRoute roles={['school_student']}><SchoolStudentDashboard /></ProtectedRoute>} />
+          <Route path="/school-student/announcements" element={<ProtectedRoute roles={['school_student']}><Announcements /></ProtectedRoute>} />
           <Route path="/school-parent/dashboard" element={<ProtectedRoute roles={['school_parent']}><SchoolParentDashboard /></ProtectedRoute>} />
+          <Route path="/school-parent/announcements" element={<ProtectedRoute roles={['school_parent']}><Announcements /></ProtectedRoute>} />
+          <Route path="/school-parent/student/:studentId/chat" element={<ProtectedRoute roles={['school_parent']}><ParentChat /></ProtectedRoute>} />
           
           {/* Student Routes */}
           <Route path="/student/dashboard" element={<ProtectedRoute roles={['student', 'school_student']}><StudentDashboard /></ProtectedRoute>} />
+          <Route path="/student/activity" element={<ProtectedRoute roles={['student', 'school_student']}><StudentActivity /></ProtectedRoute>} />
+          <Route path="/student/assignment/:assignmentId/attempt" element={<ProtectedRoute roles={['student', 'school_student']}><AssignmentAttempt /></ProtectedRoute>} />
+          <Route path="/student/announcements" element={<ProtectedRoute roles={['student']}><Announcements /></ProtectedRoute>} />
           <Route path="/student/dashboard/quick-quiz" element={<ProtectedRoute roles={['student', 'school_student']}><QuickQuiz /></ProtectedRoute>} />
           <Route path="/student/dashboard/:categorySlug" element={<ProtectedRoute roles={['student', 'school_student']}><CategoryView /></ProtectedRoute>} />
           <Route path="/student/mindfull-break" element={<ProtectedRoute roles={['student', 'school_student']}><MindfulnessBreak /></ProtectedRoute>} />
@@ -670,8 +685,6 @@ const App = () => {
           <Route path="/student/profile" element={<ProtectedRoute roles={['student', 'school_student']}><Profile /></ProtectedRoute>} />
           <Route path="/student/settings" element={<ProtectedRoute roles={['student', 'school_student']}><Setting /></ProtectedRoute>} />
           <Route path="/student/breathing" element={<ProtectedRoute roles={['student', 'school_student']}><MindfulnessBreak /></ProtectedRoute>} />
-          <Route path="/student/daily-challenges" element={<ProtectedRoute roles={['student', 'school_student']}><DailyChallenges /></ProtectedRoute>} />
-          <Route path="/student/challenge" element={<ProtectedRoute roles={['student', 'school_student']}><Challenge /></ProtectedRoute>} />
           <Route path="/learn/financial-literacy" element={<ProtectedRoute roles={['student', 'school_student']}><FinancialLiteracy /></ProtectedRoute>} />
           <Route path="/tools/budget-planner" element={<ProtectedRoute roles={['student', 'school_student']}><BudgetPlanner /></ProtectedRoute>} />
           <Route path="/games/investment-simulator" element={<ProtectedRoute roles={['student', 'school_student']}><InvestmentSimulator /></ProtectedRoute>} />
@@ -1063,6 +1076,7 @@ const App = () => {
           {/* Parent Routes */}
           <Route path="/parent/overview" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ParentOverview /></ProtectedRoute>} />
           <Route path="/parent/dashboard" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ParentDashboard /></ProtectedRoute>} />
+          <Route path="/parent/announcements" element={<ProtectedRoute roles={['parent']} requireApproved={true}><Announcements /></ProtectedRoute>} />
           <Route path="/parent/children" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ParentChildren /></ProtectedRoute>} />
           <Route path="/parent/messages" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ParentMessages /></ProtectedRoute>} />
           <Route path="/parent/settings" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ParentSettings /></ProtectedRoute>} />
@@ -1073,6 +1087,7 @@ const App = () => {
           <Route path="/parent/child/:childId/progress" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ChildProgress /></ProtectedRoute>} />
           <Route path="/parent/child/:childId/wellbeing" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ChildMoodWellbeing /></ProtectedRoute>} />
           <Route path="/parent/child/:childId/wallet" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ChildWalletRewards /></ProtectedRoute>} />
+          <Route path="/parent/child/:childId/chat" element={<ProtectedRoute roles={['parent']} requireApproved={true}><ParentChat /></ProtectedRoute>} />
           
           <Route path="/parent/profile" element={<ProtectedRoute roles={['parent']}><Profile /></ProtectedRoute>} />
           <Route path="/parent/notifications" element={<ProtectedRoute roles={['parent']}><Notifications /></ProtectedRoute>} />
diff --git a/frontend/src/components/AddStudentModal.jsx b/frontend/src/components/AddStudentModal.jsx
index 2097ab9..0d0ef39 100644
--- a/frontend/src/components/AddStudentModal.jsx
+++ b/frontend/src/components/AddStudentModal.jsx
@@ -165,6 +165,25 @@ const AddStudentModal = ({
                     </select>
                   </div>
 
+                  <div>
+                    <label className="block text-sm font-bold text-gray-700 mb-2">
+                      Date of Birth *
+                    </label>
+                    <input
+                      type="date"
+                      value={newStudent.dateOfBirth}
+                      onChange={(e) =>
+                        setNewStudent((prev) => ({ ...prev, dateOfBirth: e.target.value }))
+                      }
+                      className="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none font-semibold"
+                      required
+                      max={new Date().toISOString().split('T')[0]} // Prevent future dates
+                    />
+                    <p className="text-xs text-gray-500 mt-1">
+                      Student's date of birth
+                    </p>
+                  </div>
+
                   <div>
                     <label className="block text-sm font-bold text-gray-700 mb-2">
                       Password *
diff --git a/frontend/src/components/AssignmentWizard.jsx b/frontend/src/components/AssignmentWizard.jsx
deleted file mode 100644
index 60ab897..0000000
--- a/frontend/src/components/AssignmentWizard.jsx
+++ /dev/null
@@ -1,319 +0,0 @@
-import React, { useState } from "react";
-import { motion, AnimatePresence } from "framer-motion";
-import { X, ChevronLeft, ChevronRight, Check } from "lucide-react";
-import { toast } from "react-hot-toast";
-import api from "../utils/api";
-
-// Step Components
-import ScopeStep from "./AssignmentWizard/ScopeStep";
-import TemplateStep from "./AssignmentWizard/TemplateStep";
-import ModulesStep from "./AssignmentWizard/ModulesStep";
-import RulesStep from "./AssignmentWizard/RulesStep";
-import ParticipantsStep from "./AssignmentWizard/ParticipantsStep";
-import RewardsStep from "./AssignmentWizard/RewardsStep";
-import PublishStep from "./AssignmentWizard/PublishStep";
-
-const AssignmentWizard = ({ isOpen, onClose, defaultClassId, defaultClassName }) => {
-  const [currentStep, setCurrentStep] = useState(1);
-  const [loading, setLoading] = useState(false);
-
-  // Wizard data state
-  const [wizardData, setWizardData] = useState({
-    scope: {
-      type: defaultClassId ? "single_class" : "single_class",
-      classes: defaultClassId ? [{ id: defaultClassId, name: defaultClassName }] : [],
-      approvalRequired: false
-    },
-    template: {
-      type: "blank", // "template" | "blank"
-      selectedTemplate: null
-    },
-    modules: {
-      items: []
-    },
-    rules: {
-      startTime: new Date().toISOString().slice(0, 16),
-      endTime: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().slice(0, 16),
-      maxAttempts: 3,
-      randomizeQuestions: false,
-      gradingType: "auto",
-      accessibility: {
-        allowScreenReader: true,
-        extraTime: false,
-        textToSpeech: false
-      }
-    },
-    participants: {
-      mode: "all", // "all" | "filtered" | "manual" | "ai_suggested"
-      selectedStudents: [],
-      filterTags: [],
-      aiSuggestions: []
-    },
-    rewards: {
-      healCoins: 100,
-      bonusMultiplier: 1,
-      badges: [],
-      certificate: false
-    }
-  });
-
-  const steps = [
-    { number: 1, title: "Scope", component: ScopeStep },
-    { number: 2, title: "Template", component: TemplateStep },
-    { number: 3, title: "Modules", component: ModulesStep },
-    { number: 4, title: "Rules", component: RulesStep },
-    { number: 5, title: "Participants", component: ParticipantsStep },
-    { number: 6, title: "Rewards", component: RewardsStep },
-    { number: 7, title: "Publish", component: PublishStep }
-  ];
-
-  const updateWizardData = (step, data) => {
-    setWizardData(prev => ({
-      ...prev,
-      [step]: { ...prev[step], ...data }
-    }));
-  };
-
-  const handleNext = () => {
-    // Validate current step
-    if (!validateStep(currentStep)) {
-      return;
-    }
-    
-    if (currentStep < 7) {
-      setCurrentStep(currentStep + 1);
-    }
-  };
-
-  const handlePrevious = () => {
-    if (currentStep > 1) {
-      setCurrentStep(currentStep - 1);
-    }
-  };
-
-  const validateStep = (step) => {
-    switch (step) {
-      case 1: // Scope
-        if (wizardData.scope.classes.length === 0) {
-          toast.error("Please select at least one class");
-          return false;
-        }
-        return true;
-      case 2: // Template
-        if (wizardData.template.type === "template" && !wizardData.template.selectedTemplate) {
-          toast.error("Please select a template or choose blank assignment");
-          return false;
-        }
-        if (wizardData.template.type === "blank" && !wizardData.template.title) {
-          toast.error("Please enter assignment title");
-          return false;
-        }
-        return true;
-      case 3: // Modules
-        if (wizardData.modules.items.length === 0) {
-          toast.error("Please add at least one module or question");
-          return false;
-        }
-        return true;
-      case 4: // Rules
-        if (new Date(wizardData.rules.endTime) <= new Date(wizardData.rules.startTime)) {
-          toast.error("End time must be after start time");
-          return false;
-        }
-        return true;
-      case 5: // Participants
-        if (wizardData.participants.mode === "manual" && wizardData.participants.selectedStudents.length === 0) {
-          toast.error("Please select at least one student");
-          return false;
-        }
-        return true;
-      case 6: // Rewards
-        return true;
-      default:
-        return true;
-    }
-  };
-
-  const handlePublish = async (status = "published") => {
-    setLoading(true);
-    try {
-      const response = await api.post("/api/school/teacher/assignments/create-advanced", {
-        ...wizardData,
-        status
-      });
-
-      if (response.data.success) {
-        toast.success(
-          wizardData.scope.approvalRequired
-            ? "Assignment submitted for approval!"
-            : "Assignment published successfully!"
-        );
-        onClose();
-      }
-    } catch (error) {
-      console.error("Error creating assignment:", error);
-      toast.error(error.response?.data?.message || "Failed to create assignment");
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  const handleClose = () => {
-    if (currentStep > 1) {
-      const confirm = window.confirm("Are you sure you want to cancel? Your progress will be lost.");
-      if (!confirm) return;
-    }
-    onClose();
-  };
-
-  if (!isOpen) return null;
-
-  const CurrentStepComponent = steps[currentStep - 1].component;
-
-  return (
-    <AnimatePresence>
-      <div className="fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden">
-        {/* Backdrop */}
-        <motion.div
-          initial={{ opacity: 0 }}
-          animate={{ opacity: 1 }}
-          exit={{ opacity: 0 }}
-          onClick={handleClose}
-          className="absolute inset-0 bg-black/60 backdrop-blur-sm"
-        />
-
-        {/* Wizard Modal */}
-        <motion.div
-          initial={{ opacity: 0, scale: 0.95, y: 20 }}
-          animate={{ opacity: 1, scale: 1, y: 0 }}
-          exit={{ opacity: 0, scale: 0.95, y: 20 }}
-          className="relative w-full max-w-6xl bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col"
-        >
-          {/* Header with Progress */}
-          <div className="bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-6 py-4">
-            <div className="flex items-center justify-between mb-4">
-              <div>
-                <h2 className="text-2xl font-bold text-white">Create New Assignment</h2>
-                <p className="text-purple-100 text-sm">Step {currentStep} of 7: {steps[currentStep - 1].title}</p>
-              </div>
-              <button
-                onClick={handleClose}
-                className="p-2 hover:bg-white/20 rounded-lg transition-all"
-              >
-                <X className="w-6 h-6 text-white" />
-              </button>
-            </div>
-
-            {/* Progress Steps */}
-            <div className="flex items-center justify-between">
-              {steps.map((step, idx) => (
-                <React.Fragment key={step.number}>
-                  <div className="flex flex-col items-center">
-                    <div
-                      className={`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${
-                        currentStep > step.number
-                          ? "bg-green-500 text-white"
-                          : currentStep === step.number
-                          ? "bg-white text-purple-600"
-                          : "bg-white/30 text-white/60"
-                      }`}
-                    >
-                      {currentStep > step.number ? <Check className="w-5 h-5" /> : step.number}
-                    </div>
-                    <span className={`text-xs mt-1 ${currentStep >= step.number ? "text-white font-semibold" : "text-white/60"}`}>
-                      {step.title}
-                    </span>
-                  </div>
-                  {idx < steps.length - 1 && (
-                    <div className={`flex-1 h-1 mx-2 rounded ${currentStep > step.number ? "bg-green-500" : "bg-white/30"}`} />
-                  )}
-                </React.Fragment>
-              ))}
-            </div>
-          </div>
-
-          {/* Step Content */}
-          <div className="flex-1 overflow-y-auto p-6">
-            <AnimatePresence mode="wait">
-              <motion.div
-                key={currentStep}
-                initial={{ opacity: 0, x: 20 }}
-                animate={{ opacity: 1, x: 0 }}
-                exit={{ opacity: 0, x: -20 }}
-                transition={{ duration: 0.2 }}
-              >
-                <CurrentStepComponent
-                  data={wizardData[Object.keys(wizardData)[currentStep - 1]]}
-                  allData={wizardData}
-                  updateData={(data) => updateWizardData(Object.keys(wizardData)[currentStep - 1], data)}
-                  onPublish={handlePublish}
-                  loading={loading}
-                />
-              </motion.div>
-            </AnimatePresence>
-          </div>
-
-          {/* Footer Navigation */}
-          <div className="px-6 py-4 bg-gray-50 border-t-2 border-gray-200 flex justify-between">
-            <motion.button
-              whileHover={{ scale: 1.02 }}
-              whileTap={{ scale: 0.98 }}
-              onClick={handlePrevious}
-              disabled={currentStep === 1}
-              className="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"
-            >
-              <ChevronLeft className="w-5 h-5" />
-              Previous
-            </motion.button>
-
-            {currentStep < 7 ? (
-              <motion.button
-                whileHover={{ scale: 1.02 }}
-                whileTap={{ scale: 0.98 }}
-                onClick={handleNext}
-                className="px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center gap-2"
-              >
-                Next
-                <ChevronRight className="w-5 h-5" />
-              </motion.button>
-            ) : (
-              <div className="flex gap-3">
-                <motion.button
-                  whileHover={{ scale: 1.02 }}
-                  whileTap={{ scale: 0.98 }}
-                  onClick={() => handlePublish("draft")}
-                  disabled={loading}
-                  className="px-6 py-3 bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-700 transition-all disabled:opacity-50"
-                >
-                  Save as Draft
-                </motion.button>
-                <motion.button
-                  whileHover={{ scale: 1.02 }}
-                  whileTap={{ scale: 0.98 }}
-                  onClick={() => handlePublish("published")}
-                  disabled={loading}
-                  className="px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2"
-                >
-                  {loading ? (
-                    <>
-                      <div className="animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent" />
-                      Publishing...
-                    </>
-                  ) : (
-                    <>
-                      <Check className="w-5 h-5" />
-                      {wizardData.scope.approvalRequired ? "Submit for Approval" : "Publish Now"}
-                    </>
-                  )}
-                </motion.button>
-              </div>
-            )}
-          </div>
-        </motion.div>
-      </div>
-    </AnimatePresence>
-  );
-};
-
-export default AssignmentWizard;
-
diff --git a/frontend/src/components/AssignmentWizard/ModulesStep.jsx b/frontend/src/components/AssignmentWizard/ModulesStep.jsx
deleted file mode 100644
index e19962c..0000000
--- a/frontend/src/components/AssignmentWizard/ModulesStep.jsx
+++ /dev/null
@@ -1,242 +0,0 @@
-import React, { useState, useEffect } from "react";
-import { motion, AnimatePresence } from "framer-motion";
-import { Plus, Trash2, BookOpen, Eye, ExternalLink } from "lucide-react";
-import api from "../../utils/api";
-import { toast } from "react-hot-toast";
-
-const ModulesStep = ({ data, updateData }) => {
-  const [questionBank, setQuestionBank] = useState([]);
-  const [inavoraModules, setInavoraModules] = useState([]);
-  const [loading, setLoading] = useState(true);
-  const [activeTab, setActiveTab] = useState("questions");
-  const [previewModule, setPreviewModule] = useState(null);
-
-  useEffect(() => {
-    fetchResources();
-  }, []);
-
-  const fetchResources = async () => {
-    try {
-      const [questionsRes, inavoraRes] = await Promise.all([
-        api.get("/api/school/teacher/question-bank"),
-        api.get("/api/school/teacher/inavora-catalog")
-      ]);
-      setQuestionBank(questionsRes.data.questions || []);
-      setInavoraModules(inavoraRes.data.modules || []);
-    } catch (error) {
-      console.error("Error fetching resources:", error);
-      toast.error("Failed to load modules");
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  const addModule = (module, type) => {
-    const newModule = {
-      ...module,
-      type,
-      id: `${type}-${module._id}-${Date.now()}`
-    };
-    updateData({ items: [...data.items, newModule] });
-    toast.success(`Added ${module.title}`);
-  };
-
-  const removeModule = (id) => {
-    updateData({ items: data.items.filter(m => m.id !== id) });
-  };
-
-  return (
-    <div className="space-y-6">
-      <div>
-        <h3 className="text-2xl font-bold text-gray-900 mb-2">Add Content Modules</h3>
-        <p className="text-gray-600">Select questions from your bank or add Inavora modules</p>
-      </div>
-
-      {/* Tabs */}
-      <div className="flex border-b-2 border-gray-200">
-        <button
-          onClick={() => setActiveTab("questions")}
-          className={`px-6 py-3 font-semibold transition-all relative ${
-            activeTab === "questions" ? "text-blue-600" : "text-gray-600 hover:text-gray-900"
-          }`}
-        >
-          Question Bank
-          {activeTab === "questions" && (
-            <motion.div layoutId="activeTab" className="absolute bottom-0 left-0 right-0 h-1 bg-blue-600" />
-          )}
-        </button>
-        <button
-          onClick={() => setActiveTab("inavora")}
-          className={`px-6 py-3 font-semibold transition-all relative ${
-            activeTab === "inavora" ? "text-purple-600" : "text-gray-600 hover:text-gray-900"
-          }`}
-        >
-          Inavora Modules
-          {activeTab === "inavora" && (
-            <motion.div layoutId="activeTab" className="absolute bottom-0 left-0 right-0 h-1 bg-purple-600" />
-          )}
-        </button>
-      </div>
-
-      <div className="grid grid-cols-3 gap-6">
-        {/* Left: Available Modules */}
-        <div className="col-span-2 space-y-3">
-          {loading ? (
-            <div className="text-center py-8">
-              <div className="animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto" />
-            </div>
-          ) : activeTab === "questions" ? (
-            <div className="space-y-2 max-h-96 overflow-y-auto">
-              {questionBank.map((q, idx) => (
-                <motion.div
-                  key={q._id || `qb-${idx}`}
-                  whileHover={{ scale: 1.01 }}
-                  className="p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 transition-all"
-                >
-                  <div className="flex items-start justify-between">
-                    <div className="flex-1">
-                      <h4 className="font-bold text-gray-900">{q.title}</h4>
-                      <p className="text-sm text-gray-600 mt-1">{q.questionCount} questions â€¢ {q.difficulty}</p>
-                      <span className="inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-semibold">
-                        {q.category}
-                      </span>
-                    </div>
-                    <motion.button
-                      whileHover={{ scale: 1.1 }}
-                      whileTap={{ scale: 0.9 }}
-                      onClick={() => addModule(q, "question_bank")}
-                      className="p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all"
-                    >
-                      <Plus className="w-5 h-5" />
-                    </motion.button>
-                  </div>
-                </motion.div>
-              ))}
-            </div>
-          ) : (
-            <div className="space-y-2 max-h-96 overflow-y-auto">
-              {inavoraModules.map((module, idx) => (
-                <motion.div
-                  key={module._id || `inavora-${idx}`}
-                  whileHover={{ scale: 1.01 }}
-                  className="p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-purple-300 transition-all"
-                >
-                  <div className="flex items-start justify-between">
-                    <div className="flex-1">
-                      <div className="flex items-center gap-2 mb-1">
-                        <h4 className="font-bold text-gray-900">{module.title}</h4>
-                        <span className="px-2 py-0.5 bg-purple-100 text-purple-700 rounded text-xs font-bold">
-                          Inavora
-                        </span>
-                      </div>
-                      <p className="text-sm text-gray-600">{module.duration} min â€¢ Module ID: {module.module_id}</p>
-                    </div>
-                    <div className="flex gap-2">
-                      <motion.button
-                        whileHover={{ scale: 1.1 }}
-                        whileTap={{ scale: 0.9 }}
-                        onClick={() => setPreviewModule(module)}
-                        className="p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-all"
-                        title="Preview"
-                      >
-                        <Eye className="w-5 h-5" />
-                      </motion.button>
-                      <motion.button
-                        whileHover={{ scale: 1.1 }}
-                        whileTap={{ scale: 0.9 }}
-                        onClick={() => addModule(module, "inavora")}
-                        className="p-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-all"
-                      >
-                        <Plus className="w-5 h-5" />
-                      </motion.button>
-                    </div>
-                  </div>
-                </motion.div>
-              ))}
-            </div>
-          )}
-        </div>
-
-        {/* Right: Selected Modules */}
-        <div className="bg-gray-50 rounded-xl p-4 border-2 border-gray-200">
-          <h4 className="font-bold text-gray-900 mb-3">Selected ({data.items.length})</h4>
-          {data.items.length === 0 ? (
-            <p className="text-gray-500 text-sm text-center py-8">No modules added yet</p>
-          ) : (
-            <div className="space-y-2">
-              {data.items.map((item, idx) => (
-                <div key={item.id || item._id || `module-${idx}`} className="p-3 bg-white rounded-lg border border-gray-200">
-                  <div className="flex items-start justify-between">
-                    <div className="flex-1">
-                      <h5 className="font-semibold text-sm text-gray-900">{item.title}</h5>
-                      <p className="text-xs text-gray-500 mt-1">
-                        {item.type === "inavora" ? `Inavora â€¢ ${item.duration}min` : `${item.questionCount} questions`}
-                      </p>
-                    </div>
-                    <button
-                      onClick={() => removeModule(item.id)}
-                      className="p-1 text-red-500 hover:bg-red-50 rounded transition-all"
-                    >
-                      <Trash2 className="w-4 h-4" />
-                    </button>
-                  </div>
-                </div>
-              ))}
-            </div>
-          )}
-        </div>
-      </div>
-
-      {/* Inavora Preview Modal */}
-      <AnimatePresence>
-        {previewModule && (
-          <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
-            <motion.div
-              initial={{ opacity: 0 }}
-              animate={{ opacity: 1 }}
-              exit={{ opacity: 0 }}
-              onClick={() => setPreviewModule(null)}
-              className="absolute inset-0 bg-black/60 backdrop-blur-sm"
-            />
-            <motion.div
-              initial={{ opacity: 0, scale: 0.95 }}
-              animate={{ opacity: 1, scale: 1 }}
-              exit={{ opacity: 0, scale: 0.95 }}
-              className="relative w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-hidden"
-            >
-              <div className="p-4 bg-purple-600 text-white flex items-center justify-between">
-                <h3 className="font-bold text-lg">Preview: {previewModule.title}</h3>
-                <button onClick={() => setPreviewModule(null)} className="p-2 hover:bg-white/20 rounded-lg">
-                  âœ•
-                </button>
-              </div>
-              <div className="p-6">
-                <iframe
-                  src={previewModule.previewUrl}
-                  className="w-full h-96 rounded-lg border-2 border-gray-200"
-                  title="Module Preview"
-                />
-                <div className="mt-4 flex justify-end">
-                  <motion.button
-                    whileHover={{ scale: 1.05 }}
-                    whileTap={{ scale: 0.95 }}
-                    onClick={() => {
-                      addModule(previewModule, "inavora");
-                      setPreviewModule(null);
-                    }}
-                    className="px-6 py-3 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600"
-                  >
-                    Add This Module
-                  </motion.button>
-                </div>
-              </div>
-            </motion.div>
-          </div>
-        )}
-      </AnimatePresence>
-    </div>
-  );
-};
-
-export default ModulesStep;
-
diff --git a/frontend/src/components/AssignmentWizard/ParticipantsStep.jsx b/frontend/src/components/AssignmentWizard/ParticipantsStep.jsx
deleted file mode 100644
index 7d2a79f..0000000
--- a/frontend/src/components/AssignmentWizard/ParticipantsStep.jsx
+++ /dev/null
@@ -1,233 +0,0 @@
-import React, { useState, useEffect } from "react";
-import { motion } from "framer-motion";
-import { Users, Tag, CheckSquare, Sparkles, Loader } from "lucide-react";
-import api from "../../utils/api";
-import { toast } from "react-hot-toast";
-
-const ParticipantsStep = ({ data, allData, updateData }) => {
-  const [students, setStudents] = useState([]);
-  const [loading, setLoading] = useState(false);
-  const [aiLoading, setAiLoading] = useState(false);
-
-  useEffect(() => {
-    if (data.mode === "manual" || data.mode === "ai_suggested") {
-      fetchStudents();
-    }
-  }, [data.mode]);
-
-  const fetchStudents = async () => {
-    setLoading(true);
-    try {
-      const classIds = allData.scope.classes.map(c => c.id);
-      const response = await api.post("/api/school/teacher/get-students-for-assignment", {
-        classIds,
-        scopeType: allData.scope.type
-      });
-      setStudents(response.data.students || []);
-    } catch (error) {
-      console.error("Error fetching students:", error);
-      toast.error("Failed to load students");
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  const handleAISuggest = async () => {
-    setAiLoading(true);
-    try {
-      const classIds = allData.scope.classes.map(c => c.id);
-      const response = await api.post("/api/school/teacher/ai-suggest-students", {
-        classIds
-      });
-      const suggestions = response.data.suggestions || [];
-      updateData({
-        mode: "ai_suggested",
-        aiSuggestions: suggestions,
-        selectedStudents: suggestions.map(s => s.studentId)
-      });
-      toast.success(`AI suggested ${suggestions.length} students based on weak pillars`);
-    } catch (error) {
-      console.error("Error getting AI suggestions:", error);
-      toast.error("Failed to get AI suggestions");
-    } finally {
-      setAiLoading(false);
-    }
-  };
-
-  const toggleStudent = (studentId) => {
-    const isSelected = data.selectedStudents.includes(studentId);
-    if (isSelected) {
-      updateData({ selectedStudents: data.selectedStudents.filter(id => id !== studentId) });
-    } else {
-      updateData({ selectedStudents: [...data.selectedStudents, studentId] });
-    }
-  };
-
-  const modes = [
-    { id: "all", label: "All Students", icon: Users, description: "Assign to all students in selected classes" },
-    { id: "filtered", label: "Filter by Tags", icon: Tag, description: "Use tags to filter students" },
-    { id: "manual", label: "Manual Selection", icon: CheckSquare, description: "Manually select specific students" },
-    { id: "ai_suggested", label: "AI Suggested", icon: Sparkles, description: "Let AI suggest students by weak pillars" }
-  ];
-
-  return (
-    <div className="space-y-6">
-      <div>
-        <h3 className="text-2xl font-bold text-gray-900 mb-2">Select Participants</h3>
-        <p className="text-gray-600">Choose which students will receive this assignment</p>
-      </div>
-
-      {/* Mode Selection */}
-      <div className="grid grid-cols-2 gap-4">
-        {modes.map((mode) => {
-          const Icon = mode.icon;
-          const isSelected = data.mode === mode.id;
-          
-          return (
-            <motion.button
-              key={mode.id}
-              whileHover={{ scale: 1.02 }}
-              whileTap={{ scale: 0.98 }}
-              onClick={() => updateData({ mode: mode.id })}
-              className={`p-4 rounded-xl border-2 transition-all text-left ${
-                isSelected
-                  ? "bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-500"
-                  : "bg-white border-gray-200 hover:border-blue-300"
-              }`}
-            >
-              <div className="flex items-start gap-3">
-                <div className={`p-2 rounded-lg ${isSelected ? "bg-blue-500 text-white" : "bg-gray-100 text-gray-600"}`}>
-                  <Icon className="w-5 h-5" />
-                </div>
-                <div className="flex-1">
-                  <h4 className="font-bold text-gray-900">{mode.label}</h4>
-                  <p className="text-sm text-gray-600 mt-1">{mode.description}</p>
-                </div>
-              </div>
-            </motion.button>
-          );
-        })}
-      </div>
-
-      {/* All Students Mode */}
-      {data.mode === "all" && (
-        <div className="bg-green-50 rounded-xl p-6 border-2 border-green-200">
-          <div className="flex items-center gap-3">
-            <Users className="w-6 h-6 text-green-600" />
-            <div>
-              <h4 className="font-bold text-gray-900">All Students Selected</h4>
-              <p className="text-sm text-gray-600 mt-1">
-                This assignment will be available to all students in the selected classes.
-              </p>
-            </div>
-          </div>
-        </div>
-      )}
-
-      {/* Filtered Mode */}
-      {data.mode === "filtered" && (
-        <div className="bg-amber-50 rounded-xl p-6 border-2 border-amber-200">
-          <h4 className="font-bold text-gray-900 mb-3">Filter by Tags</h4>
-          <input
-            type="text"
-            placeholder="Enter tags (comma-separated)"
-            value={data.filterTags.join(", ")}
-            onChange={(e) => updateData({ filterTags: e.target.value.split(",").map(t => t.trim()).filter(t => t) })}
-            className="w-full px-4 py-3 border-2 border-amber-200 rounded-xl focus:border-amber-500 focus:outline-none"
-          />
-          <p className="text-xs text-gray-600 mt-2">e.g., advanced, needs_help, group_a</p>
-        </div>
-      )}
-
-      {/* Manual Selection */}
-      {data.mode === "manual" && (
-        <div className="bg-blue-50 rounded-xl p-6 border-2 border-blue-200">
-          <h4 className="font-bold text-gray-900 mb-3">Select Students ({data.selectedStudents.length} selected)</h4>
-          {loading ? (
-            <div className="text-center py-8">
-              <div className="animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent mx-auto" />
-            </div>
-          ) : (
-            <div className="grid grid-cols-2 gap-2 max-h-64 overflow-y-auto">
-              {students.map((student, idx) => {
-                const isSelected = data.selectedStudents.includes(student._id);
-                
-                return (
-                  <motion.button
-                    key={student._id || `student-${idx}`}
-                    whileHover={{ scale: 1.02 }}
-                    whileTap={{ scale: 0.98 }}
-                    onClick={() => toggleStudent(student._id)}
-                    className={`p-3 rounded-lg border-2 transition-all text-left ${
-                      isSelected
-                        ? "bg-blue-500 text-white border-blue-500"
-                        : "bg-white text-gray-700 border-gray-200 hover:border-blue-300"
-                    }`}
-                  >
-                    <div className="flex items-center justify-between">
-                      <span className="font-semibold">{student.name}</span>
-                      {isSelected && <CheckSquare className="w-4 h-4" />}
-                    </div>
-                  </motion.button>
-                );
-              })}
-            </div>
-          )}
-        </div>
-      )}
-
-      {/* AI Suggested */}
-      {data.mode === "ai_suggested" && (
-        <div className="bg-purple-50 rounded-xl p-6 border-2 border-purple-200">
-          <div className="flex items-center justify-between mb-4">
-            <h4 className="font-bold text-gray-900">AI-Suggested Students</h4>
-            <motion.button
-              whileHover={{ scale: 1.05 }}
-              whileTap={{ scale: 0.95 }}
-              onClick={handleAISuggest}
-              disabled={aiLoading}
-              className="px-4 py-2 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 disabled:opacity-50 flex items-center gap-2"
-            >
-              {aiLoading ? (
-                <>
-                  <Loader className="w-4 h-4 animate-spin" />
-                  Analyzing...
-                </>
-              ) : (
-                <>
-                  <Sparkles className="w-4 h-4" />
-                  Get Suggestions
-                </>
-              )}
-            </motion.button>
-          </div>
-
-          {data.aiSuggestions.length > 0 ? (
-            <div className="space-y-2 max-h-64 overflow-y-auto">
-              {data.aiSuggestions.map((suggestion, idx) => (
-                <div key={suggestion.studentId || `suggestion-${idx}`} className="p-3 bg-white rounded-lg border border-purple-200">
-                  <div className="flex items-start justify-between">
-                    <div>
-                      <h5 className="font-semibold text-gray-900">{suggestion.studentName}</h5>
-                      <p className="text-xs text-gray-600 mt-1">
-                        Weak pillars: {suggestion.weakPillars.join(", ")}
-                      </p>
-                    </div>
-                    <span className="px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-bold">
-                      {suggestion.confidence}% match
-                    </span>
-                  </div>
-                </div>
-              ))}
-            </div>
-          ) : (
-            <p className="text-gray-600 text-center py-4">Click "Get Suggestions" to let AI analyze students</p>
-          )}
-        </div>
-      )}
-    </div>
-  );
-};
-
-export default ParticipantsStep;
-
diff --git a/frontend/src/components/AssignmentWizard/PublishStep.jsx b/frontend/src/components/AssignmentWizard/PublishStep.jsx
deleted file mode 100644
index 797d2f0..0000000
--- a/frontend/src/components/AssignmentWizard/PublishStep.jsx
+++ /dev/null
@@ -1,174 +0,0 @@
-import React from "react";
-import { motion } from "framer-motion";
-import { CheckCircle, AlertCircle, Calendar, Users, BookOpen, Coins, Award, Eye, Trophy } from "lucide-react";
-
-const PublishStep = ({ allData, onPublish, loading }) => {
-  const formatDate = (dateStr) => {
-    return new Date(dateStr).toLocaleString();
-  };
-
-  return (
-    <div className="space-y-6">
-      <div>
-        <h3 className="text-2xl font-bold text-gray-900 mb-2">Review & Publish</h3>
-        <p className="text-gray-600">Review your assignment before publishing</p>
-      </div>
-
-      {/* Summary Cards */}
-      <div className="grid grid-cols-2 gap-4">
-        {/* Scope Summary */}
-        <div className="bg-blue-50 rounded-xl p-4 border-2 border-blue-200">
-          <div className="flex items-center gap-2 mb-2">
-            <Users className="w-5 h-5 text-blue-600" />
-            <h4 className="font-bold text-gray-900">Scope</h4>
-          </div>
-          <p className="text-sm text-gray-700 capitalize">{allData.scope.type.replace(/_/g, " ")}</p>
-          <p className="text-xs text-gray-600 mt-1">{allData.scope.classes.length} class(es) selected</p>
-          {allData.scope.approvalRequired && (
-            <div className="mt-2 flex items-center gap-1 text-xs text-amber-600">
-              <AlertCircle className="w-3 h-3" />
-              Requires approval
-            </div>
-          )}
-        </div>
-
-        {/* Template Summary */}
-        <div className="bg-purple-50 rounded-xl p-4 border-2 border-purple-200">
-          <div className="flex items-center gap-2 mb-2">
-            <BookOpen className="w-5 h-5 text-purple-600" />
-            <h4 className="font-bold text-gray-900">Template</h4>
-          </div>
-          <p className="text-sm text-gray-700 font-semibold">
-            {allData.template.type === "blank" ? "Custom Assignment" : allData.template.selectedTemplate?.title}
-          </p>
-          <p className="text-xs text-gray-600 mt-1">{allData.template.subject}</p>
-        </div>
-
-        {/* Modules Summary */}
-        <div className="bg-green-50 rounded-xl p-4 border-2 border-green-200">
-          <div className="flex items-center gap-2 mb-2">
-            <BookOpen className="w-5 h-5 text-green-600" />
-            <h4 className="font-bold text-gray-900">Modules</h4>
-          </div>
-          <p className="text-sm text-gray-700">{allData.modules.items.length} module(s) added</p>
-          <div className="mt-2 flex flex-wrap gap-1">
-            {allData.modules.items.slice(0, 3).map((item, idx) => (
-              <span key={item.id || item._id || idx} className="text-xs bg-white px-2 py-1 rounded border border-green-300">
-                {item.type === "inavora" ? "Inavora" : "Q-Bank"}
-              </span>
-            ))}
-          </div>
-        </div>
-
-        {/* Timing Summary */}
-        <div className="bg-amber-50 rounded-xl p-4 border-2 border-amber-200">
-          <div className="flex items-center gap-2 mb-2">
-            <Calendar className="w-5 h-5 text-amber-600" />
-            <h4 className="font-bold text-gray-900">Duration</h4>
-          </div>
-          <p className="text-xs text-gray-600">Start: {formatDate(allData.rules.startTime)}</p>
-          <p className="text-xs text-gray-600 mt-1">End: {formatDate(allData.rules.endTime)}</p>
-        </div>
-      </div>
-
-      {/* Participants Summary */}
-      <div className="bg-cyan-50 rounded-xl p-4 border-2 border-cyan-200">
-        <div className="flex items-center gap-2 mb-2">
-          <Users className="w-5 h-5 text-cyan-600" />
-          <h4 className="font-bold text-gray-900">Participants</h4>
-        </div>
-        <p className="text-sm text-gray-700 capitalize">{allData.participants.mode.replace(/_/g, " ")}</p>
-        {allData.participants.mode === "manual" && (
-          <p className="text-xs text-gray-600 mt-1">{allData.participants.selectedStudents.length} students selected</p>
-        )}
-        {allData.participants.mode === "ai_suggested" && (
-          <p className="text-xs text-gray-600 mt-1">{allData.participants.aiSuggestions.length} AI suggestions</p>
-        )}
-      </div>
-
-      {/* Rewards Summary */}
-      <div className="bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl p-6 border-2 border-amber-300">
-        <h4 className="font-bold text-gray-900 mb-4">Rewards Overview</h4>
-        
-        <div className="grid grid-cols-3 gap-4">
-          <div className="text-center">
-            <Coins className="w-8 h-8 text-amber-600 mx-auto mb-2" />
-            <p className="text-2xl font-bold text-amber-600">{allData.rewards.healCoins * allData.rewards.bonusMultiplier}</p>
-            <p className="text-xs text-gray-600">HealCoins</p>
-          </div>
-          
-          <div className="text-center">
-            <Award className="w-8 h-8 text-purple-600 mx-auto mb-2" />
-            <p className="text-2xl font-bold text-purple-600">{allData.rewards.badges.length}</p>
-            <p className="text-xs text-gray-600">Badges</p>
-          </div>
-          
-          <div className="text-center">
-            <Trophy className="w-8 h-8 text-blue-600 mx-auto mb-2" />
-            <p className="text-2xl font-bold text-blue-600">{allData.rewards.certificate ? "Yes" : "No"}</p>
-            <p className="text-xs text-gray-600">Certificate</p>
-          </div>
-        </div>
-      </div>
-
-      {/* Assignment Settings Summary */}
-      <div className="bg-gray-50 rounded-xl p-6 border-2 border-gray-200">
-        <h4 className="font-bold text-gray-900 mb-3">Assignment Settings</h4>
-        <div className="grid grid-cols-2 gap-3 text-sm">
-          <div className="flex justify-between">
-            <span className="text-gray-600">Max Attempts:</span>
-            <span className="font-semibold">{allData.rules.maxAttempts === -1 ? "Unlimited" : allData.rules.maxAttempts}</span>
-          </div>
-          <div className="flex justify-between">
-            <span className="text-gray-600">Grading:</span>
-            <span className="font-semibold capitalize">{allData.rules.gradingType}</span>
-          </div>
-          <div className="flex justify-between">
-            <span className="text-gray-600">Randomize:</span>
-            <span className="font-semibold">{allData.rules.randomizeQuestions ? "Yes" : "No"}</span>
-          </div>
-          <div className="flex justify-between">
-            <span className="text-gray-600">Accessibility:</span>
-            <span className="font-semibold">
-              {Object.values(allData.rules.accessibility).filter(Boolean).length} enabled
-            </span>
-          </div>
-        </div>
-      </div>
-
-      {/* Approval Notice */}
-      {allData.scope.approvalRequired && (
-        <div className="bg-amber-50 rounded-xl p-6 border-2 border-amber-300">
-          <div className="flex items-start gap-3">
-            <AlertCircle className="w-6 h-6 text-amber-600" />
-            <div>
-              <h4 className="font-bold text-amber-900 mb-1">Approval Required</h4>
-              <p className="text-sm text-amber-700">
-                This assignment will be sent to school admin for approval before being published to students.
-                You will receive a notification once it's reviewed.
-              </p>
-            </div>
-          </div>
-        </div>
-      )}
-
-      {/* Publish Ready */}
-      <div className="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-300">
-        <div className="flex items-center gap-3">
-          <CheckCircle className="w-8 h-8 text-green-600" />
-          <div>
-            <h4 className="font-bold text-green-900 mb-1">Ready to {allData.scope.approvalRequired ? "Submit" : "Publish"}!</h4>
-            <p className="text-sm text-green-700">
-              {allData.scope.approvalRequired 
-                ? "Your assignment is ready to be submitted for admin approval."
-                : "Your assignment is ready to be published to students."}
-            </p>
-          </div>
-        </div>
-      </div>
-    </div>
-  );
-};
-
-export default PublishStep;
-
diff --git a/frontend/src/components/AssignmentWizard/RewardsStep.jsx b/frontend/src/components/AssignmentWizard/RewardsStep.jsx
deleted file mode 100644
index f31e781..0000000
--- a/frontend/src/components/AssignmentWizard/RewardsStep.jsx
+++ /dev/null
@@ -1,179 +0,0 @@
-import React, { useState, useEffect } from "react";
-import { motion } from "framer-motion";
-import { Coins, Award, Trophy, Plus, X } from "lucide-react";
-import api from "../../utils/api";
-import { toast } from "react-hot-toast";
-
-const RewardsStep = ({ data, updateData }) => {
-  const [availableBadges, setAvailableBadges] = useState([]);
-  const [loading, setLoading] = useState(true);
-
-  useEffect(() => {
-    fetchBadges();
-  }, []);
-
-  const fetchBadges = async () => {
-    try {
-      const response = await api.get("/api/school/teacher/available-badges");
-      setAvailableBadges(response.data.badges || []);
-    } catch (error) {
-      console.error("Error fetching badges:", error);
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  const toggleBadge = (badge) => {
-    const isSelected = data.badges.some(b => b._id === badge._id);
-    if (isSelected) {
-      updateData({ badges: data.badges.filter(b => b._id !== badge._id) });
-    } else {
-      updateData({ badges: [...data.badges, badge] });
-    }
-  };
-
-  const bonusMultipliers = [
-    { value: 1, label: "1x (Standard)", color: "gray" },
-    { value: 1.5, label: "1.5x (Good)", color: "blue" },
-    { value: 2, label: "2x (Great)", color: "purple" },
-    { value: 3, label: "3x (Amazing)", color: "amber" }
-  ];
-
-  return (
-    <div className="space-y-6">
-      <div>
-        <h3 className="text-2xl font-bold text-gray-900 mb-2">Set Rewards</h3>
-        <p className="text-gray-600">Motivate students with HealCoins, badges, and certificates</p>
-      </div>
-
-      {/* HealCoins */}
-      <div className="bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl p-6 border-2 border-amber-200">
-        <div className="flex items-center gap-2 mb-4">
-          <Coins className="w-6 h-6 text-amber-600" />
-          <h4 className="font-bold text-gray-900">HealCoins Reward</h4>
-        </div>
-        
-        <div className="space-y-4">
-          <div>
-            <label className="block text-sm font-semibold text-gray-700 mb-2">
-              Base Coins: {data.healCoins}
-            </label>
-            <input
-              type="range"
-              min="10"
-              max="500"
-              step="10"
-              value={data.healCoins}
-              onChange={(e) => updateData({ healCoins: parseInt(e.target.value) })}
-              className="w-full h-2 bg-amber-200 rounded-lg appearance-none cursor-pointer"
-            />
-            <div className="flex justify-between text-xs text-gray-600 mt-1">
-              <span>10</span>
-              <span>500</span>
-            </div>
-          </div>
-
-          <div>
-            <label className="block text-sm font-semibold text-gray-700 mb-3">Bonus Multiplier</label>
-            <div className="grid grid-cols-2 gap-2">
-              {bonusMultipliers.map((mult) => {
-                const isSelected = data.bonusMultiplier === mult.value;
-                
-                return (
-                  <motion.button
-                    key={mult.value}
-                    whileHover={{ scale: 1.02 }}
-                    whileTap={{ scale: 0.98 }}
-                    onClick={() => updateData({ bonusMultiplier: mult.value })}
-                    className={`px-4 py-3 rounded-lg border-2 font-semibold transition-all ${
-                      isSelected
-                        ? `bg-${mult.color}-500 text-white border-${mult.color}-500`
-                        : "bg-white text-gray-700 border-gray-200 hover:border-amber-300"
-                    }`}
-                  >
-                    {mult.label}
-                  </motion.button>
-                );
-              })}
-            </div>
-          </div>
-
-          <div className="bg-white rounded-lg p-4 border-2 border-amber-300">
-            <p className="text-sm text-gray-700">
-              <strong>Total Reward:</strong>{" "}
-              <span className="text-2xl font-bold text-amber-600">
-                {data.healCoins * data.bonusMultiplier}
-              </span>{" "}
-              <span className="text-amber-600">HealCoins</span>
-            </p>
-          </div>
-        </div>
-      </div>
-
-      {/* Badges */}
-      <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200">
-        <div className="flex items-center gap-2 mb-4">
-          <Award className="w-6 h-6 text-purple-600" />
-          <h4 className="font-bold text-gray-900">Achievement Badges ({data.badges.length} selected)</h4>
-        </div>
-
-        {loading ? (
-          <div className="text-center py-4">
-            <div className="animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent mx-auto" />
-          </div>
-        ) : (
-          <div className="grid grid-cols-2 gap-3">
-            {availableBadges.map((badge) => {
-              const isSelected = data.badges.some(b => b._id === badge._id);
-              
-              return (
-                <motion.button
-                  key={badge._id}
-                  whileHover={{ scale: 1.02 }}
-                  whileTap={{ scale: 0.98 }}
-                  onClick={() => toggleBadge(badge)}
-                  className={`p-3 rounded-lg border-2 transition-all text-left ${
-                    isSelected
-                      ? "bg-purple-500 text-white border-purple-500"
-                      : "bg-white text-gray-700 border-gray-200 hover:border-purple-300"
-                  }`}
-                >
-                  <div className="flex items-center justify-between mb-1">
-                    <span className="font-bold text-sm">{badge.name}</span>
-                    {isSelected && <Award className="w-4 h-4" />}
-                  </div>
-                  <p className="text-xs opacity-90">{badge.description}</p>
-                </motion.button>
-              );
-            })}
-          </div>
-        )}
-      </div>
-
-      {/* Certificate */}
-      <div className="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200">
-        <div className="flex items-center justify-between">
-          <div className="flex items-center gap-3">
-            <Trophy className="w-6 h-6 text-blue-600" />
-            <div>
-              <h4 className="font-bold text-gray-900">Completion Certificate</h4>
-              <p className="text-sm text-gray-600 mt-1">Award certificate upon completion</p>
-            </div>
-          </div>
-          <label className="relative inline-flex items-center cursor-pointer">
-            <input
-              type="checkbox"
-              checked={data.certificate}
-              onChange={(e) => updateData({ certificate: e.target.checked })}
-              className="sr-only peer"
-            />
-            <div className="w-14 h-8 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:after:border-white after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-blue-600"></div>
-          </label>
-        </div>
-      </div>
-    </div>
-  );
-};
-
-export default RewardsStep;
-
diff --git a/frontend/src/components/AssignmentWizard/RulesStep.jsx b/frontend/src/components/AssignmentWizard/RulesStep.jsx
deleted file mode 100644
index 75a8ca6..0000000
--- a/frontend/src/components/AssignmentWizard/RulesStep.jsx
+++ /dev/null
@@ -1,164 +0,0 @@
-import React from "react";
-import { motion } from "framer-motion";
-import { Calendar, Clock, RotateCcw, CheckCircle, Accessibility } from "lucide-react";
-
-const RulesStep = ({ data, updateData }) => {
-  return (
-    <div className="space-y-6">
-      <div>
-        <h3 className="text-2xl font-bold text-gray-900 mb-2">Assignment Rules & Controls</h3>
-        <p className="text-gray-600">Set timing, attempts, and grading preferences</p>
-      </div>
-
-      {/* Timing */}
-      <div className="bg-blue-50 rounded-xl p-6 border-2 border-blue-200 space-y-4">
-        <div className="flex items-center gap-2 mb-4">
-          <Clock className="w-5 h-5 text-blue-600" />
-          <h4 className="font-bold text-gray-900">Timing</h4>
-        </div>
-        
-        <div className="grid grid-cols-2 gap-4">
-          <div>
-            <label className="block text-sm font-semibold text-gray-700 mb-2">Start Time *</label>
-            <input
-              type="datetime-local"
-              value={data.startTime}
-              onChange={(e) => updateData({ startTime: e.target.value })}
-              className="w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:border-blue-500 focus:outline-none"
-            />
-          </div>
-          <div>
-            <label className="block text-sm font-semibold text-gray-700 mb-2">End Time *</label>
-            <input
-              type="datetime-local"
-              value={data.endTime}
-              onChange={(e) => updateData({ endTime: e.target.value })}
-              className="w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:border-blue-500 focus:outline-none"
-            />
-          </div>
-        </div>
-      </div>
-
-      {/* Attempts */}
-      <div className="bg-purple-50 rounded-xl p-6 border-2 border-purple-200">
-        <div className="flex items-center gap-2 mb-4">
-          <RotateCcw className="w-5 h-5 text-purple-600" />
-          <h4 className="font-bold text-gray-900">Attempts</h4>
-        </div>
-        
-        <div className="flex items-center gap-4">
-          <label className="text-sm font-semibold text-gray-700">Maximum Attempts:</label>
-          <select
-            value={data.maxAttempts}
-            onChange={(e) => updateData({ maxAttempts: parseInt(e.target.value) })}
-            className="px-4 py-3 border-2 border-purple-200 rounded-xl focus:border-purple-500 focus:outline-none bg-white"
-          >
-            {[1, 2, 3, 5, -1].map(n => (
-              <option key={n} value={n}>{n === -1 ? "Unlimited" : n}</option>
-            ))}
-          </select>
-        </div>
-      </div>
-
-      {/* Grading & Settings */}
-      <div className="bg-green-50 rounded-xl p-6 border-2 border-green-200 space-y-4">
-        <div className="flex items-center gap-2 mb-4">
-          <CheckCircle className="w-5 h-5 text-green-600" />
-          <h4 className="font-bold text-gray-900">Grading & Settings</h4>
-        </div>
-        
-        <div className="space-y-3">
-          <label className="flex items-center gap-3 cursor-pointer">
-            <input
-              type="checkbox"
-              checked={data.randomizeQuestions}
-              onChange={(e) => updateData({ randomizeQuestions: e.target.checked })}
-              className="w-5 h-5 text-green-600 rounded focus:ring-green-500"
-            />
-            <div>
-              <span className="font-semibold text-gray-900">Randomize Questions</span>
-              <p className="text-sm text-gray-600">Shuffle question order for each student</p>
-            </div>
-          </label>
-
-          <div>
-            <label className="block text-sm font-semibold text-gray-700 mb-2">Grading Type</label>
-            <div className="grid grid-cols-2 gap-3">
-              <motion.button
-                whileHover={{ scale: 1.02 }}
-                whileTap={{ scale: 0.98 }}
-                onClick={() => updateData({ gradingType: "auto" })}
-                className={`px-4 py-3 rounded-xl border-2 font-semibold transition-all ${
-                  data.gradingType === "auto"
-                    ? "bg-green-500 text-white border-green-500"
-                    : "bg-white text-gray-700 border-gray-200 hover:border-green-300"
-                }`}
-              >
-                Auto-Grade
-              </motion.button>
-              <motion.button
-                whileHover={{ scale: 1.02 }}
-                whileTap={{ scale: 0.98 }}
-                onClick={() => updateData({ gradingType: "manual" })}
-                className={`px-4 py-3 rounded-xl border-2 font-semibold transition-all ${
-                  data.gradingType === "manual"
-                    ? "bg-green-500 text-white border-green-500"
-                    : "bg-white text-gray-700 border-gray-200 hover:border-green-300"
-                }`}
-              >
-                Manual Grade
-              </motion.button>
-            </div>
-          </div>
-        </div>
-      </div>
-
-      {/* Accessibility */}
-      <div className="bg-amber-50 rounded-xl p-6 border-2 border-amber-200 space-y-3">
-        <div className="flex items-center gap-2 mb-4">
-          <Accessibility className="w-5 h-5 text-amber-600" />
-          <h4 className="font-bold text-gray-900">Accessibility Options</h4>
-        </div>
-        
-        <label className="flex items-center gap-3 cursor-pointer">
-          <input
-            type="checkbox"
-            checked={data.accessibility.allowScreenReader}
-            onChange={(e) => updateData({
-              accessibility: { ...data.accessibility, allowScreenReader: e.target.checked }
-            })}
-            className="w-5 h-5 text-amber-600 rounded focus:ring-amber-500"
-          />
-          <span className="font-semibold text-gray-900">Allow Screen Reader</span>
-        </label>
-
-        <label className="flex items-center gap-3 cursor-pointer">
-          <input
-            type="checkbox"
-            checked={data.accessibility.extraTime}
-            onChange={(e) => updateData({
-              accessibility: { ...data.accessibility, extraTime: e.target.checked }
-            })}
-            className="w-5 h-5 text-amber-600 rounded focus:ring-amber-500"
-          />
-          <span className="font-semibold text-gray-900">Allow Extra Time (1.5x)</span>
-        </label>
-
-        <label className="flex items-center gap-3 cursor-pointer">
-          <input
-            type="checkbox"
-            checked={data.accessibility.textToSpeech}
-            onChange={(e) => updateData({
-              accessibility: { ...data.accessibility, textToSpeech: e.target.checked }
-            })}
-            className="w-5 h-5 text-amber-600 rounded focus:ring-amber-500"
-          />
-          <span className="font-semibold text-gray-900">Text-to-Speech Support</span>
-        </label>
-      </div>
-    </div>
-  );
-};
-
-export default RulesStep;
-
diff --git a/frontend/src/components/AssignmentWizard/ScopeStep.jsx b/frontend/src/components/AssignmentWizard/ScopeStep.jsx
deleted file mode 100644
index 420183d..0000000
--- a/frontend/src/components/AssignmentWizard/ScopeStep.jsx
+++ /dev/null
@@ -1,163 +0,0 @@
-import React, { useState, useEffect } from "react";
-import { motion } from "framer-motion";
-import { Building, Users, Globe, AlertCircle, Check } from "lucide-react";
-import api from "../../utils/api";
-import { toast } from "react-hot-toast";
-
-const ScopeStep = ({ data, updateData }) => {
-  const [classes, setClasses] = useState([]);
-  const [loading, setLoading] = useState(true);
-
-  useEffect(() => {
-    fetchClasses();
-  }, []);
-
-  const fetchClasses = async () => {
-    try {
-      const response = await api.get("/api/school/teacher/classes");
-      setClasses(response.data.classes || response.data || []);
-    } catch (error) {
-      console.error("Error fetching classes:", error);
-      toast.error("Failed to load classes");
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  const scopeOptions = [
-    { id: "single_class", label: "Single Class", icon: Users, description: "Assign to one class", requiresApproval: false },
-    { id: "multiple_classes", label: "Multiple Classes", icon: Building, description: "Assign to multiple classes", requiresApproval: false },
-    { id: "whole_school", label: "Whole School", icon: Building, description: "All classes in your school", requiresApproval: true },
-    { id: "csr", label: "CSR/District", icon: Globe, description: "Multiple schools in region", requiresApproval: true },
-    { id: "state", label: "State Level", icon: Globe, description: "Entire state deployment", requiresApproval: true }
-  ];
-
-  const handleScopeChange = (scopeType) => {
-    const option = scopeOptions.find(opt => opt.id === scopeType);
-    updateData({
-      type: scopeType,
-      classes: scopeType === "single_class" || scopeType === "multiple_classes" ? data.classes : [],
-      approvalRequired: option.requiresApproval
-    });
-  };
-
-  const handleClassToggle = (cls) => {
-    const isSelected = data.classes.some(c => c.id === cls._id || c.id === cls.name);
-    
-    if (isSelected) {
-      updateData({
-        classes: data.classes.filter(c => c.id !== cls._id && c.id !== cls.name)
-      });
-    } else {
-      updateData({
-        classes: [...data.classes, { id: cls._id || cls.name, name: cls.name }]
-      });
-    }
-  };
-
-  return (
-    <div className="space-y-6">
-      <div>
-        <h3 className="text-2xl font-bold text-gray-900 mb-2">Select Assignment Scope</h3>
-        <p className="text-gray-600">Choose where this assignment will be available</p>
-      </div>
-
-      {/* Scope Options */}
-      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
-        {scopeOptions.map((option) => {
-          const Icon = option.icon;
-          const isSelected = data.type === option.id;
-          
-          return (
-            <motion.button
-              key={option.id}
-              whileHover={{ scale: 1.02 }}
-              whileTap={{ scale: 0.98 }}
-              onClick={() => handleScopeChange(option.id)}
-              className={`p-4 rounded-xl border-2 transition-all text-left ${
-                isSelected
-                  ? "bg-gradient-to-br from-purple-50 to-pink-50 border-purple-500"
-                  : "bg-white border-gray-200 hover:border-purple-300"
-              }`}
-            >
-              <div className="flex items-start gap-3">
-                <div className={`p-2 rounded-lg ${isSelected ? "bg-purple-500 text-white" : "bg-gray-100 text-gray-600"}`}>
-                  <Icon className="w-5 h-5" />
-                </div>
-                <div className="flex-1">
-                  <div className="flex items-center justify-between">
-                    <h4 className="font-bold text-gray-900">{option.label}</h4>
-                    {isSelected && <Check className="w-5 h-5 text-purple-600" />}
-                  </div>
-                  <p className="text-sm text-gray-600 mt-1">{option.description}</p>
-                  {option.requiresApproval && (
-                    <div className="mt-2 flex items-center gap-1 text-xs text-amber-600">
-                      <AlertCircle className="w-3 h-3" />
-                      Requires admin approval
-                    </div>
-                  )}
-                </div>
-              </div>
-            </motion.button>
-          );
-        })}
-      </div>
-
-      {/* Class Selection */}
-      {(data.type === "single_class" || data.type === "multiple_classes") && (
-        <div className="bg-gray-50 rounded-xl p-4 border-2 border-gray-200">
-          <h4 className="font-bold text-gray-900 mb-3">Select Classes</h4>
-          {loading ? (
-            <div className="text-center py-4">
-              <div className="animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent mx-auto" />
-            </div>
-          ) : classes.length === 0 ? (
-            <p className="text-gray-500 text-center py-4">No classes available</p>
-          ) : (
-            <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
-              {classes.map((cls, idx) => {
-                const classId = cls._id || cls.name;
-                const isSelected = data.classes.some(c => c.id === classId);
-                
-                return (
-                  <motion.button
-                    key={classId || `class-${idx}`}
-                    whileHover={{ scale: 1.05 }}
-                    whileTap={{ scale: 0.95 }}
-                    onClick={() => handleClassToggle(cls)}
-                    className={`px-4 py-3 rounded-lg border-2 font-semibold transition-all ${
-                      isSelected
-                        ? "bg-gradient-to-r from-purple-500 to-pink-600 text-white border-purple-500"
-                        : "bg-white text-gray-700 border-gray-200 hover:border-purple-300"
-                    }`}
-                  >
-                    {cls.name}
-                  </motion.button>
-                );
-              })}
-            </div>
-          )}
-        </div>
-      )}
-
-      {/* Approval Notice */}
-      {data.approvalRequired && (
-        <div className="bg-amber-50 border-2 border-amber-200 rounded-xl p-4">
-          <div className="flex items-start gap-3">
-            <AlertCircle className="w-5 h-5 text-amber-600 mt-0.5" />
-            <div>
-              <h5 className="font-bold text-amber-900">Approval Required</h5>
-              <p className="text-sm text-amber-700 mt-1">
-                This assignment scope requires admin approval before it will be published to students.
-                You'll be notified once approved.
-              </p>
-            </div>
-          </div>
-        </div>
-      )}
-    </div>
-  );
-};
-
-export default ScopeStep;
-
diff --git a/frontend/src/components/AssignmentWizard/TemplateStep.jsx b/frontend/src/components/AssignmentWizard/TemplateStep.jsx
deleted file mode 100644
index dcbb4a2..0000000
--- a/frontend/src/components/AssignmentWizard/TemplateStep.jsx
+++ /dev/null
@@ -1,207 +0,0 @@
-import React, { useState, useEffect } from "react";
-import { motion } from "framer-motion";
-import { FileText, Search, Star, Lock, Eye } from "lucide-react";
-import api from "../../utils/api";
-import { toast } from "react-hot-toast";
-
-const TemplateStep = ({ data, updateData }) => {
-  const [templates, setTemplates] = useState([]);
-  const [loading, setLoading] = useState(true);
-  const [searchTerm, setSearchTerm] = useState("");
-  const [selectedCategory, setSelectedCategory] = useState("all");
-
-  useEffect(() => {
-    fetchTemplates();
-  }, []);
-
-  const fetchTemplates = async () => {
-    try {
-      const response = await api.get("/api/school/teacher/assignment-templates");
-      setTemplates(response.data.templates || []);
-    } catch (error) {
-      console.error("Error fetching templates:", error);
-      toast.error("Failed to load templates");
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  const categories = ["all", "math", "science", "english", "social"];
-
-  const filteredTemplates = templates.filter(t => {
-    const matchesSearch = t.title.toLowerCase().includes(searchTerm.toLowerCase());
-    const matchesCategory = selectedCategory === "all" || t.category === selectedCategory;
-    return matchesSearch && matchesCategory;
-  });
-
-  const handleTemplateSelect = (template) => {
-    updateData({
-      type: "template",
-      selectedTemplate: template,
-      title: template.title,
-      description: template.description,
-      subject: template.subject
-    });
-  };
-
-  const handleBlankAssignment = () => {
-    updateData({
-      type: "blank",
-      selectedTemplate: null,
-      title: data.title || "",
-      description: data.description || "",
-      subject: data.subject || ""
-    });
-  };
-
-  return (
-    <div className="space-y-6">
-      <div>
-        <h3 className="text-2xl font-bold text-gray-900 mb-2">Choose Template</h3>
-        <p className="text-gray-600">Start from a template or create from scratch</p>
-      </div>
-
-      {/* Template Type Selection */}
-      <div className="grid grid-cols-2 gap-4">
-        <motion.button
-          whileHover={{ scale: 1.02 }}
-          whileTap={{ scale: 0.98 }}
-          onClick={handleBlankAssignment}
-          className={`p-6 rounded-xl border-2 transition-all ${
-            data.type === "blank"
-              ? "bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-500"
-              : "bg-white border-gray-200 hover:border-blue-300"
-          }`}
-        >
-          <FileText className={`w-12 h-12 mb-3 ${data.type === "blank" ? "text-blue-600" : "text-gray-400"}`} />
-          <h4 className="font-bold text-gray-900 mb-1">Blank Assignment</h4>
-          <p className="text-sm text-gray-600">Start from scratch with your own questions</p>
-        </motion.button>
-
-        <motion.button
-          whileHover={{ scale: 1.02 }}
-          whileTap={{ scale: 0.98 }}
-          onClick={() => updateData({ type: "template" })}
-          className={`p-6 rounded-xl border-2 transition-all ${
-            data.type === "template"
-              ? "bg-gradient-to-br from-purple-50 to-pink-50 border-purple-500"
-              : "bg-white border-gray-200 hover:border-purple-300"
-          }`}
-        >
-          <Star className={`w-12 h-12 mb-3 ${data.type === "template" ? "text-purple-600" : "text-gray-400"}`} />
-          <h4 className="font-bold text-gray-900 mb-1">Use Template</h4>
-          <p className="text-sm text-gray-600">Choose from pre-made templates</p>
-        </motion.button>
-      </div>
-
-      {/* Blank Assignment Form */}
-      {data.type === "blank" && (
-        <div className="bg-gray-50 rounded-xl p-6 border-2 border-gray-200 space-y-4">
-          <div>
-            <label className="block text-sm font-semibold text-gray-700 mb-2">Assignment Title *</label>
-            <input
-              type="text"
-              value={data.title || ""}
-              onChange={(e) => updateData({ title: e.target.value })}
-              placeholder="e.g., Math Quiz - Algebra Basics"
-              className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none"
-            />
-          </div>
-          <div>
-            <label className="block text-sm font-semibold text-gray-700 mb-2">Description</label>
-            <textarea
-              value={data.description || ""}
-              onChange={(e) => updateData({ description: e.target.value })}
-              placeholder="Brief description of the assignment..."
-              rows={3}
-              className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none resize-none"
-            />
-          </div>
-          <div>
-            <label className="block text-sm font-semibold text-gray-700 mb-2">Subject *</label>
-            <input
-              type="text"
-              value={data.subject || ""}
-              onChange={(e) => updateData({ subject: e.target.value })}
-              placeholder="e.g., Mathematics"
-              className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none"
-            />
-          </div>
-        </div>
-      )}
-
-      {/* Template Library */}
-      {data.type === "template" && (
-        <div className="space-y-4">
-          {/* Search and Filter */}
-          <div className="flex gap-3">
-            <div className="flex-1 relative">
-              <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5" />
-              <input
-                type="text"
-                value={searchTerm}
-                onChange={(e) => setSearchTerm(e.target.value)}
-                placeholder="Search templates..."
-                className="w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none"
-              />
-            </div>
-            <select
-              value={selectedCategory}
-              onChange={(e) => setSelectedCategory(e.target.value)}
-              className="px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none bg-white"
-            >
-              {categories.map(cat => (
-                <option key={cat} value={cat}>{cat.charAt(0).toUpperCase() + cat.slice(1)}</option>
-              ))}
-            </select>
-          </div>
-
-          {/* Templates Grid */}
-          {loading ? (
-            <div className="text-center py-8">
-              <div className="animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent mx-auto" />
-            </div>
-          ) : (
-            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto">
-              {filteredTemplates.map((template) => {
-                const isSelected = data.selectedTemplate?._id === template._id;
-                
-                return (
-                  <motion.div
-                    key={template._id}
-                    whileHover={{ scale: 1.02 }}
-                    onClick={() => handleTemplateSelect(template)}
-                    className={`p-4 rounded-xl border-2 cursor-pointer transition-all ${
-                      isSelected
-                        ? "bg-gradient-to-br from-purple-50 to-pink-50 border-purple-500"
-                        : "bg-white border-gray-200 hover:border-purple-300"
-                    }`}
-                  >
-                    <div className="flex items-start justify-between mb-2">
-                      <h4 className="font-bold text-gray-900">{template.title}</h4>
-                      {template.premium && (
-                        <div className="px-2 py-1 bg-amber-100 text-amber-700 rounded text-xs font-bold flex items-center gap-1">
-                          <Lock className="w-3 h-3" />
-                          Premium
-                        </div>
-                      )}
-                    </div>
-                    <p className="text-sm text-gray-600 mb-3">{template.description}</p>
-                    <div className="flex items-center justify-between text-xs text-gray-500">
-                      <span>{template.questionCount} questions</span>
-                      <span>{template.duration} min</span>
-                      <span className="capitalize">{template.category}</span>
-                    </div>
-                  </motion.div>
-                );
-              })}
-            </div>
-          )}
-        </div>
-      )}
-    </div>
-  );
-};
-
-export default TemplateStep;
-
diff --git a/frontend/src/components/ClassDetailModal.jsx b/frontend/src/components/ClassDetailModal.jsx
index 5cfbb2c..0d7a946 100644
--- a/frontend/src/components/ClassDetailModal.jsx
+++ b/frontend/src/components/ClassDetailModal.jsx
@@ -212,21 +212,21 @@ const ClassDetailModal = ({
                     </div>
 
                     {/* Students */}
-                    {selectedClass.students && selectedClass.students.length > 0 && (
-                      <div>
-                        <div className="flex items-center justify-between mb-4">
-                          <h3 className="text-lg font-bold text-gray-900 flex items-center gap-2">
-                            <Users className="w-5 h-5 text-indigo-600" />
-                            Students ({selectedClass.students.length})
-                          </h3>
-                          <button
-                            onClick={() => setShowAddStudentModal(true)}
-                            className="px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center gap-2"
-                          >
-                            <UserPlus className="w-4 h-4" />
-                            Add Students
-                          </button>
-                        </div>
+                    <div>
+                      <div className="flex items-center justify-between mb-4">
+                        <h3 className="text-lg font-bold text-gray-900 flex items-center gap-2">
+                          <Users className="w-5 h-5 text-indigo-600" />
+                          Students ({selectedClass.students?.length || 0})
+                        </h3>
+                        <button
+                          onClick={() => setShowAddStudentModal(true)}
+                          className="px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center gap-2"
+                        >
+                          <UserPlus className="w-4 h-4" />
+                          Add Students
+                        </button>
+                      </div>
+                      {selectedClass.students && selectedClass.students.length > 0 ? (
                         <div className="grid grid-cols-1 gap-3">
                           {selectedClass.students.map((student, idx) => (
                             <div key={idx} className="p-3 bg-gray-50 rounded-lg border border-gray-200">
@@ -250,8 +250,14 @@ const ClassDetailModal = ({
                             </div>
                           ))}
                         </div>
-                      </div>
-                    )}
+                      ) : (
+                        <div className="text-center py-8 text-gray-500 bg-gray-50 rounded-xl border-2 border-gray-200">
+                          <Users className="w-12 h-12 mx-auto mb-2 text-gray-400" />
+                          <p className="font-semibold">No students assigned yet</p>
+                          <p className="text-sm">Click "Add Students" to assign students to this class</p>
+                        </div>
+                      )}
+                    </div>
                   </div>
                 </div>
               </div>
diff --git a/frontend/src/components/CreateTeacherModal.jsx b/frontend/src/components/CreateTeacherModal.jsx
index 2316a5f..7480072 100644
--- a/frontend/src/components/CreateTeacherModal.jsx
+++ b/frontend/src/components/CreateTeacherModal.jsx
@@ -45,7 +45,9 @@ const CreateTeacherModal = ({
       subject: '',
       qualification: '',
       experience: '',
-      joiningDate: ''
+      joiningDate: '',
+      pronouns: '',
+      customPronouns: ''
     });
   };
 
@@ -106,6 +108,35 @@ const CreateTeacherModal = ({
                           />
                         </div>
 
+                        <div>
+                          <label className="block text-sm font-bold text-gray-700 mb-2">
+                            Pronouns
+                          </label>
+                          <select
+                            value={newTeacher.pronouns || ''}
+                            onChange={(e) => setNewTeacher(prev => ({ ...prev, pronouns: e.target.value }))}
+                            className="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none font-semibold"
+                          >
+                            <option value="">Select Pronouns (Optional)</option>
+                            <option value="he/him">he/him</option>
+                            <option value="she/her">she/her</option>
+                            <option value="they/them">they/them</option>
+                            <option value="ze/hir">ze/hir</option>
+                            <option value="ze/zir">ze/zir</option>
+                            <option value="xe/xem">xe/xem</option>
+                            <option value="other">Other</option>
+                          </select>
+                          {newTeacher.pronouns === 'other' && (
+                            <input
+                              type="text"
+                              value={newTeacher.customPronouns || ''}
+                              onChange={(e) => setNewTeacher(prev => ({ ...prev, customPronouns: e.target.value }))}
+                              className="w-full mt-2 px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none font-semibold"
+                              placeholder="Enter custom pronouns (e.g., they/them/their)"
+                            />
+                          )}
+                        </div>
+
                         <div>
                           <label className="block text-sm font-bold text-gray-700 mb-2">
                             Email Address *
diff --git a/frontend/src/components/InviteStudentsModal.jsx b/frontend/src/components/InviteStudentsModal.jsx
index db914d9..80ebafb 100644
--- a/frontend/src/components/InviteStudentsModal.jsx
+++ b/frontend/src/components/InviteStudentsModal.jsx
@@ -5,7 +5,7 @@ import { QRCodeSVG } from "qrcode.react";
 import api from "../utils/api";
 import { toast } from "react-hot-toast";
 
-const InviteStudentsModal = ({ isOpen, onClose, classId, className }) => {
+const InviteStudentsModal = ({ isOpen, onClose, classId, className, onSuccess }) => {
   const [activeTab, setActiveTab] = useState("existing"); // existing, invite, bulk
   const [inviteLink, setInviteLink] = useState("");
   const [registrationLink, setRegistrationLink] = useState("");
@@ -164,6 +164,7 @@ const InviteStudentsModal = ({ isOpen, onClose, classId, className }) => {
       setSelectedStudents([]);
       setSearchQuery("");
       setSearchResults([]);
+      if (onSuccess) onSuccess();
     } catch (error) {
       console.error("Error assigning students:", error);
       toast.error("Failed to assign students");
diff --git a/frontend/src/components/Navbar.jsx b/frontend/src/components/Navbar.jsx
index 8a2173a..56b2354 100644
--- a/frontend/src/components/Navbar.jsx
+++ b/frontend/src/components/Navbar.jsx
@@ -28,7 +28,8 @@ import {
     CheckCircle,
     FileText,
     Target,
-    DollarSign
+    DollarSign,
+    Activity
 } from "lucide-react";
 
 
@@ -85,11 +86,12 @@ const Navbar = () => {
 
     const navigationItems = (user?.role === "student" || user?.role === "school_student") ? [
         { icon: <Home className="w-5 h-5" />, label: "Dashboard", onClick: handleDashboardRedirect },
-        { icon: <TrendingUp className="w-5 h-5" />, label: "Challenges", onClick: () => navigate("/student/challenge") },
-        { icon: <Zap className="w-5 h-5" />, label: "Daily Challenges", onClick: () => navigate("/student/daily-challenges") }
+        { icon: <Bell className="w-5 h-5" />, label: "Announcements", onClick: () => navigate(user?.role === "school_student" ? "/school-student/announcements" : "/student/announcements") },
+        { icon: <Activity className="w-5 h-5" />, label: "Activity", onClick: () => navigate("/student/activity") }
     ] : user?.role === "parent" ? [
         { icon: <Home className="w-5 h-5" />, label: "Overview", onClick: handleDashboardRedirect },
         { icon: <Users className="w-5 h-5" />, label: "Children", onClick: () => navigate("/parent/children") },
+        { icon: <Bell className="w-5 h-5" />, label: "Announcements", onClick: () => navigate("/parent/announcements") },
         { icon: <Mail className="w-5 h-5" />, label: "Messages", onClick: () => navigate("/parent/messages") },
         { icon: <Settings className="w-5 h-5" />, label: "Settings", onClick: () => navigate("/parent/settings") }
     ] : user?.role === "admin" ? [
@@ -101,6 +103,7 @@ const Navbar = () => {
         { icon: <Home className="w-5 h-5" />, label: "Overview", onClick: handleDashboardRedirect },
         { icon: <Users className="w-5 h-5" />, label: "Students", onClick: () => navigate("/school/admin/students") },
         { icon: <BarChart3 className="w-5 h-5" />, label: "Analytics", onClick: () => navigate("/school/admin/analytics") },
+        { icon: <Bell className="w-5 h-5" />, label: "Announcements", onClick: () => navigate("/school/admin/announcements") },
         { icon: <CheckCircle className="w-5 h-5" />, label: "Approvals", onClick: () => navigate("/school/admin/approvals") },
         { icon: <FileText className="w-5 h-5" />, label: "Templates", onClick: () => navigate("/school/admin/templates") },
         { icon: <Settings className="w-5 h-5" />, label: "Settings", onClick: () => navigate("/school/admin/settings") }
@@ -108,9 +111,16 @@ const Navbar = () => {
         { icon: <Home className="w-5 h-5" />, label: "Overview", onClick: handleDashboardRedirect },
         { icon: <Users className="w-5 h-5" />, label: "Students", onClick: () => navigate("/school-teacher/students") },
         { icon: <BarChart3 className="w-5 h-5" />, label: "Analytics", onClick: () => navigate("/school-teacher/analytics") },
+        { icon: <Bell className="w-5 h-5" />, label: "Announcements", onClick: () => navigate("/school-teacher/announcements") },
         { icon: <Mail className="w-5 h-5" />, label: "Messages", onClick: () => navigate("/school-teacher/messages") },
         { icon: <CheckCircle className="w-5 h-5" />, label: "Tasks", onClick: () => navigate("/school-teacher/tasks") },
-        { icon: <Settings className="w-5 h-5" />, label: "Settings", onClick: () => navigate("/school-teacher/settings") }
+        
+    ] : user?.role === "school_parent" ? [
+        { icon: <Home className="w-5 h-5" />, label: "Overview", onClick: handleDashboardRedirect },
+        { icon: <Users className="w-5 h-5" />, label: "Children", onClick: () => navigate("/school-parent/children") },
+        { icon: <Bell className="w-5 h-5" />, label: "Announcements", onClick: () => navigate("/school-parent/announcements") },
+        { icon: <Mail className="w-5 h-5" />, label: "Messages", onClick: () => navigate("/school-parent/messages") },
+        { icon: <Settings className="w-5 h-5" />, label: "Settings", onClick: () => navigate("/school-parent/settings") }
     ] : user?.role === "csr" ? [
         { icon: <Home className="w-5 h-5" />, label: "Overview", onClick: () => navigate("/csr/overview") },
         { icon: <Target className="w-5 h-5" />, label: "Campaigns", onClick: () => navigate("/csr/campaigns") },
@@ -261,7 +271,7 @@ const Navbar = () => {
 
                             {user && (
                                 <>
-                                    {user.role === "student" && (
+                                    {(user.role === "student" || user.role === "school_student") && (
                                         <motion.button
                                             className="flex items-center gap-1.5 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-yellow-400 to-amber-500 text-white rounded-lg font-bold text-sm shadow-md hover:shadow-lg transition-all duration-200 border-2 border-yellow-500 cursor-pointer"
                                             whileHover={{ scale: 1.03 }}
@@ -274,7 +284,7 @@ const Navbar = () => {
                                         </motion.button>
                                     )}
 
-                                    {(user.role === "student" || user.role === "admin") && (
+                                    {( user.role === "admin") && (
                                         <motion.button
                                             className="relative p-2 sm:p-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 border-2 border-gray-300 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md cursor-pointer"
                                             whileHover={{ scale: 1.08, rotate: -10 }}
@@ -293,6 +303,25 @@ const Navbar = () => {
                                             )}
                                         </motion.button>
                                     )}
+                                    {(user.role === "student" || user.role === "school_student") && (
+                                        <motion.button
+                                            className="relative p-2 sm:p-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 border-2 border-gray-300 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md cursor-pointer"
+                                            whileHover={{ scale: 1.08, rotate: -10 }}
+                                            whileTap={{ scale: 0.95 }}
+                                            onClick={() => navigate(`/student/notifications`)}
+                                        >
+                                            <Bell className="w-5 h-5" />
+                                            {unreadCount > 0 && (
+                                                <motion.span
+                                                    className="absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold shadow-lg border-2 border-white"
+                                                    animate={{ scale: [1, 1.2, 1] }}
+                                                    transition={{ duration: 2, repeat: Infinity }}
+                                                >
+                                                    {unreadCount > 9 ? '9+' : unreadCount}
+                                                </motion.span>
+                                            )}
+                                        </motion.button>
+                                    )}
 
                                     {/* Profile Menu */}
                                     <div className="relative" ref={profileMenuRef}>
diff --git a/frontend/src/components/NewAssignmentModal.jsx b/frontend/src/components/NewAssignmentModal.jsx
index 7c5cd1f..887c209 100644
--- a/frontend/src/components/NewAssignmentModal.jsx
+++ b/frontend/src/components/NewAssignmentModal.jsx
@@ -1,14 +1,32 @@
 import React, { useState, useEffect } from "react";
 import { motion, AnimatePresence } from "framer-motion";
-import { X, Calendar, BookOpen, Users, Upload, Plus, Trash2, Sparkles } from "lucide-react";
+import { X, Calendar, BookOpen, Users, Upload, Plus, Trash2, ArrowLeft } from "lucide-react";
 import api from "../utils/api";
 import { toast } from "react-hot-toast";
-import AssignmentWizard from "./AssignmentWizard";
+import AssignmentTypeSelector from "./AssignmentTypeSelector";
+import QuestionBuilder from "./QuestionBuilder";
+import ProjectAssignmentBuilder from "./ProjectAssignmentBuilder";
 
-const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaultClassName }) => {
-  const [showWizard, setShowWizard] = useState(false);
+const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaultClassName, editMode = false, assignmentToEdit = null }) => {
+  const [showTypeSelector, setShowTypeSelector] = useState(true);
+  const [showQuestionBuilder, setShowQuestionBuilder] = useState(false);
   const [classes, setClasses] = useState([]);
   const [loading, setLoading] = useState(false);
+  const [selectedTemplate, setSelectedTemplate] = useState(null);
+  const [questions, setQuestions] = useState([]);
+  const [projectData, setProjectData] = useState({
+    mode: 'instructions', // 'instructions' or 'virtual'
+    title: '',
+    description: '',
+    subject: '',
+    instructions: '',
+    deliverables: '',
+    resources: '',
+    deadline: '',
+    duration: 0,
+    groupSize: 'individual',
+    submissionRequirements: ''
+  });
   const [formData, setFormData] = useState({
     title: "",
     description: "",
@@ -23,15 +41,59 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
   useEffect(() => {
     if (isOpen) {
       fetchClasses();
+      if (editMode && assignmentToEdit) {
+        // Populate form with existing assignment data
+        setFormData({
+          title: assignmentToEdit.title || "",
+          description: assignmentToEdit.description || "",
+          subject: assignmentToEdit.subject || "",
+          dueDate: assignmentToEdit.dueDate ? new Date(assignmentToEdit.dueDate).toISOString().slice(0, 16) : "",
+          assignedTo: assignmentToEdit.assignedToClasses || [],
+          points: assignmentToEdit.totalMarks || 100,
+          attachments: assignmentToEdit.attachments || [],
+          type: assignmentToEdit.type || "homework"
+        });
+        
+        if (assignmentToEdit.questions && assignmentToEdit.questions.length > 0) {
+          setQuestions(assignmentToEdit.questions);
+          setShowTypeSelector(false);
+          setShowQuestionBuilder(true);
+        }
+        
+        if (assignmentToEdit.type === 'project') {
+          setProjectData({
+            mode: assignmentToEdit.projectMode || 'instructions',
+            title: assignmentToEdit.title || '',
+            description: assignmentToEdit.description || '',
+            subject: assignmentToEdit.subject || '',
+            instructions: assignmentToEdit.projectData?.instructions || '',
+            deliverables: assignmentToEdit.projectData?.deliverables || '',
+            resources: assignmentToEdit.projectData?.resources || '',
+            deadline: assignmentToEdit.projectData?.deadline || '',
+            duration: assignmentToEdit.projectData?.duration || 0,
+            groupSize: assignmentToEdit.projectData?.groupSize || 'individual',
+            submissionRequirements: assignmentToEdit.projectData?.submissionRequirements || ''
+          });
+        }
+      }
     }
-  }, [isOpen]);
+  }, [isOpen, editMode, assignmentToEdit]);
 
   const fetchClasses = async () => {
     try {
       const response = await api.get("/api/school/teacher/classes");
-      setClasses(response.data.classes || []);
+      console.log("Classes response:", response.data);
+      
+      // Handle both old format (array) and new format (object with classes property)
+      const classesData = response.data.classes || response.data || [];
+      setClasses(classesData);
+      
+      if (response.data.message) {
+        console.log("API Message:", response.data.message);
+      }
     } catch (error) {
       console.error("Error fetching classes:", error);
+      toast.error("Failed to load classes. Please try again.");
     }
   };
 
@@ -40,13 +102,92 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
     setLoading(true);
 
     try {
-      await api.post("/api/school/teacher/assignments", formData);
-      toast.success("Assignment created successfully!");
-      onSuccess?.();
-      handleClose();
+      // Validate required fields
+      if (!formData.title || !formData.description || !formData.subject || !formData.dueDate) {
+        toast.error("Please fill in all required fields");
+        setLoading(false);
+        return;
+      }
+
+      if (formData.assignedTo.length === 0) {
+        toast.error("Please select at least one class");
+        setLoading(false);
+        return;
+      }
+
+      // Validation based on assignment type
+      if (formData.type === 'quiz' && questions.length === 0) {
+        toast.error('Please add questions for the quiz');
+        setLoading(false);
+        return;
+      }
+      
+      if (formData.type === 'test' && questions.length === 0) {
+        toast.error('Please add questions for the test');
+        setLoading(false);
+        return;
+      }
+      
+      if (formData.type === 'project' && projectData.mode === 'virtual' && questions.length === 0) {
+        toast.error('Please add project tasks for virtual mode');
+        setLoading(false);
+        return;
+      }
+
+      // For project assignments, validate that questions have proper content
+      if (formData.type === 'project' && projectData.mode === 'virtual') {
+        const invalidQuestions = questions.filter(q => !q.question || q.question.trim() === '');
+        if (invalidQuestions.length > 0) {
+          toast.error('Please provide task descriptions for all project tasks');
+          setLoading(false);
+          return;
+        }
+      }
+
+      // Prepare the data for the API
+            const assignmentData = {
+              title: formData.title,
+              description: formData.description,
+              subject: formData.subject,
+              type: formData.type,
+              dueDate: formData.dueDate,
+              points: parseInt(formData.points) || 100,
+              assignedTo: formData.assignedTo,
+              attachments: formData.attachments || [],
+              questions: questions,
+              totalPoints: questions.reduce((total, q) => total + (q.points || 0), 0),
+              questionCount: questions.length,
+              instructions: "Complete all questions carefully.",
+              gradingType: "auto",
+              allowRetake: true,
+              maxAttempts: 3,
+              // Project-specific data
+              ...(formData.type === 'project' && {
+                projectMode: projectData.mode,
+                projectData: projectData
+              })
+            };
+
+      console.log("Sending assignment data:", assignmentData);
+
+      let response;
+      if (editMode && assignmentToEdit) {
+        response = await api.put(`/api/school/teacher/assignments/${assignmentToEdit._id}`, assignmentData);
+      } else {
+        response = await api.post("/api/school/teacher/assignments", assignmentData);
+      }
+      
+      if (response.data.success) {
+        toast.success(editMode ? "Assignment updated successfully!" : "Assignment created successfully!");
+        onSuccess?.();
+        handleClose();
+      } else {
+        toast.error(response.data.message || (editMode ? "Failed to update assignment" : "Failed to create assignment"));
+      }
     } catch (error) {
       console.error("Error creating assignment:", error);
-      toast.error(error.response?.data?.message || "Failed to create assignment");
+      const errorMessage = error.response?.data?.message || error.response?.data?.error || "Failed to create assignment";
+      toast.error(errorMessage);
     } finally {
       setLoading(false);
     }
@@ -63,6 +204,23 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
       attachments: [],
       type: "homework"
     });
+    setProjectData({
+      mode: 'instructions',
+      title: '',
+      description: '',
+      subject: '',
+      instructions: '',
+      deliverables: '',
+      resources: '',
+      deadline: '',
+      duration: 0,
+      groupSize: 'individual',
+      submissionRequirements: ''
+    });
+    setShowTypeSelector(true);
+    setShowQuestionBuilder(false);
+    setSelectedTemplate(null);
+    setQuestions([]);
     onClose();
   };
 
@@ -75,27 +233,55 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
     }));
   };
 
+  const handleTypeSelect = (type) => {
+    setFormData(prev => ({ ...prev, type }));
+  };
+
+  const handleTemplateSelect = (template) => {
+    setSelectedTemplate(template);
+    // Always create blank assignment (template is always null now)
+    setQuestions([]);
+    if (formData.type === 'project') {
+      setProjectData(prev => ({
+        ...prev,
+        title: formData.title,
+        description: formData.description,
+        subject: formData.subject,
+        mode: 'instructions'
+      }));
+    }
+    setShowTypeSelector(false);
+    setShowQuestionBuilder(true);
+  };
+
+  const handleBackToTypeSelector = () => {
+    setShowTypeSelector(true);
+    setShowQuestionBuilder(false);
+    setSelectedTemplate(null);
+  };
+
   if (!isOpen) return null;
 
   return (
     <AnimatePresence>
-      <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
-        {/* Backdrop */}
-        <motion.div
-          initial={{ opacity: 0 }}
-          animate={{ opacity: 1 }}
-          exit={{ opacity: 0 }}
-          onClick={handleClose}
-          className="absolute inset-0 bg-black/50 backdrop-blur-sm"
-        />
-
-        {/* Modal */}
-        <motion.div
-          initial={{ opacity: 0, scale: 0.95, y: 20 }}
-          animate={{ opacity: 1, scale: 1, y: 0 }}
-          exit={{ opacity: 0, scale: 0.95, y: 20 }}
-          className="relative w-full max-w-2xl bg-white rounded-2xl shadow-2xl overflow-hidden"
-        >
+      <>
+        <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
+          {/* Backdrop */}
+          <motion.div
+            initial={{ opacity: 0 }}
+            animate={{ opacity: 1 }}
+            exit={{ opacity: 0 }}
+            onClick={handleClose}
+            className="absolute inset-0 bg-black/50 backdrop-blur-sm"
+          />
+
+          {/* Modal */}
+          <motion.div
+            initial={{ opacity: 0, scale: 0.95, y: 20 }}
+            animate={{ opacity: 1, scale: 1, y: 0 }}
+            exit={{ opacity: 0, scale: 0.95, y: 20 }}
+            className="relative w-full max-w-4xl lg:max-w-6xl bg-white rounded-2xl shadow-2xl overflow-hidden"
+          >
           {/* Header */}
           <div className="bg-gradient-to-r from-purple-500 to-pink-600 px-6 py-4">
             <div className="flex items-center justify-between">
@@ -103,24 +289,12 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
                 <div className="p-2 bg-white/20 rounded-lg">
                   <BookOpen className="w-6 h-6 text-white" />
                 </div>
-                <div>
-                  <h2 className="text-2xl font-bold text-white">Create New Assignment</h2>
-                  <p className="text-purple-100 text-sm">Quick mode - For advanced options, use wizard</p>
-                </div>
+                       <div>
+                         <h2 className="text-2xl font-bold text-white">{editMode ? "Edit Assignment" : "Create New Assignment"}</h2>
+                         <p className="text-purple-100 text-sm">{editMode ? "Update assignment details" : "Create new assignment"}</p>
+                       </div>
               </div>
               <div className="flex items-center gap-2">
-                <motion.button
-                  whileHover={{ scale: 1.05 }}
-                  whileTap={{ scale: 0.95 }}
-                  onClick={() => {
-                    handleClose();
-                    setShowWizard(true);
-                  }}
-                  className="px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg font-semibold transition-all flex items-center gap-2"
-                >
-                  <Sparkles className="w-4 h-4" />
-                  Advanced Wizard
-                </motion.button>
                 <button
                   onClick={handleClose}
                   className="p-2 hover:bg-white/20 rounded-lg transition-all"
@@ -131,7 +305,182 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
             </div>
           </div>
 
-          {/* Form */}
+          {/* Content */}
+          <div className="p-6 max-h-[70vh] overflow-y-auto">
+            {showTypeSelector && (
+              <AssignmentTypeSelector
+                onTypeSelect={handleTypeSelect}
+                onTemplateSelect={handleTemplateSelect}
+                selectedType={formData.type}
+                selectedTemplate={selectedTemplate}
+              />
+            )}
+
+            {showQuestionBuilder && (
+              <div className="space-y-6">
+                {/* Back Button */}
+                <div className="flex items-center gap-4">
+                  <motion.button
+                    whileHover={{ scale: 1.05 }}
+                    whileTap={{ scale: 0.95 }}
+                    onClick={handleBackToTypeSelector}
+                    className="flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors"
+                  >
+                    <ArrowLeft className="w-5 h-5" />
+                    <span className="font-semibold">Back to Type Selection</span>
+                  </motion.button>
+                </div>
+
+                {/* Assignment Details */}
+                <div className="bg-gray-50 rounded-xl p-6 border-2 border-gray-200">
+                  <h3 className="text-lg font-bold text-gray-900 mb-4">Assignment Details</h3>
+                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
+                    <div>
+                      <label className="block text-sm font-semibold text-gray-700 mb-2">
+                        Title *
+                      </label>
+                      <input
+                        type="text"
+                        required
+                        value={formData.title}
+                        onChange={(e) => setFormData({ ...formData, title: e.target.value })}
+                        placeholder="e.g., Math Quiz - Chapter 5"
+                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all"
+                      />
+                    </div>
+                    <div>
+                      <label className="block text-sm font-semibold text-gray-700 mb-2">
+                        Subject *
+                      </label>
+                      <input
+                        type="text"
+                        required
+                        value={formData.subject}
+                        onChange={(e) => setFormData({ ...formData, subject: e.target.value })}
+                        placeholder="e.g., Mathematics"
+                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all"
+                      />
+                    </div>
+                    <div>
+                      <label className="block text-sm font-semibold text-gray-700 mb-2">
+                        Due Date *
+                      </label>
+                      <input
+                        type="datetime-local"
+                        required
+                        value={formData.dueDate}
+                        onChange={(e) => setFormData({ ...formData, dueDate: e.target.value })}
+                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all"
+                      />
+                    </div>
+                    <div>
+                      <label className="block text-sm font-semibold text-gray-700 mb-2">
+                        Total Points
+                      </label>
+                      <input
+                        type="number"
+                        min="0"
+                        value={questions.reduce((total, q) => total + (q.points || 0), 0)}
+                        readOnly
+                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-100"
+                      />
+                    </div>
+                  </div>
+                  <div className="mt-4">
+                    <label className="block text-sm font-semibold text-gray-700 mb-2">
+                      Description
+                    </label>
+                    <textarea
+                      value={formData.description}
+                      onChange={(e) => setFormData({ ...formData, description: e.target.value })}
+                      placeholder="Provide details about the assignment..."
+                      rows={3}
+                      className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all resize-none"
+                    />
+                  </div>
+                </div>
+
+            {/* Question Builder or Project Builder */}
+            {formData.type === 'project' ? (
+              <ProjectAssignmentBuilder
+                projectData={projectData}
+                onProjectDataChange={setProjectData}
+                questions={questions}
+                onQuestionsChange={setQuestions}
+              />
+            ) : (
+              <QuestionBuilder
+                questions={questions}
+                onQuestionsChange={setQuestions}
+                template={selectedTemplate}
+                assignmentType={formData.type}
+              />
+            )}
+
+                {/* Assign to Classes */}
+                <div className="bg-gray-50 rounded-xl p-6 border-2 border-gray-200">
+                  <h3 className="text-lg font-bold text-gray-900 mb-4">Assign to Classes</h3>
+                  <div className="grid grid-cols-1 gap-2">
+                    {classes.map((cls, index) => (
+                      <motion.button
+                        key={cls._id || cls.name || `class-${index}`}
+                        type="button"
+                        whileHover={{ scale: 1.02 }}
+                        whileTap={{ scale: 0.98 }}
+                        onClick={() => handleClassToggle(cls._id || cls.name)}
+                        className={`px-4 py-3 rounded-xl border-2 font-semibold transition-all ${
+                          formData.assignedTo.includes(cls._id || cls.name)
+                            ? "bg-gradient-to-r from-purple-500 to-pink-600 text-white border-purple-500"
+                            : "bg-white text-gray-700 border-gray-200 hover:border-purple-300"
+                        }`}
+                      >
+                        <div className="text-left">
+                          <div className="font-bold">{cls.name}</div>
+                          {cls.academicYear && (
+                            <div className="text-sm opacity-75">Academic Year: {cls.academicYear}</div>
+                          )}
+                          {cls.sections && cls.sections.length > 0 && (
+                            <div className="text-sm opacity-75">
+                              Sections: {cls.sections.map(s => s.name).join(', ')}
+                            </div>
+                          )}
+                        </div>
+                      </motion.button>
+                    ))}
+                  </div>
+                </div>
+
+                {/* Action Buttons */}
+                <div className="flex gap-3 pt-4 border-t-2 border-gray-100">
+                  <motion.button
+                    type="button"
+                    whileHover={{ scale: 1.02 }}
+                    whileTap={{ scale: 0.98 }}
+                    onClick={handleClose}
+                    className="flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all"
+                  >
+                    Cancel
+                  </motion.button>
+                  <motion.button
+                    type="button"
+                    whileHover={{ scale: 1.02 }}
+                    whileTap={{ scale: 0.98 }}
+                    onClick={handleSubmit}
+                    disabled={loading || formData.assignedTo.length === 0 || 
+                      (formData.type === 'quiz' && questions.length === 0) ||
+                      (formData.type === 'test' && questions.length === 0) ||
+                      (formData.type === 'project' && projectData.mode === 'virtual' && questions.length === 0)}
+                    className="flex-1 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"
+                  >
+                    {loading ? "Creating..." : "Create Assignment"}
+                  </motion.button>
+                </div>
+              </div>
+            )}
+          </div>
+
+          {/* Original Form (Hidden when using new flow) */}
+          {!showTypeSelector && !showQuestionBuilder && (
           <form onSubmit={handleSubmit} className="p-6 max-h-[70vh] overflow-y-auto">
             {/* Title */}
             <div className="mb-4">
@@ -231,7 +580,7 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
                 <Users className="w-4 h-4 inline mr-2" />
                 Assign to Classes *
               </label>
-              <div className="grid grid-cols-2 gap-2">
+              <div className="grid grid-cols-1 gap-2">
                 {classes.map((cls, index) => (
                   <motion.button
                     key={cls._id || cls.name || `class-${index}`}
@@ -245,7 +594,17 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
                         : "bg-white text-gray-700 border-gray-200 hover:border-purple-300"
                     }`}
                   >
-                    {cls.name}
+                    <div className="text-left">
+                      <div className="font-bold">{cls.name}</div>
+                      {cls.academicYear && (
+                        <div className="text-sm opacity-75">Academic Year: {cls.academicYear}</div>
+                      )}
+                      {cls.sections && cls.sections.length > 0 && (
+                        <div className="text-sm opacity-75">
+                          Sections: {cls.sections.map(s => s.name).join(', ')}
+                        </div>
+                      )}
+                    </div>
                   </motion.button>
                 ))}
               </div>
@@ -276,21 +635,11 @@ const NewAssignmentModal = ({ isOpen, onClose, onSuccess, defaultClassId, defaul
               </motion.button>
             </div>
           </form>
+          )}
         </motion.div>
-      </div>
-
-      {/* Assignment Wizard */}
-      {showWizard && (
-        <AssignmentWizard
-          isOpen={showWizard}
-          onClose={() => {
-            setShowWizard(false);
-            onSuccess?.();
-          }}
-          defaultClassId={defaultClassId}
-          defaultClassName={defaultClassName}
-        />
-      )}
+        </div>
+
+      </>
     </AnimatePresence>
   );
 };
diff --git a/frontend/src/pages/Parent/ParentChildAnalytics.jsx b/frontend/src/pages/Parent/ParentChildAnalytics.jsx
index bb5452b..113a6c2 100644
--- a/frontend/src/pages/Parent/ParentChildAnalytics.jsx
+++ b/frontend/src/pages/Parent/ParentChildAnalytics.jsx
@@ -1,4 +1,4 @@
-import React, { useState, useEffect } from 'react';
+import React, { useState, useEffect, useCallback } from 'react';
 import { motion } from 'framer-motion';
 import { useNavigate, useParams } from 'react-router-dom';
 import { 
@@ -16,30 +16,27 @@ const ParentChildAnalytics = () => {
   const { childId } = useParams();
   const [analytics, setAnalytics] = useState(null);
   const [loading, setLoading] = useState(true);
-  const [parentProfile, setParentProfile] = useState(null);
 
-  useEffect(() => {
-    if (childId) {
-      fetchChildAnalytics();
-    }
-  }, [childId]);
-
-  const fetchChildAnalytics = async () => {
+  const fetchChildAnalytics = useCallback(async () => {
     try {
       setLoading(true);
-      const [analyticsRes, profileRes] = await Promise.all([
-        api.get(`/api/parent/child/${childId}/analytics`),
-        api.get("/api/user/profile").catch(() => ({ data: null }))
-      ]);
+      const analyticsRes = await api.get(`/api/parent/child/${childId}/analytics`);
+      console.log('Analytics response:', analyticsRes.data);
+      console.log('ChildCard data:', analyticsRes.data.childCard);
       setAnalytics(analyticsRes.data);
-      setParentProfile(profileRes.data);
     } catch (error) {
       console.error('Error fetching analytics:', error);
       toast.error('Failed to load analytics');
     } finally {
       setLoading(false);
     }
-  };
+  }, [childId]);
+
+  useEffect(() => {
+    if (childId) {
+      fetchChildAnalytics();
+    }
+  }, [childId, fetchChildAnalytics]);
 
   if (loading) {
     return (
diff --git a/frontend/src/pages/Parent/ParentDashboard.jsx b/frontend/src/pages/Parent/ParentDashboard.jsx
index 9edb3e8..e54d024 100644
--- a/frontend/src/pages/Parent/ParentDashboard.jsx
+++ b/frontend/src/pages/Parent/ParentDashboard.jsx
@@ -45,9 +45,7 @@ const ParentDashboard = () => {
   const { childId } = useParams();
   const [children, setChildren] = useState([]);
   const [selectedChildId, setSelectedChildId] = useState(childId || null);
-  const [analytics, setAnalytics] = useState(null);
   const [loading, setLoading] = useState(true);
-  const [analyticsLoading, setAnalyticsLoading] = useState(false);
   const [searchQuery, setSearchQuery] = useState('');
   const [filterStatus, setFilterStatus] = useState('all');
   const [showAddChildModal, setShowAddChildModal] = useState(false);
@@ -57,8 +55,11 @@ const ParentDashboard = () => {
   const fetchChildren = useCallback(async () => {
     try {
       setLoading(true);
+      console.log('Fetching children from API...');
       const response = await api.get('/api/parent/children');
+      console.log('API Response:', response.data);
       const childrenData = response.data.children || [];
+      console.log('Children data:', childrenData);
       setChildren(childrenData);
       
       // Auto-select first child if none selected
@@ -73,28 +74,11 @@ const ParentDashboard = () => {
     }
   }, [selectedChildId, childId]);
 
-  const fetchChildAnalytics = useCallback(async (id) => {
-    try {
-      setAnalyticsLoading(true);
-      const response = await api.get(`/api/parent/child/${id}/analytics`);
-      setAnalytics(response.data);
-    } catch (error) {
-      console.error('Error fetching analytics:', error);
-      toast.error('Failed to load analytics');
-    } finally {
-      setAnalyticsLoading(false);
-    }
-  }, []);
 
   useEffect(() => {
     fetchChildren();
   }, [fetchChildren]);
 
-  useEffect(() => {
-    if (selectedChildId) {
-      fetchChildAnalytics(selectedChildId);
-    }
-  }, [selectedChildId, fetchChildAnalytics]);
 
   const handleAddChild = async () => {
     if (!childEmail.trim()) {
@@ -111,10 +95,13 @@ const ParentDashboard = () => {
 
     try {
       setAddingChild(true);
+      console.log('Linking child with email:', childEmail.trim());
       const response = await api.post('/api/parent/link-child', { childEmail: childEmail.trim() });
+      console.log('Link child response:', response.data);
       toast.success(response.data.message || 'Child linked successfully!');
       setShowAddChildModal(false);
       setChildEmail('');
+      console.log('Refreshing children list...');
       fetchChildren(); // Refresh the children list
     } catch (error) {
       console.error('Error linking child:', error);
@@ -1182,6 +1169,7 @@ export const HealCoinsCard = ({ healCoins }) => {
 
 // Child Info Card Component
 export const ChildInfoCard = ({ childCard }) => {
+  console.log('ChildInfoCard received childCard:', childCard);
   if (!childCard) return null;
 
   return (
@@ -1222,26 +1210,40 @@ export const ChildInfoCard = ({ childCard }) => {
               </div>
           </div>
 
-          {/* Teacher Contact */}
-          {childCard.teacherContact && (
-            <div className="bg-white/20 backdrop-blur-md rounded-2xl p-4 border border-white/30">
-              <h3 className="text-sm font-bold mb-2 flex items-center gap-2">
-                <Users className="w-4 h-4" />
-                Primary Teacher
-              </h3>
-              <p className="font-bold mb-1">{childCard.teacherContact.name}</p>
-              <div className="space-y-1 text-sm opacity-90">
-                <div className="flex items-center gap-2">
-                  <Mail className="w-3 h-3" />
-                  <span>{childCard.teacherContact.email}</span>
+          {/* Parent Contact */}
+          {childCard.parentContact && (
+            <div className="flex items-center gap-4">
+              <motion.div
+                whileHover={{ scale: 1.1, rotate: 5 }}
+                className="w-20 h-20 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white"
+              >
+                <img
+                  src={childCard.parentContact.avatar || '/avatars/avatar1.png'}
+                  alt={childCard.parentContact.name}
+                  className="w-full h-full object-cover"
+                />
+              </motion.div>
+              <div>
+                <h2 className="text-3xl font-black mb-1">{childCard.parentContact.name}</h2>
+                <div className="flex items-center gap-4 text-sm font-semibold opacity-90">
+                  <div className="flex items-center gap-1">
+                    <Mail className="w-4 h-4" />
+                    <span>{childCard.parentContact.email}</span>
+                  </div>
                 </div>
-                {childCard.teacherContact.phone && (
-                  <div className="flex items-center gap-2">
-                    <Phone className="w-3 h-3" />
-                    <span>{childCard.teacherContact.phone}</span>
-            </div>
-          )}
               </div>
+              <motion.button
+                whileHover={{ scale: 1.05, y: -2 }}
+                whileTap={{ scale: 0.95 }}
+                onClick={() => {
+                  // Navigate to chat page - we need to get the studentId from context
+                  const studentId = childCard.studentId || window.location.pathname.split('/').pop();
+                  window.location.href = `/school-teacher/student/${studentId}/chat`;
+                }}
+                className="flex items-center justify-center w-12 h-12 bg-white/20 hover:bg-white/30 rounded-xl font-bold text-sm transition-all backdrop-blur-md border border-white/30"
+              >
+                <MessageSquare className="w-5 h-5" />
+              </motion.button>
             </div>
           )}
         </div>
diff --git a/frontend/src/pages/Parent/ParentOverview.jsx b/frontend/src/pages/Parent/ParentOverview.jsx
index a733e5a..77e95f1 100644
--- a/frontend/src/pages/Parent/ParentOverview.jsx
+++ b/frontend/src/pages/Parent/ParentOverview.jsx
@@ -311,16 +311,18 @@ const ParentOverview = () => {
                 </button>
               </div>
               <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
-                {children.map((child, idx) => (
-                  <motion.div
-                    key={child._id}
-                    initial={{ opacity: 0, scale: 0.9 }}
-                    animate={{ opacity: 1, scale: 1 }}
-                    transition={{ delay: idx * 0.1 }}
-                    whileHover={{ scale: 1.03, y: -5 }}
-                    onClick={() => navigate(`/parent/child/${child._id}/analytics`)}
-                    className="p-5 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 cursor-pointer hover:shadow-xl transition-all"
-                  >
+              {children.map((child, idx) => {
+                console.log('Child data:', { id: child._id, name: child.name, email: child.email });
+                return (
+                <motion.div
+                  key={child._id}
+                  initial={{ opacity: 0, scale: 0.9 }}
+                  animate={{ opacity: 1, scale: 1 }}
+                  transition={{ delay: idx * 0.1 }}
+                  whileHover={{ scale: 1.03, y: -5 }}
+                  onClick={() => navigate(`/parent/child/${child._id}/analytics`)}
+                  className="p-5 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 cursor-pointer hover:shadow-xl transition-all"
+                >
                     <div className="flex items-center gap-4 mb-4">
                       <img
                         src={child.avatar || "/avatars/avatar1.png"}
@@ -354,18 +356,31 @@ const ParentOverview = () => {
                         <p className="text-xs text-green-600">Coins</p>
                       </div>
                     </div>
-                    <button
-                      onClick={(e) => {
-                        e.stopPropagation();
-                        navigate(`/parent/child/${child._id}/analytics`);
-                      }}
-                      className="w-full mt-4 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2"
-                    >
-                      <Eye className="w-4 h-4" />
-                      View Progress
-                    </button>
+                    <div className="flex gap-2 mt-4">
+                      <button
+                        onClick={(e) => {
+                          e.stopPropagation();
+                          navigate(`/parent/child/${child._id}/analytics`);
+                        }}
+                        className="flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2"
+                      >
+                        <Eye className="w-4 h-4" />
+                        View Progress
+                      </button>
+                      <button
+                        onClick={(e) => {
+                          e.stopPropagation();
+                          navigate(`/parent/child/${child._id}/chat`);
+                        }}
+                        className="px-4 py-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2"
+                        title="Chat with teacher"
+                      >
+                        <MessageSquare className="w-4 h-4" />
+                      </button>
+                    </div>
                   </motion.div>
-                ))}
+                );
+              })}
               </div>
             </motion.div>
 
diff --git a/frontend/src/pages/School/SchoolAdminStudents.jsx b/frontend/src/pages/School/SchoolAdminStudents.jsx
index 31b793f..5141598 100644
--- a/frontend/src/pages/School/SchoolAdminStudents.jsx
+++ b/frontend/src/pages/School/SchoolAdminStudents.jsx
@@ -30,7 +30,7 @@ const SchoolAdminStudents = () => {
     newPassword: ''
   });
   const [newStudent, setNewStudent] = useState({
-    name: '', email: '', phone: '', gender: '', password: ''
+    name: '', email: '', phone: '', gender: '', password: '', dateOfBirth: ''
   });
 
   const fetchStudentsData = useCallback(async () => {
@@ -65,7 +65,7 @@ const SchoolAdminStudents = () => {
       await api.post('/api/school/admin/students/create', newStudent);
       toast.success('Student added successfully! Login credentials have been created.');
       setShowAddStudentModal(false);
-      setNewStudent({ name: '', email: '', phone: '', gender: '', password: '' });
+      setNewStudent({ name: '', email: '', phone: '', gender: '', password: '', dateOfBirth: '' });
       fetchStudentsData();
     } catch (error) {
       console.error('Error adding student:', error);
diff --git a/frontend/src/pages/School/SchoolAdminTeachers.jsx b/frontend/src/pages/School/SchoolAdminTeachers.jsx
index d797ea7..968cfbe 100644
--- a/frontend/src/pages/School/SchoolAdminTeachers.jsx
+++ b/frontend/src/pages/School/SchoolAdminTeachers.jsx
@@ -31,7 +31,9 @@ const SchoolAdminTeachers = () => {
     subject: '', 
     qualification: '',
     experience: '',
-    joiningDate: ''
+    joiningDate: '',
+    pronouns: '',
+    customPronouns: ''
   });
 
   const subjects = [
@@ -82,7 +84,9 @@ const SchoolAdminTeachers = () => {
         subject: '', 
         qualification: '',
         experience: '',
-        joiningDate: ''
+        joiningDate: '',
+        pronouns: '',
+        customPronouns: ''
       });
       fetchTeachersData();
     } catch (error) {
diff --git a/frontend/src/pages/School/SchoolParentDashboard.jsx b/frontend/src/pages/School/SchoolParentDashboard.jsx
index a5685e2..456ac58 100644
--- a/frontend/src/pages/School/SchoolParentDashboard.jsx
+++ b/frontend/src/pages/School/SchoolParentDashboard.jsx
@@ -188,17 +188,25 @@ const SchoolParentDashboard = () => {
             <h3 className="text-lg font-semibold text-gray-900 mb-4">Select Child</h3>
             <div className="flex space-x-4">
               {children.map((child) => (
-                <button
-                  key={child.id}
-                  onClick={() => handleChildChange(child)}
-                  className={`px-4 py-2 rounded-lg transition-colors ${
-                    selectedChild?.id === child.id
-                      ? 'bg-indigo-600 text-white'
-                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
-                  }`}
-                >
-                  {child.name} - {child.class}
-                </button>
+                <div key={child.id} className="flex items-center gap-2">
+                  <button
+                    onClick={() => handleChildChange(child)}
+                    className={`px-4 py-2 rounded-lg transition-colors ${
+                      selectedChild?.id === child.id
+                        ? 'bg-indigo-600 text-white'
+                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
+                    }`}
+                  >
+                    {child.name} - {child.class}
+                  </button>
+                  <button
+                    onClick={() => window.location.href = `/school-parent/student/${child.id}/chat`}
+                    className="p-2 bg-indigo-100 text-indigo-600 rounded-lg hover:bg-indigo-200 transition-colors"
+                    title="Chat with teacher"
+                  >
+                    <MessageCircle className="w-4 h-4" />
+                  </button>
+                </div>
               ))}
             </div>
           </div>
@@ -206,7 +214,18 @@ const SchoolParentDashboard = () => {
 
         {/* Stats Grid */}
         {selectedChild && (
-          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
+          <div className="mb-6">
+            <div className="flex justify-between items-center mb-4">
+              <h3 className="text-lg font-semibold text-gray-900">Child Performance</h3>
+              <button
+                onClick={() => window.location.href = `/school-parent/student/${selectedChild.id}/chat`}
+                className="flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"
+              >
+                <MessageCircle className="w-4 h-4" />
+                Chat with Teacher
+              </button>
+            </div>
+            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
             <StatCard
               title="Attendance"
               value={`${childStats.attendance || 0}%`}
@@ -237,6 +256,7 @@ const SchoolParentDashboard = () => {
               icon={<Trophy className="w-6 h-6" />}
               color="from-orange-500 to-red-500"
             />
+            </div>
           </div>
         )}
 
diff --git a/frontend/src/pages/School/SchoolStudentDashboard.jsx b/frontend/src/pages/School/SchoolStudentDashboard.jsx
index 7b79244..c38e9aa 100644
--- a/frontend/src/pages/School/SchoolStudentDashboard.jsx
+++ b/frontend/src/pages/School/SchoolStudentDashboard.jsx
@@ -20,6 +20,7 @@ import {
 } from 'chart.js';
 import api from '../../utils/api';
 import { toast } from 'react-hot-toast';
+import Navbar from '../../components/Navbar';
 
 ChartJS.register(
   CategoryScale,
@@ -150,6 +151,7 @@ const SchoolStudentDashboard = () => {
 
   return (
     <div className="min-h-screen bg-gray-50">
+      <Navbar />
       <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
         {/* Header */}
         <div className="mb-8">
diff --git a/frontend/src/pages/School/SchoolTeacherDashboard.jsx b/frontend/src/pages/School/SchoolTeacherDashboard.jsx
index 4f57809..cdf65dd 100644
--- a/frontend/src/pages/School/SchoolTeacherDashboard.jsx
+++ b/frontend/src/pages/School/SchoolTeacherDashboard.jsx
@@ -138,12 +138,12 @@ const SchoolTeacherDashboard = () => {
       ]);
 
       setStats(statsRes.data);
-      const classesData = classesRes.data || [];
+      const classesData = classesRes.data?.classes || [];
       setClasses(classesData);
       if (classesData.length > 0 && !selectedClass) {
         setSelectedClass(classesData[0]);
       }
-      setRecentAssignments(assignmentsRes.data);
+      setRecentAssignments(assignmentsRes.data?.data || []);
       setTimetable(timetableRes.data);
       setClassMastery(masteryRes.data);
       setStudentsAtRisk(atRiskRes.data.students || []);
diff --git a/frontend/src/pages/School/TeacherAnalytics.jsx b/frontend/src/pages/School/TeacherAnalytics.jsx
index 6685eba..dc1571f 100644
--- a/frontend/src/pages/School/TeacherAnalytics.jsx
+++ b/frontend/src/pages/School/TeacherAnalytics.jsx
@@ -73,7 +73,7 @@ const TeacherAnalytics = () => {
       setSessionEngagement(engagementRes.data || {});
       setLeaderboard(leaderboardRes.data.leaderboard || []);
       setTeacherProfile(profileRes.data);
-      setClasses(classesRes.data || []);
+      setClasses(classesRes.data?.classes || []);
     } catch (error) {
       console.error("Error fetching analytics:", error);
       toast.error("Failed to load analytics");
diff --git a/frontend/src/pages/School/TeacherOverview.jsx b/frontend/src/pages/School/TeacherOverview.jsx
index 1021985..718d2d1 100644
--- a/frontend/src/pages/School/TeacherOverview.jsx
+++ b/frontend/src/pages/School/TeacherOverview.jsx
@@ -79,7 +79,9 @@ const TeacherOverview = () => {
       ]);
 
       setStats(statsRes.data);
-      setClasses(classesRes.data || []);
+      const classesData = classesRes.data?.classes || [];
+      console.log('Classes data:', classesData);
+      setClasses(classesData);
       setStudentsAtRisk(atRiskRes.data.students || []);
       setLeaderboard(leaderboardRes.data.leaderboard || []);
       setPendingTasks(pendingRes.data.tasks || []);
@@ -219,7 +221,7 @@ const TeacherOverview = () => {
           />
           <StatCard
             title="Active Classes"
-            value={classes.length}
+            value={Array.isArray(classes) ? classes.length : 0}
             icon={BookOpen}
             color="from-green-500 to-emerald-600"
             subtitle="Teaching this semester"
@@ -266,7 +268,13 @@ const TeacherOverview = () => {
                 </button>
               </div>
               <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
-                {classes.slice(0, 4).map((cls, idx) => (
+                {(Array.isArray(classes) ? classes : []).slice(0, 4).map((cls, idx) => {
+                  // Ensure cls is an object and has the required properties
+                  if (!cls || typeof cls !== 'object') {
+                    console.warn('Invalid class object:', cls);
+                    return null;
+                  }
+                  return (
                   <motion.div
                     key={idx}
                     initial={{ opacity: 0, x: -20 }}
@@ -277,27 +285,28 @@ const TeacherOverview = () => {
                     className="p-5 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 cursor-pointer hover:shadow-lg transition-all"
                   >
                     <div className="flex items-center justify-between mb-3">
-                      <h3 className="text-lg font-bold text-gray-900">{cls.name}</h3>
+                      <h3 className="text-lg font-bold text-gray-900">{cls.name || 'Unnamed Class'}</h3>
                       <div className="p-2 bg-purple-500 rounded-lg">
                         <Users className="w-5 h-5 text-white" />
                       </div>
                     </div>
                     <div className="grid grid-cols-3 gap-2">
                       <div className="text-center">
-                        <p className="text-2xl font-black text-blue-600">{cls.students || 0}</p>
-                        <p className="text-xs text-gray-600">Students</p>
+                        <p className="text-2xl font-black text-blue-600">{Array.isArray(cls.sections) ? cls.sections.length : 0}</p>
+                        <p className="text-xs text-gray-600">Sections</p>
                       </div>
                       <div className="text-center">
-                        <p className="text-2xl font-black text-green-600">{cls.sections || 0}</p>
-                        <p className="text-xs text-gray-600">Sections</p>
+                        <p className="text-2xl font-black text-green-600">{Array.isArray(cls.subjects) ? cls.subjects.length : 0}</p>
+                        <p className="text-xs text-gray-600">Subjects</p>
                       </div>
                       <div className="text-center">
-                        <p className="text-2xl font-black text-purple-600">{cls.avg || 85}%</p>
-                        <p className="text-xs text-gray-600">Avg</p>
+                        <p className="text-2xl font-black text-purple-600">{cls.academicYear || '2024'}</p>
+                        <p className="text-xs text-gray-600">Year</p>
                       </div>
                     </div>
                   </motion.div>
-                ))}
+                  );
+                })}
               </div>
             </motion.div>
 
diff --git a/frontend/src/pages/School/TeacherStudents.jsx b/frontend/src/pages/School/TeacherStudents.jsx
index 94517cb..0c5e201 100644
--- a/frontend/src/pages/School/TeacherStudents.jsx
+++ b/frontend/src/pages/School/TeacherStudents.jsx
@@ -67,7 +67,7 @@ const TeacherStudents = () => {
     try {
       setLoading(true);
       const response = await api.get("/api/school/teacher/classes");
-      const classesData = response.data || [];
+      const classesData = response.data?.classes || [];
       setClasses(classesData);
       if (classesData.length > 0 && !selectedClass) {
         setSelectedClass(classesData[0]);
@@ -573,6 +573,13 @@ const TeacherStudents = () => {
         onClose={() => setShowInviteStudents(false)}
         classId={selectedClass?._id || selectedClass?.name}
         className={selectedClass?.name}
+        onSuccess={() => {
+          if (zoomLevel === "class" && selectedClass) {
+            fetchClassStudents(selectedClass._id || selectedClass.name);
+          } else {
+            fetchAllStudents();
+          }
+        }}
       />
 
       {/* Assign to Group Modal */}
diff --git a/frontend/src/pages/School/TeacherTasks.jsx b/frontend/src/pages/School/TeacherTasks.jsx
index 1bfcec4..794c1ee 100644
--- a/frontend/src/pages/School/TeacherTasks.jsx
+++ b/frontend/src/pages/School/TeacherTasks.jsx
@@ -21,10 +21,14 @@ import {
   BookOpen,
   FileText,
   TrendingUp,
+  MoreVertical,
+  X,
+  BarChart,
 } from "lucide-react";
 import api from "../../utils/api";
 import { toast } from "react-hot-toast";
 import NewAssignmentModal from "../../components/NewAssignmentModal";
+import DeleteAssignmentModal from "../../components/DeleteAssignmentModal";
 
 const TeacherTasks = () => {
   const navigate = useNavigate();
@@ -36,6 +40,12 @@ const TeacherTasks = () => {
   const [teacherProfile, setTeacherProfile] = useState(null);
   const [showNewAssignment, setShowNewAssignment] = useState(false);
   const [selectedAssignment, setSelectedAssignment] = useState(null);
+  const [showViewModal, setShowViewModal] = useState(false);
+  const [showEditModal, setShowEditModal] = useState(false);
+  const [assignmentToView, setAssignmentToView] = useState(null);
+  const [assignmentToEdit, setAssignmentToEdit] = useState(null);
+  const [showDeleteModal, setShowDeleteModal] = useState(false);
+  const [assignmentToDelete, setAssignmentToDelete] = useState(null);
 
   useEffect(() => {
     fetchData();
@@ -48,7 +58,7 @@ const TeacherTasks = () => {
         api.get("/api/user/profile"),
       ]);
 
-      setAssignments(assignmentsRes.data || []);
+      setAssignments(assignmentsRes.data?.data || []);
       setTeacherProfile(profileRes.data);
     } catch (error) {
       console.error("Error fetching data:", error);
@@ -58,20 +68,52 @@ const TeacherTasks = () => {
     }
   };
 
-  const handleDeleteAssignment = async (assignmentId) => {
-    if (!window.confirm("Are you sure you want to delete this assignment?")) return;
+  const handleDeleteAssignment = (assignment) => {
+    setAssignmentToDelete(assignment);
+    setShowDeleteModal(true);
+  };
+
+  const handleDeleteForMe = async () => {
+    if (!assignmentToDelete) return;
+
+    try {
+      const response = await api.delete(`/api/school/teacher/assignments/${assignmentToDelete._id}/for-me`);
+      toast.success(response.data.message);
+      setShowDeleteModal(false);
+      setAssignmentToDelete(null);
+      fetchData();
+    } catch (error) {
+      console.error("Error deleting assignment for me:", error);
+      toast.error("Failed to delete assignment");
+    }
+  };
+
+  const handleDeleteForEveryone = async () => {
+    if (!assignmentToDelete) return;
 
     try {
-      await api.delete(`/api/school/teacher/assignments/${assignmentId}`);
-      toast.success("Assignment deleted successfully");
+      const response = await api.delete(`/api/school/teacher/assignments/${assignmentToDelete._id}/for-everyone`);
+      toast.success(response.data.message);
+      setShowDeleteModal(false);
+      setAssignmentToDelete(null);
       fetchData();
     } catch (error) {
-      console.error("Error deleting assignment:", error);
+      console.error("Error deleting assignment for everyone:", error);
       toast.error("Failed to delete assignment");
     }
   };
 
-  const filteredAssignments = assignments.filter(assignment => {
+  const handleViewAssignment = (assignment) => {
+    setAssignmentToView(assignment);
+    setShowViewModal(true);
+  };
+
+  const handleEditAssignment = (assignment) => {
+    setAssignmentToEdit(assignment);
+    setShowEditModal(true);
+  };
+
+  const filteredAssignments = (Array.isArray(assignments) ? assignments : []).filter(assignment => {
     const matchesSearch = assignment.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                           assignment.subject?.toLowerCase().includes(searchTerm.toLowerCase());
     const matchesStatus = filterStatus === "all" || assignment.status === filterStatus;
@@ -79,11 +121,12 @@ const TeacherTasks = () => {
     return matchesSearch && matchesStatus && matchesPriority;
   });
 
+  const assignmentsArray = Array.isArray(assignments) ? assignments : [];
   const stats = {
-    total: assignments.length,
-    pending: assignments.filter(a => a.status === "pending").length,
-    inProgress: assignments.filter(a => a.status === "in_progress" || a.status === "published").length,
-    completed: assignments.filter(a => a.status === "completed" || a.status === "approved").length,
+    total: assignmentsArray.length,
+    pending: assignmentsArray.filter(a => a.status === "pending").length,
+    inProgress: assignmentsArray.filter(a => a.status === "in_progress" || a.status === "published").length,
+    completed: assignmentsArray.filter(a => a.status === "completed" || a.status === "approved").length,
   };
 
   if (loading) {
@@ -116,15 +159,26 @@ const TeacherTasks = () => {
                 {teacherProfile?.name}'s assignment management dashboard
               </p>
             </div>
-            <motion.button
-              whileHover={{ scale: 1.05 }}
-              whileTap={{ scale: 0.95 }}
-              onClick={() => setShowNewAssignment(true)}
-              className="px-6 py-3 bg-white text-purple-600 rounded-xl font-bold hover:shadow-lg transition-all flex items-center gap-2"
-            >
-              <Plus className="w-5 h-5" />
-              New Assignment
-            </motion.button>
+            <div className="flex gap-3">
+              <motion.button
+                whileHover={{ scale: 1.05 }}
+                whileTap={{ scale: 0.95 }}
+                onClick={() => navigate('/school-teacher/tracking')}
+                className="px-6 py-3 bg-white/20 text-white rounded-xl font-bold hover:bg-white/30 transition-all flex items-center gap-2"
+              >
+                <BarChart className="w-5 h-5" />
+                Track Progress
+              </motion.button>
+              <motion.button
+                whileHover={{ scale: 1.05 }}
+                whileTap={{ scale: 0.95 }}
+                onClick={() => setShowNewAssignment(true)}
+                className="px-6 py-3 bg-white text-purple-600 rounded-xl font-bold hover:shadow-lg transition-all flex items-center gap-2"
+              >
+                <Plus className="w-5 h-5" />
+                New Assignment
+              </motion.button>
+            </div>
           </motion.div>
         </div>
       </div>
@@ -360,6 +414,10 @@ const TeacherTasks = () => {
                   <motion.button
                     whileHover={{ scale: 1.05 }}
                     whileTap={{ scale: 0.95 }}
+                    onClick={(e) => {
+                      e.stopPropagation();
+                      handleViewAssignment(assignment);
+                    }}
                     className="flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition-all flex items-center justify-center gap-2"
                   >
                     <Eye className="w-4 h-4" />
@@ -368,6 +426,10 @@ const TeacherTasks = () => {
                   <motion.button
                     whileHover={{ scale: 1.05 }}
                     whileTap={{ scale: 0.95 }}
+                    onClick={(e) => {
+                      e.stopPropagation();
+                      handleEditAssignment(assignment);
+                    }}
                     className="flex-1 px-4 py-2 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition-all flex items-center justify-center gap-2"
                   >
                     <Edit className="w-4 h-4" />
@@ -378,7 +440,7 @@ const TeacherTasks = () => {
                     whileTap={{ scale: 0.95 }}
                     onClick={(e) => {
                       e.stopPropagation();
-                      handleDeleteAssignment(assignment._id);
+                      handleDeleteAssignment(assignment);
                     }}
                     className="px-4 py-2 bg-red-100 text-red-600 rounded-lg font-semibold hover:bg-red-200 transition-all flex items-center justify-center gap-2"
                   >
@@ -399,6 +461,105 @@ const TeacherTasks = () => {
         onClose={() => setShowNewAssignment(false)}
         onSuccess={fetchData}
       />
+
+      {/* View Assignment Modal */}
+      {showViewModal && assignmentToView && (
+        <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
+          <div className="absolute inset-0 bg-black/50 backdrop-blur-sm" onClick={() => setShowViewModal(false)} />
+          <div className="relative w-full max-w-2xl bg-white rounded-2xl shadow-2xl overflow-hidden">
+            <div className="bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4">
+              <div className="flex items-center justify-between">
+                <h2 className="text-2xl font-bold text-white">Assignment Details</h2>
+                <button
+                  onClick={() => setShowViewModal(false)}
+                  className="p-2 hover:bg-white/20 rounded-lg transition-all"
+                >
+                  <X className="w-6 h-6 text-white" />
+                </button>
+              </div>
+            </div>
+            <div className="p-6 max-h-[70vh] overflow-y-auto">
+              <div className="space-y-4">
+                <div>
+                  <h3 className="text-lg font-bold text-gray-900 mb-2">Title</h3>
+                  <p className="text-gray-700">{assignmentToView.title}</p>
+                </div>
+                <div>
+                  <h3 className="text-lg font-bold text-gray-900 mb-2">Description</h3>
+                  <p className="text-gray-700 whitespace-pre-wrap">{assignmentToView.description}</p>
+                </div>
+                <div className="grid grid-cols-2 gap-4">
+                  <div>
+                    <h3 className="text-lg font-bold text-gray-900 mb-2">Subject</h3>
+                    <p className="text-gray-700">{assignmentToView.subject}</p>
+                  </div>
+                  <div>
+                    <h3 className="text-lg font-bold text-gray-900 mb-2">Type</h3>
+                    <p className="text-gray-700 capitalize">{assignmentToView.type}</p>
+                  </div>
+                  <div>
+                    <h3 className="text-lg font-bold text-gray-900 mb-2">Due Date</h3>
+                    <p className="text-gray-700">{new Date(assignmentToView.dueDate).toLocaleDateString()}</p>
+                  </div>
+                  <div>
+                    <h3 className="text-lg font-bold text-gray-900 mb-2">Priority</h3>
+                    <p className="text-gray-700 capitalize">{assignmentToView.priority}</p>
+                  </div>
+                  <div>
+                    <h3 className="text-lg font-bold text-gray-900 mb-2">Status</h3>
+                    <p className="text-gray-700 capitalize">{assignmentToView.status?.replace(/_/g, " ")}</p>
+                  </div>
+                  <div>
+                    <h3 className="text-lg font-bold text-gray-900 mb-2">Total Points</h3>
+                    <p className="text-gray-700">{assignmentToView.totalMarks}</p>
+                  </div>
+                </div>
+                {assignmentToView.questions && assignmentToView.questions.length > 0 && (
+                  <div>
+                    <h3 className="text-lg font-bold text-gray-900 mb-2">Questions ({assignmentToView.questions.length})</h3>
+                    <div className="space-y-2">
+                      {assignmentToView.questions.map((question, index) => (
+                        <div key={index} className="bg-gray-50 p-3 rounded-lg">
+                          <p className="font-medium text-gray-900">
+                            {index + 1}. {question.question || `${question.type.replace(/_/g, ' ')} Task`}
+                          </p>
+                          <p className="text-sm text-gray-600">Points: {question.points}</p>
+                        </div>
+                      ))}
+                    </div>
+                  </div>
+                )}
+              </div>
+            </div>
+          </div>
+        </div>
+      )}
+
+      {/* Edit Assignment Modal */}
+      {showEditModal && assignmentToEdit && (
+        <NewAssignmentModal
+          isOpen={showEditModal}
+          onClose={() => setShowEditModal(false)}
+          onSuccess={() => {
+            setShowEditModal(false);
+            fetchData();
+          }}
+          editMode={true}
+          assignmentToEdit={assignmentToEdit}
+        />
+      )}
+
+      {/* Delete Assignment Modal */}
+      <DeleteAssignmentModal
+        isOpen={showDeleteModal}
+        onClose={() => {
+          setShowDeleteModal(false);
+          setAssignmentToDelete(null);
+        }}
+        onDeleteForMe={handleDeleteForMe}
+        onDeleteForEveryone={handleDeleteForEveryone}
+        assignment={assignmentToDelete}
+      />
     </div>
   );
 };
diff --git a/frontend/src/pages/Student/Challenge.jsx b/frontend/src/pages/Student/Challenge.jsx
deleted file mode 100644
index c3cbe37..0000000
--- a/frontend/src/pages/Student/Challenge.jsx
+++ /dev/null
@@ -1,495 +0,0 @@
-import React, { useState, useEffect } from "react";
-import { useNavigate } from "react-router-dom";
-import { motion } from "framer-motion";
-import { 
-    Trophy, 
-    Award, 
-    CheckCircle, 
-    Clock, 
-    Zap, 
-    Target, 
-    ChevronRight, 
-    Calendar,
-    TrendingUp,
-    Flame,
-    Star,
-    Coins,
-    Timer,
-    Sparkles,
-    Play
-} from "lucide-react";
-import { useAuth } from "../../hooks/useAuth";
-import { useSocket } from "../../context/SocketContext";
-import api from "../../utils/api";
-
-const containerVariants = {
-    hidden: { opacity: 0 },
-    visible: {
-        opacity: 1,
-        transition: {
-            staggerChildren: 0.1,
-            delayChildren: 0.2,
-        },
-    },
-};
-
-const itemVariants = {
-    hidden: { y: 30, opacity: 0 },
-    visible: {
-        y: 0,
-        opacity: 1,
-        transition: {
-            type: "spring",
-            stiffness: 100,
-            damping: 15,
-        },
-    },
-};
-
-const Challenge = () => {
-    const navigate = useNavigate();
-    const { user } = useAuth();
-    const socket = useSocket();
-    const [loading, setLoading] = useState(true);
-    const [challenges, setChallenges] = useState([]);
-    const [progress, setProgress] = useState(null);
-    const [selectedCategory, setSelectedCategory] = useState("all");
-    const [hoveredChallenge, setHoveredChallenge] = useState(null);
-    
-    // Map icon names to components
-    const iconMap = {
-        "Target": <Target className="w-8 h-8" />,
-        "Coins": <Coins className="w-8 h-8" />,
-        "TrendingUp": <TrendingUp className="w-8 h-8" />,
-        "Zap": <Zap className="w-8 h-8" />,
-        "Calendar": <Calendar className="w-8 h-8" />,
-        "Flame": <Flame className="w-8 h-8" />,
-        "Star": <Star className="w-8 h-8" />,
-        "Trophy": <Trophy className="w-8 h-8" />,
-        "Award": <Award className="w-8 h-8" />,
-        "CheckCircle": <CheckCircle className="w-8 h-8" />,
-        "Clock": <Clock className="w-8 h-8" />,
-        "Timer": <Timer className="w-8 h-8" />,
-        "Sparkles": <Sparkles className="w-8 h-8" />,
-        "Play": <Play className="w-8 h-8" />
-    };
-    
-    // State for user's challenge progress
-    const [userProgress, setUserProgress] = useState({});
-    const [completedToday, setCompletedToday] = useState(0);
-    const [dayStreak, setDayStreak] = useState(0);
-    
-    // Generate categories dynamically from challenges
-    const [categories, setCategories] = useState(["all"]);
-    
-    // Update categories when challenges change
-    useEffect(() => {
-        if (challenges.length > 0) {
-            const uniqueCategories = [...new Set(challenges.map(challenge => challenge.category))];
-            setCategories(["all", ...uniqueCategories]);
-        }
-    }, [challenges]);
-    
-    // Difficulty colors
-    const difficultyColors = {
-        "Easy": "from-green-400 to-emerald-400",
-        "Medium": "from-yellow-400 to-orange-400",
-        "Hard": "from-red-400 to-pink-400"
-    };
-    
-    useEffect(() => {
-        // Fetch challenges from API
-        const fetchChallenges = async () => {
-            try {
-                setLoading(true);
-                const response = await api.get('/api/challenges/active');
-                const data = response.data;
-                
-                // Process the challenges to add the icon component
-                const processedChallenges = data.map(challenge => ({
-                    ...challenge,
-                    icon: iconMap[challenge.iconName] || <Target className="w-8 h-8" />,
-                    gradient: challenge.gradientColors || 'from-indigo-400 to-purple-400'
-                }));
-                
-                setChallenges(processedChallenges);
-                setLoading(false);
-            } catch (error) {
-                console.error('Error fetching challenges:', error);
-                setChallenges([]);
-                setLoading(false);
-            }
-        };
-        
-        fetchChallenges();
-    }, []);
-    
-    useEffect(() => {
-        // Fetch user's challenge progress
-        const fetchUserProgress = async () => {
-            if (!user) return;
-            
-            try {
-                const response = await api.get('/api/challenges/progress');
-                const data = response.data;
-                setUserProgress(data.progress || {});
-                setCompletedToday(data.completedToday || 0);
-                setDayStreak(data.streak || 0);
-            } catch (error) {
-                console.error('Error fetching user progress:', error);
-            }
-        };
-        
-        fetchUserProgress();
-        
-        // Connect to socket for real-time updates
-        if (socket && socket.socket && user) {
-            try {
-                socket.socket.emit('student:challenges:subscribe', { studentId: user._id });
-            } catch (err) {
-                console.error("âŒ Error subscribing to challenges:", err.message);
-            }
-            
-            try {
-                socket.socket.on('student:challenges:progress', data => {
-                    setUserProgress(prev => ({ ...prev, ...data.progress }));
-                    if (data.completedToday !== undefined) setCompletedToday(data.completedToday);
-                    if (data.streak !== undefined) setDayStreak(data.streak);
-                });
-            } catch (err) {
-                console.error("âŒ Error setting up challenge progress listener:", err.message);
-            }
-            
-            return () => {
-                try {
-                    if (socket && socket.socket) {
-                        socket.socket.off('student:challenges:progress');
-                    }
-                } catch (err) {
-                    console.error("âŒ Error removing challenge progress listener:", err.message);
-                }
-            };
-        }
-    }, [socket, user]);
-    
-    const filteredChallenges = selectedCategory === "all" 
-        ? challenges 
-        : challenges.filter(challenge => challenge.category === selectedCategory);
-    
-    const handleChallengeStart = async (challengeId) => {
-        try {
-            // Check if challenge is already started
-            if (userProgress && userProgress[challengeId]) {
-                console.log(`Challenge ${challengeId} already started`);
-                return;
-            }
-            
-            const response = await api.post(`/api/challenges/start/${challengeId}`);
-            const data = response.data;
-            
-            // Update local state with the new progress
-            setUserProgress(prev => ({
-                ...prev,
-                [challengeId]: data.progress
-            }));
-            
-            // Show a success message
-            console.log(`Started challenge ${challengeId} successfully`);
-        } catch (error) {
-            if (error.response && error.response.status === 400 && 
-                error.response.data.error === 'Challenge already started') {
-                // If challenge is already started, update our local state
-                console.log(`Challenge ${challengeId} was already started`);
-                
-                // Fetch updated progress
-                try {
-                    const progressResponse = await api.get('/api/challenges/progress');
-                    setUserProgress(progressResponse.data.progress || {});
-                } catch (progressError) {
-                    console.error('Error fetching updated progress:', progressError);
-                }
-            } else {
-                console.error('Error starting challenge:', error);
-            }
-        }
-    };
-    
-    const calculateProgress = (challengeId, totalSteps) => {
-        // If we have progress for this challenge, use it
-        if (userProgress && userProgress[challengeId]) {
-            const { currentStep, completedSteps } = userProgress[challengeId];
-            const stepsCompleted = currentStep + completedSteps.length;
-            return Math.round((stepsCompleted / totalSteps) * 100);
-        }
-        // Otherwise return 0 (not started)
-        return 0;
-    };
-
-    return (
-        <div className="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative overflow-hidden">
-            {/* Animated Background Elements */}
-            <div className="fixed inset-0 pointer-events-none">
-                <div className="absolute top-20 left-10 w-64 h-64 bg-gradient-to-r from-blue-200 to-purple-200 rounded-full opacity-20 blur-3xl animate-pulse" />
-                <div className="absolute top-1/3 right-20 w-80 h-80 bg-gradient-to-r from-pink-200 to-rose-200 rounded-full opacity-15 blur-3xl animate-pulse delay-1000" />
-                <div className="absolute bottom-20 left-1/4 w-72 h-72 bg-gradient-to-r from-green-200 to-emerald-200 rounded-full opacity-20 blur-3xl animate-pulse delay-2000" />
-            </div>
-
-            <div className="relative z-10 max-w-7xl mx-auto p-6 lg:p-8">
-                {/* Header Section */}
-                <motion.div
-                    initial={{ opacity: 0, y: -30 }}
-                    animate={{ opacity: 1, y: 0 }}
-                    transition={{ duration: 0.8 }}
-                    className="text-center mb-8"
-                >
-                    <motion.div
-                        className="relative inline-block"
-                        animate={{ scale: [1, 1.05, 1] }}
-                        transition={{ duration: 2, repeat: Infinity, ease: "easeInOut" }}
-                    >
-                        <h1 className="text-4xl sm:text-5xl lg:text-6xl font-black mb-3 flex items-center justify-center gap-2 text-center">
-                            <span className="text-black dark:text-white">ðŸ†</span>
-                            <span className="bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent drop-shadow-sm">
-                                Daily Challenges
-                            </span>
-                        </h1>
-
-                        <div className="absolute -top-2 -right-2 text-yellow-400 animate-bounce">
-                            <Sparkles className="w-6 h-6" />
-                        </div>
-                        <div className="absolute -bottom-2 -left-2 text-pink-400 animate-bounce delay-300">
-                            <Trophy className="w-5 h-5" />
-                        </div>
-                    </motion.div>
-                    <motion.p 
-                        className="text-gray-600 text-lg sm:text-xl font-medium tracking-wide mb-6"
-                        initial={{ opacity: 0 }}
-                        animate={{ opacity: 1 }}
-                        transition={{ delay: 0.5 }}
-                    >
-                        Complete challenges to earn <span className="font-bold text-yellow-500 bg-yellow-100 px-2 py-1 rounded-full">XP</span> and <span className="font-bold text-blue-500 bg-blue-100 px-2 py-1 rounded-full">HealCoins</span>! âœ¨
-                    </motion.p>
-                </motion.div>
-
-                {/* Stats Bar */}
-                <motion.div
-                    initial={{ opacity: 0, scale: 0.95 }}
-                    animate={{ opacity: 1, scale: 1 }}
-                    transition={{ duration: 0.6 }}
-                    className="bg-white/95 backdrop-blur-xl rounded-3xl p-6 shadow-2xl border border-white/50 mb-8 relative overflow-hidden"
-                >
-                    <div className="absolute inset-0 bg-gradient-to-r from-blue-500/8 via-purple-500/8 to-pink-500/8" />
-                    <div className="relative z-10 grid grid-cols-1 md:grid-cols-3 gap-6">
-                        <div className="text-center">
-                            <div className="w-16 h-16 mx-auto mb-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center text-white shadow-lg">
-                                <Trophy className="w-8 h-8" />
-                            </div>
-                            <div className="text-2xl font-bold text-gray-800">{challenges.length}</div>
-                            <div className="text-sm text-gray-600">Active Challenges</div>
-                        </div>
-                        <div className="text-center">
-                            <div className="w-16 h-16 mx-auto mb-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center text-white shadow-lg">
-                                <CheckCircle className="w-8 h-8" />
-                            </div>
-                            <div className="text-2xl font-bold text-gray-800">{completedToday}</div>
-                            <div className="text-sm text-gray-600">Completed Today</div>
-                        </div>
-                        <div className="text-center">
-                            <div className="w-16 h-16 mx-auto mb-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center text-white shadow-lg">
-                                <Flame className="w-8 h-8" />
-                            </div>
-                            <div className="text-2xl font-bold text-gray-800">{dayStreak}</div>
-                            <div className="text-sm text-gray-600">Day Streak</div>
-                        </div>
-                    </div>
-                </motion.div>
-
-                {/* Category Filter */}
-                <motion.div
-                    initial={{ opacity: 0, y: 20 }}
-                    animate={{ opacity: 1, y: 0 }}
-                    transition={{ delay: 0.3 }}
-                    className="mb-8"
-                >
-                    <div className="flex flex-wrap gap-2 justify-center">
-                        {categories.map((category) => (
-                            <motion.button
-                                key={category}
-                                onClick={() => setSelectedCategory(category)}
-                                whileHover={{ scale: 1.05 }}
-                                whileTap={{ scale: 0.95 }}
-                                className={`px-6 py-3 rounded-full font-semibold transition-all ${
-                                    selectedCategory === category
-                                        ? 'bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg'
-                                        : 'bg-white/80 text-gray-700 hover:bg-white shadow-md'
-                                }`}
-                            >
-                                {category.charAt(0).toUpperCase() + category.slice(1)}
-                            </motion.button>
-                        ))}
-                    </div>
-                </motion.div>
-
-                {/* Challenges Grid */}
-                {loading ? (
-                    <div className="flex justify-center items-center py-20">
-                        <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"></div>
-                    </div>
-                ) : (
-                    <motion.div
-                        variants={containerVariants}
-                        initial="hidden"
-                        animate="visible"
-                        className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"
-                    >
-                        {filteredChallenges.map((challenge, i) => (
-                            <motion.div
-                                key={challenge._id}
-                                variants={itemVariants}
-                                whileHover={{ 
-                                    scale: 1.05, 
-                                    y: -8,
-                                    transition: { duration: 0.2 }
-                                }}
-                                whileTap={{ scale: 0.95 }}
-                                className="group cursor-pointer relative"
-                                onClick={() => handleChallengeStart(challenge._id)}
-                                onMouseEnter={() => setHoveredChallenge(i)}
-                                onMouseLeave={() => setHoveredChallenge(null)}
-                            >
-                                <div className="bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-white/40 hover:shadow-2xl transition-all duration-300 relative overflow-hidden h-full">
-                                    <div className={`absolute inset-0 bg-gradient-to-r ${challenge.gradient} opacity-0 group-hover:opacity-10 transition-opacity duration-300`} />
-                                    
-                                    {/* Difficulty Badge */}
-                                    <div className={`absolute top-4 right-4 bg-gradient-to-r ${difficultyColors[challenge.difficulty]} text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg`}>
-                                        {challenge.difficulty}
-                                    </div>
-
-                                    <div className="relative z-10">
-                                        {/* Challenge Icon */}
-                                        <motion.div
-                                            className={`w-16 h-16 rounded-2xl bg-gradient-to-r ${challenge.gradient} flex items-center justify-center text-white mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300`}
-                                            whileHover={{ rotate: 360 }}
-                                            transition={{ duration: 0.6 }}
-                                        >
-                                            {challenge.icon}
-                                        </motion.div>
-
-                                        {/* Challenge Info */}
-                                        <div className="mb-4">
-                                            <h3 className="text-xl font-bold text-gray-800 mb-2 group-hover:text-indigo-600 transition-colors">
-                                                {challenge.title}
-                                            </h3>
-                                            <p className="text-sm text-gray-600 mb-3 leading-relaxed">
-                                                {challenge.description}
-                                            </p>
-                                            <div className="flex items-center gap-2 mb-2">
-                                                <div className="bg-indigo-100 text-indigo-600 px-3 py-1 rounded-full text-xs font-semibold">
-                                                    {challenge.category}
-                                                </div>
-                                                <div className="flex items-center gap-1 text-xs text-gray-500">
-                                                    <Timer className="w-3 h-3" />
-                                                    {challenge.estimatedTime}
-                                                </div>
-                                            </div>
-                                        </div>
-
-                                        {/* Progress Bar */}
-                                        <div className="mb-4">
-                                            <div className="flex justify-between text-xs text-gray-600 mb-1">
-                                                <span>Progress</span>
-                                                <span>
-                                                    {userProgress && userProgress[challenge._id] ? 
-                                                        `${userProgress[challenge._id].currentStep + 
-                                                          (userProgress[challenge._id].completedSteps?.length || 0)}` : 
-                                                        '0'}
-                                                    /{challenge.completionSteps} steps
-                                                </span>
-                                            </div>
-                                            <div className="w-full bg-gray-200 rounded-full h-2">
-                                                <div 
-                                                    className={`h-2 rounded-full bg-gradient-to-r ${challenge.gradient}`}
-                                                    style={{ width: `${calculateProgress(challenge._id, challenge.completionSteps)}%` }}
-                                                ></div>
-                                            </div>
-                                        </div>
-
-                                        {/* Benefits (shown on hover) */}
-                                        <motion.div
-                                            initial={{ opacity: 0, height: 0 }}
-                                            animate={{ 
-                                                opacity: hoveredChallenge === i ? 1 : 0,
-                                                height: hoveredChallenge === i ? "auto" : 0
-                                            }}
-                                            className="mb-4 overflow-hidden"
-                                        >
-                                            <div className="bg-gradient-to-r from-indigo-50 to-purple-50 p-3 rounded-xl">
-                                                <div className="text-xs font-semibold text-indigo-600 mb-1">Benefits:</div>
-                                                <div className="space-y-1">
-                                                    {challenge.benefits.map((benefit, idx) => (
-                                                        <div key={idx} className="flex items-center gap-1 text-xs text-gray-600">
-                                                            <Star className="w-3 h-3 text-yellow-400 fill-current" />
-                                                            {benefit}
-                                                        </div>
-                                                    ))}
-                                                </div>
-                                            </div>
-                                        </motion.div>
-
-                                        {/* Footer */}
-                                        <div className="flex items-center justify-between">
-                                            <div className="flex items-center gap-2">
-                                                <div className="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1">
-                                                    <Zap className="w-4 h-4" />
-                                                    +{challenge.xpReward} XP
-                                                </div>
-                                                <div className="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1">
-                                                    <Coins className="w-4 h-4" />
-                                                    +{challenge.coinReward}
-                                                </div>
-                                            </div>
-                                            <motion.div 
-                                                className="flex items-center gap-1 text-indigo-600 font-semibold text-sm"
-                                                whileHover={{ x: 5 }}
-                                            >
-                                                <Play className="w-4 h-4" />
-                                                {userProgress && userProgress[challenge._id] ? 'Continue' : 'Start'}
-                                                <ChevronRight className="w-4 h-4" />
-                                            </motion.div>
-                                        </div>
-                                    </div>
-                                </div>
-                            </motion.div>
-                        ))}
-                    </motion.div>
-                )}
-
-                {/* Motivational Footer */}
-                <motion.div
-                    initial={{ opacity: 0, y: 20 }}
-                    animate={{ opacity: 1, y: 0 }}
-                    transition={{ delay: 1 }}
-                    className="text-center"
-                >
-                    <div className="inline-flex items-center gap-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-8 py-4 rounded-full shadow-xl font-semibold text-lg">
-                        <motion.div
-                            animate={{ rotate: [0, 360] }}
-                            transition={{ duration: 2, repeat: Infinity, ease: "linear" }}
-                        >
-                            <Sparkles className="w-6 h-6" />
-                        </motion.div>
-                        <span>Challenge yourself daily to build better financial habits! ðŸ’ª</span>
-                        <motion.div
-                            animate={{ rotate: [0, 360] }}
-                            transition={{ duration: 2, repeat: Infinity, ease: "linear", delay: 1 }}
-                        >
-                            <Award className="w-6 h-6" />
-                        </motion.div>
-                    </div>
-                </motion.div>
-            </div>
-        </div>
-    );
-};
-
-export default Challenge;
\ No newline at end of file
diff --git a/frontend/src/pages/Student/DailyChallenges.jsx b/frontend/src/pages/Student/DailyChallenges.jsx
deleted file mode 100644
index 2db4950..0000000
--- a/frontend/src/pages/Student/DailyChallenges.jsx
+++ /dev/null
@@ -1,296 +0,0 @@
-import React, { useState, useEffect } from 'react';
-// eslint-disable-next-line no-unused-vars
-import { motion } from 'framer-motion';
-import { FiCalendar, FiClock, FiAward, FiCheckCircle, FiTrendingUp } from 'react-icons/fi';
-import { toast } from 'react-hot-toast';
-import { useWallet } from '../../context/WalletContext';
-import LoadingSpinner from '../../components/LoadingSpinner';
-import api from '../../utils/api';
-
-const DailyChallenges = () => {
-  const [dailyChallenges, setDailyChallenges] = useState([]);
-  const [weekly, setWeekly] = useState(null);
-  const [loading, setLoading] = useState(true);
-  const [error, setError] = useState(null);
-  //
-  const { refreshWallet } = useWallet();
-
-  useEffect(() => {
-    fetchChallenges();
-  }, []);
-
-  const fetchChallenges = async () => {
-    try {
-      setLoading(true);
-      // Fetch 10 daily challenges
-      const dailyRes = await api.get('/api/daily-challenges');
-      setDailyChallenges(dailyRes.data.challenges);
-      // Fetch weekly challenge as before
-      const weeklyRes = await api.get('/api/daily-challenges/active');
-      setWeekly(weeklyRes.data.weekly);
-      setError(null);
-    } catch (err) {
-      console.error('Error fetching challenges:', err);
-      setError('Failed to load challenges. Please try again.');
-      toast.error('Failed to load challenges');
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  const updateProgress = async (challengeId, step = 1) => {
-    try {
-      console.log(`ðŸŽ¯ Updating challenge progress: ${challengeId}, step: ${step}`);
-      const response = await api.post(`/api/daily-challenges/progress/${challengeId}`, { step });
-      
-      console.log('âœ… Progress update response:', response.data);
-      
-      // Update the specific challenge's progress
-      setDailyChallenges(prev => prev.map(dc =>
-        dc.challenge._id === challengeId
-          ? { ...dc, progress: response.data.progress }
-          : dc
-      ));
-      
-      if (response.data.isCompleted) {
-        toast.success(
-          <div>
-            <p>ðŸŽ‰ Challenge completed!</p>
-            <p>ðŸ† Rewards: {response.data.rewards?.xp || 0} XP, {response.data.rewards?.coins || 0} HealCoins</p>
-          </div>,
-          { duration: 4000 }
-        );
-        // Refresh wallet or other data if needed
-        if (refreshWallet) refreshWallet();
-      } else {
-        toast.success(
-          <div>
-            <p>âœ… Step {step} completed!</p>
-            <p>Keep going to finish the challenge!</p>
-          </div>,
-          { duration: 2000 }
-        );
-      }
-    } catch (err) {
-      console.error('âŒ Error updating progress:', err);
-      const errorMessage = err.response?.data?.error || 'Failed to update progress';
-      toast.error(errorMessage);
-      
-      // If the error is "Challenge already started", try to fetch the latest progress
-      if (errorMessage.includes('already started')) {
-        console.log('ðŸ”„ Challenge already started, refreshing challenges...');
-        fetchChallenges();
-      }
-    }
-  };
-
-  const ChallengeCard = ({ challenge, progress }) => {
-    if (!challenge) return null;
-    const gradientClass = challenge.gradientColors || 'from-green-400 to-emerald-500';
-    const totalSteps = challenge.completionSteps;
-    const completedSteps = progress?.completedSteps?.length || 0;
-    const progressPercentage = totalSteps > 0 ? (completedSteps / totalSteps) * 100 : 0;
-    return (
-      <motion.div
-        initial={{ opacity: 0, y: 20 }}
-        animate={{ opacity: 1, y: 0 }}
-        transition={{ duration: 0.5 }}
-        className={`bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-xl transition-shadow duration-300`}
-      >
-        <div className={`h-2 bg-gradient-to-r ${gradientClass}`} />
-        <div className="p-6">
-          <div className="flex items-start justify-between">
-            <div className="flex items-center">
-              <div className={`p-3 rounded-full bg-gradient-to-r ${gradientClass} text-white mr-4`}>
-                <FiCalendar className="w-6 h-6" />
-              </div>
-              <div>
-                <h3 className="text-lg font-semibold text-gray-800">{challenge.title}</h3>
-                <p className="text-sm text-gray-500">{challenge.description}</p>
-              </div>
-            </div>
-            {progress?.isCompleted && (
-              <div className="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full flex items-center">
-                <FiCheckCircle className="mr-1" />
-                Completed
-              </div>
-            )}
-          </div>
-          <div className="mt-4 space-y-3">
-            <div className="flex items-center text-sm text-gray-600">
-              <FiClock className="mr-2" />
-              <span>Estimated time: {challenge.estimatedTime}</span>
-            </div>
-            <div className="flex items-center text-sm text-gray-600">
-              <FiAward className="mr-2" />
-              <span>Rewards: {challenge.xpReward} XP, {challenge.coinReward} HealCoins</span>
-            </div>
-            <div className="mt-4">
-              <div className="flex justify-between mb-1">
-                <span className="text-sm font-medium text-gray-700">Progress</span>
-                <span className="text-sm font-medium text-gray-700">{completedSteps}/{totalSteps} steps</span>
-              </div>
-              <div className="w-full bg-gray-200 rounded-full h-2.5">
-                <div 
-                  className={`h-2.5 rounded-full bg-gradient-to-r ${gradientClass}`} 
-                  style={{ width: `${progressPercentage}%` }}
-                ></div>
-              </div>
-            </div>
-            <div className="mt-4">
-              <h4 className="text-sm font-medium text-gray-700 mb-2">Challenge Steps:</h4>
-              <div className="space-y-2">
-                {Array.from({ length: totalSteps }, (_, i) => {
-                  const stepNumber = i + 1;
-                  const isCompleted = progress?.completedSteps?.includes(stepNumber);
-                  const canClick = !isCompleted && !progress?.isCompleted;
-                  return (
-                    <div key={stepNumber} className="flex items-center">
-                      <button
-                        onClick={() => canClick && updateProgress(challenge._id, stepNumber)}
-                        disabled={!canClick}
-                        className={`p-2 rounded-full mr-3 transition-all duration-200 ${
-                          isCompleted 
-                            ? 'bg-green-100 text-green-600 shadow-sm' 
-                            : progress?.isCompleted 
-                              ? 'bg-gray-100 text-gray-400 cursor-not-allowed' 
-                              : 'bg-blue-50 text-blue-600 hover:bg-blue-100 hover:shadow-md cursor-pointer transform hover:scale-105'
-                        }`}
-                      >
-                        {isCompleted ? (
-                          <FiCheckCircle className="w-5 h-5" />
-                        ) : (
-                          <div className="w-5 h-5 flex items-center justify-center text-xs font-semibold">
-                            {stepNumber}
-                          </div>
-                        )}
-                      </button>
-                      <div className="flex-1">
-                        <span className={`text-sm font-medium ${
-                          isCompleted ? 'text-green-600 line-through' : 'text-gray-700'
-                        }`}>
-                          Step {stepNumber}: {challenge.title} - Part {stepNumber}
-                        </span>
-                        {!isCompleted && !progress?.isCompleted && (
-                          <p className="text-xs text-gray-500 mt-1">
-                            Click to complete this step and earn progress!
-                          </p>
-                        )}
-                      </div>
-                      {canClick && (
-                        <div className="text-xs text-blue-500 font-medium ml-2">
-                          +{Math.ceil(challenge.xpReward / totalSteps)} XP
-                        </div>
-                      )}
-                    </div>
-                  );
-                })}
-              </div>
-              {progress?.completedSteps?.length === 0 && (
-                <div className="mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200">
-                  <p className="text-sm text-blue-700 font-medium">ðŸŽ¯ Ready to start?</p>
-                  <p className="text-xs text-blue-600 mt-1">
-                    Click on Step 1 above to begin this challenge and start earning rewards!
-                  </p>
-                </div>
-              )}
-            </div>
-          </div>
-        </div>
-      </motion.div>
-    );
-  };
-
-  if (loading) {
-    return (
-      <div className="flex justify-center items-center h-96">
-        <LoadingSpinner size="lg" />
-      </div>
-    );
-  }
-
-  if (error) {
-    return (
-      <div className="text-center py-10">
-        <p className="text-red-500 mb-4">{error}</p>
-        <button
-          onClick={fetchChallenges}
-          className="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"
-        >
-          Try Again
-        </button>
-      </div>
-    );
-  }
-
-  return (
-    <div className="container mx-auto px-4 py-8">
-      <div className="mb-8">
-        <h1 className="text-3xl font-bold text-gray-800 mb-2">Daily & Weekly Challenges</h1>
-        <p className="text-gray-600">
-          Complete challenges to earn XP and HealCoins. Daily challenges reset every day, while weekly challenges give you the entire week to complete them.
-        </p>
-      </div>
-      <div className="mb-8">
-        <h2 className="text-xl font-semibold text-gray-800 mb-4 flex items-center">
-          <FiCalendar className="mr-2" /> Today's 10 Daily Challenges
-        </h2>
-        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6">
-          {dailyChallenges.map((dc) => (
-            <ChallengeCard key={dc.challenge._id} challenge={dc.challenge} progress={dc.progress} />
-          ))}
-        </div>
-      </div>
-      <div className="mb-8">
-        <h2 className="text-xl font-semibold text-gray-800 mb-4 flex items-center">
-          <FiTrendingUp className="mr-2" /> Weekly Challenge
-        </h2>
-        {weekly && (
-          <ChallengeCard challenge={weekly.challenge} progress={weekly.progress} />
-        )}
-      </div>
-      
-      <div className="mt-12 bg-blue-50 rounded-xl p-6 border border-blue-100">
-        <h3 className="text-lg font-semibold text-blue-800 mb-2">Why Complete Challenges?</h3>
-        <ul className="space-y-2">
-          {/* Get benefits from the first challenge if available */}
-          {dailyChallenges.length > 0 && dailyChallenges[0].challenge?.benefits?.map((benefit, index) => (
-            <li key={index} className="flex items-start">
-              <span className="text-blue-500 mr-2">â€¢</span>
-              <span className="text-gray-700">{benefit}</span>
-            </li>
-          ))}
-          {weekly?.challenge?.benefits?.map((benefit, index) => (
-            <li key={`weekly-${index}`} className="flex items-start">
-              <span className="text-blue-500 mr-2">â€¢</span>
-              <span className="text-gray-700">{benefit}</span>
-            </li>
-          ))}
-          {/* Default benefits if none available */}
-          {(!dailyChallenges.length || !dailyChallenges[0].challenge?.benefits) && !weekly?.challenge?.benefits && (
-            <>
-              <li className="flex items-start">
-                <span className="text-blue-500 mr-2">â€¢</span>
-                <span className="text-gray-700">Earn XP and HealCoins for completing challenges</span>
-              </li>
-              <li className="flex items-start">
-                <span className="text-blue-500 mr-2">â€¢</span>
-                <span className="text-gray-700">Build healthy financial habits</span>
-              </li>
-              <li className="flex items-start">
-                <span className="text-blue-500 mr-2">â€¢</span>
-                <span className="text-gray-700">Improve your financial knowledge</span>
-              </li>
-              <li className="flex items-start">
-                <span className="text-blue-500 mr-2">â€¢</span>
-                <span className="text-gray-700">Compete with others on the leaderboard</span>
-              </li>
-            </>
-          )}
-        </ul>
-      </div>
-    </div>
-  );
-};
-
-export default DailyChallenges;
\ No newline at end of file
diff --git a/frontend/src/pages/Student/Leaderboard.jsx b/frontend/src/pages/Student/Leaderboard.jsx
index a611a55..f334a2d 100644
--- a/frontend/src/pages/Student/Leaderboard.jsx
+++ b/frontend/src/pages/Student/Leaderboard.jsx
@@ -35,7 +35,6 @@ const Leaderboard = () => {
     const [selectedPeriod, setSelectedPeriod] = useState('weekly');
     const [challenges, setChallenges] = useState([]);
     const [games, setGames] = useState([]);
-    const [dailyChallenges, setDailyChallenges] = useState([]);
     const [showPlayOptions, setShowPlayOptions] = useState(null);
     const { socket } = useSocket();
 
@@ -47,10 +46,6 @@ const Leaderboard = () => {
                 const challengesResponse = await api.get('/api/challenges/active');
                 setChallenges(challengesResponse.data);
                 
-                // Fetch daily challenges
-                const dailyChallengesResponse = await api.get('/api/daily-challenges');
-                setDailyChallenges(dailyChallengesResponse.data);
-                
                 // Fetch games
                 const gamesResponse = await api.get('/api/game/games');
                 setGames(gamesResponse.data);
@@ -152,9 +147,7 @@ const Leaderboard = () => {
         navigate(`/student/games/${gameId}`);
     };
     
-    const navigateToDailyChallenge = () => {
-        navigate('/student/daily-challenges');
-    };
+    // navigateToDailyChallenge removed - daily challenges functionality removed
     
     const togglePlayOptions = (userId) => {
         setShowPlayOptions(showPlayOptions === userId ? null : userId);
@@ -515,15 +508,7 @@ const Leaderboard = () => {
                                                     </button>
                                                 )}
                                                 
-                                                {dailyChallenges.length > 0 && (
-                                                    <button 
-                                                        onClick={() => navigateToDailyChallenge(dailyChallenges[0]._id)}
-                                                        className="flex items-center gap-2 px-3 py-2 hover:bg-gray-50 rounded-lg text-sm text-left"
-                                                    >
-                                                        <Calendar className="w-4 h-4 text-blue-500" />
-                                                        Daily Challenge
-                                                    </button>
-                                                )}
+                                                {/* Daily Challenge button removed - functionality removed */}
                                                 
                                                 {games.length > 0 && (
                                                     <button 
@@ -568,17 +553,7 @@ const Leaderboard = () => {
                                 </motion.button>
                             )}
                             
-                            {dailyChallenges.length > 0 && (
-                                <motion.button
-                                    whileHover={{ scale: 1.05 }}
-                                    whileTap={{ scale: 0.95 }}
-                                    onClick={() => navigateToDailyChallenge(dailyChallenges[0]._id)}
-                                    className="bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-sm font-semibold shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2"
-                                >
-                                    <Calendar className="w-4 h-4" />
-                                    Daily Challenge
-                                </motion.button>
-                            )}
+                            {/* Daily Challenge button removed - functionality removed */}
                             
                             {games.length > 0 && (
                                 <motion.button
diff --git a/frontend/src/pages/Student/StudentDashboard.jsx b/frontend/src/pages/Student/StudentDashboard.jsx
index 4297b01..4d966ab 100644
--- a/frontend/src/pages/Student/StudentDashboard.jsx
+++ b/frontend/src/pages/Student/StudentDashboard.jsx
@@ -79,7 +79,6 @@ export default function StudentDashboard() {
     const [featureCards, setFeatureCards] = useState([]);
     const [achievements, setAchievements] = useState([]);
     const [recentActivities, setRecentActivities] = useState([]);
-    const [challenges, setChallenges] = useState([]);
     // eslint-disable-next-line no-unused-vars
     const [notifications, setNotifications] = useState([]);
     const [dashboardData, setDashboardData] = useState(null);
@@ -265,13 +264,6 @@ export default function StudentDashboard() {
                 setRecentActivities(data.activities);
             }
             
-            if (data.challenges) {
-                // Handle daily challenges data structure
-                const challengesData = Array.isArray(data.challenges) 
-                    ? data.challenges.map(item => item.challenge || item)
-                    : [];
-                setChallenges(challengesData);
-            }
 
             // Cache the dashboard data
             cacheDashboardData('student', data);
@@ -452,13 +444,6 @@ export default function StudentDashboard() {
             }
         };
         
-        const handleChallengeCompleted = (data) => {
-            setStats((prev) => ({ ...prev, streak: prev.streak + 1 }));
-            toast.success(`ðŸ† Challenge completed! +${data.rewards?.coins || 0} HealCoins, +${data.rewards?.xp || 0} XP`);
-            
-            // Trigger leaderboard update
-            socket.emit('xp-updated');
-        };
         
         const handleLevelUp = (data) => {
             setStats((prev) => ({ 
@@ -475,12 +460,10 @@ export default function StudentDashboard() {
         };
         
         socket.on('game-completed', handleGameCompleted);
-        socket.on('challenge-completed', handleChallengeCompleted);
         socket.on('level-up', handleLevelUp);
         
         return () => {
             socket.off('game-completed', handleGameCompleted);
-            socket.off('challenge-completed', handleChallengeCompleted);
             socket.off('level-up', handleLevelUp);
         };
     }, [socket, stats.level]);
@@ -497,7 +480,6 @@ export default function StudentDashboard() {
         { key: "rewards", label: "Entrepreneurship & Higher Education" },
         { key: "shopping", label: "Civic Responsibility & Global Citizenship" },
         { key: "sustainability", label: "Sustainability" },
-        { key: "challenges", label: "Challenges" },
     ];
 
     // Show all cards on dashboard (excluding special game categories)
@@ -1235,7 +1217,7 @@ export default function StudentDashboard() {
                             <motion.button
                                 whileHover={{ scale: 1.05, rotate: dailyActions.missionStarted ? 0 : -2 }}
                                 whileTap={{ scale: 0.95 }}
-                                onClick={() => handleNavigate('/student/daily-challenges', 'Start Mission')}
+                                onClick={() => handleNavigate('/student/dashboard', 'Dashboard')}
                                 className={`relative overflow-hidden rounded-2xl p-6 shadow-xl transition-all ${
                                     dailyActions.missionStarted 
                                         ? 'bg-gradient-to-br from-purple-400 to-violet-500' 
@@ -2057,127 +2039,33 @@ export default function StudentDashboard() {
                 </motion.div>
 
 
-                {/* Recent Activities and Challenges Section */}
-                {(recentActivities.length > 0 || challenges.length > 0) && (
+                {/* Recent Activities Section */}
+                {recentActivities.length > 0 && (
                     <motion.div
                         initial={{ opacity: 0, y: 20 }}
                         animate={{ opacity: 1, y: 0 }}
                         transition={{ delay: 0.6 }}
-                        className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"
+                        className="bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-white/40 mb-8"
                     >
-                        {/* Recent Activities */}
-                        {recentActivities.length > 0 && (
-                            <div className="bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-white/40">
-                                <h3 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
-                                    <Activity className="w-5 h-5 text-indigo-500" />
-                                    Recent Activities
-                                </h3>
-                                <div className="space-y-3">
-                                    {recentActivities.slice(0, 5).map((activity, i) => (
-                                        <div key={i} className="flex items-center gap-3 p-3 bg-indigo-50 rounded-xl">
-                                            <div className="w-2 h-2 bg-indigo-500 rounded-full"></div>
-                                            <div className="flex-1">
-                                                <p className="text-sm font-medium text-gray-800">
-                                                    {activity.description || activity.title}
-                                                </p>
-                                                <p className="text-xs text-gray-500">
-                                                    {new Date(activity.timestamp || activity.createdAt).toLocaleString()}
-                                                </p>
-                                            </div>
-                                        </div>
-                                    ))}
-                                </div>
-                            </div>
-                        )}
-                        
-                        {/* Active Challenges */}
-                        {challenges.length > 0 && (
-                            <div className="bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-white/40">
-                                <h3 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
-                                    <Trophy className="w-5 h-5 text-yellow-500" />
-                                    Active Challenges
-                                </h3>
-                                <div className="space-y-3">
-                                    {challenges.slice(0, 3).map((challenge, i) => (
-                                        <div 
-                                            key={i} 
-                                            className="flex items-center gap-3 p-3 bg-yellow-50 rounded-xl cursor-pointer hover:bg-yellow-100 transition-colors"
-                                            onClick={() => {
-                                                // Log challenge click
-                                                logActivity({
-                                                    activityType: "ui_interaction",
-                                                    description: `Clicked active challenge: ${challenge.title || challenge.name}`,
-                                                    metadata: {
-                                                        action: "active_challenge_click",
-                                                        challengeId: challenge._id,
-                                                        challengeTitle: challenge.title || challenge.name,
-                                                        timestamp: new Date().toISOString()
-                                                    },
-                                                    pageUrl: window.location.pathname
-                                                });
-                                                
-                                                // Navigate to daily challenges page
-                                                toast.success(`Starting challenge: ${challenge.title || challenge.name}!`, {
-                                                    duration: 2000,
-                                                    position: "bottom-center",
-                                                    icon: "ðŸ†"
-                                                });
-                                                handleNavigate('/student/daily-challenges', 'Daily Challenges');
-                                            }}
-                                        >
-                                            <div className="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-white text-sm font-bold">
-                                                {i + 1}
-                                            </div>
-                                            <div className="flex-1">
-                                                <p className="text-sm font-medium text-gray-800">
-                                                    {challenge.title || challenge.name || `Daily Challenge - ${new Date().toISOString().split('T')[0]}`}
-                                                </p>
-                                                <p className="text-xs text-gray-500">
-                                                    {challenge.description || 'Complete this daily challenge to earn rewards!'}
-                                                </p>
-                                                <div className="w-full bg-gray-200 rounded-full h-2 mt-2">
-                                                    <div 
-                                                        className="bg-yellow-500 h-2 rounded-full transition-all duration-300" 
-                                                        style={{ width: `${challenge.progress || 0}%` }}
-                                                    ></div>
-                                                </div>
-                                            </div>
-                                            <div className="text-xs text-green-600 font-semibold">
-                                                +{challenge.coinReward || 15} ðŸª™
-                                            </div>
-                                        </div>
-                                    ))}
-                                </div>
-                                <div className="mt-4 text-center">
-                                    <motion.button
-                                        whileHover={{ scale: 1.05 }}
-                                        whileTap={{ scale: 0.95 }}
-                                        onClick={() => {
-                                            logActivity({
-                                                activityType: "ui_interaction",
-                                                description: "Clicked View All Challenges button",
-                                                metadata: {
-                                                    action: "view_all_challenges",
-                                                    section: "active_challenges",
-                                                    timestamp: new Date().toISOString()
-                                                },
-                                                pageUrl: window.location.pathname
-                                            });
-                                            
-                                            toast.success("Let's complete some challenges!", {
-                                                duration: 2000,
-                                                position: "bottom-center",
-                                                icon: "ðŸŽ¯"
-                                            });
-                                            handleNavigate('/student/daily-challenges', 'Daily Challenges');
-                                        }}
-                                        className="bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 rounded-xl text-sm font-semibold hover:shadow-lg transition-all"
-                                    >
-                                        View All Challenges
-                                    </motion.button>
+                        <h3 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
+                            <Activity className="w-5 h-5 text-indigo-500" />
+                            Recent Activities
+                        </h3>
+                        <div className="space-y-3">
+                            {recentActivities.slice(0, 5).map((activity, i) => (
+                                <div key={i} className="flex items-center gap-3 p-3 bg-indigo-50 rounded-xl">
+                                    <div className="w-2 h-2 bg-indigo-500 rounded-full"></div>
+                                    <div className="flex-1">
+                                        <p className="text-sm font-medium text-gray-800">
+                                            {activity.description || activity.title}
+                                        </p>
+                                        <p className="text-xs text-gray-500">
+                                            {new Date(activity.timestamp || activity.createdAt).toLocaleString()}
+                                        </p>
+                                    </div>
                                 </div>
-                            </div>
-                        )}
+                            ))}
+                        </div>
                     </motion.div>
                 )}
 
@@ -2194,7 +2082,7 @@ export default function StudentDashboard() {
                     {dashboardData && import.meta.env.DEV && (
                         <div className="mt-4 text-xs text-gray-500">
                             <p>Dashboard data loaded: {new Date().toLocaleTimeString()}</p>
-                            <p>Activities: {dashboardData.activities?.length || 0}, Challenges: {dashboardData.challenges?.length || 0}</p>
+                            <p>Activities: {dashboardData.activities?.length || 0}</p>
                         </div>
                     )}
                 </div>
diff --git a/frontend/src/services/dashboardService.js b/frontend/src/services/dashboardService.js
index 741f163..9e6baff 100644
--- a/frontend/src/services/dashboardService.js
+++ b/frontend/src/services/dashboardService.js
@@ -8,18 +8,17 @@ import api from "../utils/api";
 // ================== STUDENT DASHBOARD APIs ==================
 export const fetchStudentDashboardData = async () => {
   try {
-    const [stats, achievements, activities, challenges] = await Promise.all([
+    const [stats, achievements, activities] = await Promise.all([
       api.get("/api/stats/student"),
       api.get("/api/student/achievements"), 
-      api.get("/api/activity/my-activities?limit=5"),
-      api.get("/api/daily-challenges")
+      api.get("/api/activity/my-activities?limit=5")
     ]);
 
     return {
       stats: stats.data,
       achievements: achievements.data,
       activities: activities.data,
-      challenges: challenges.data.challenges || challenges.data
+      challenges: [] // Challenges removed - return empty array
     };
   } catch (error) {
     console.error("Error fetching student dashboard data:", error);
@@ -58,15 +57,7 @@ export const fetchStudentActivities = async (limit = 10) => {
   }
 };
 
-export const fetchStudentChallenges = async () => {
-  try {
-    const response = await api.get("/api/daily-challenges");
-    return response.data.challenges || response.data;
-  } catch (error) {
-    console.error("Error fetching student challenges:", error);
-    return [];
-  }
-};
+// fetchStudentChallenges removed - daily challenges functionality removed
 
 // New Analytics Metrics
 export const fetchPillarMastery = async () => {
diff --git a/frontend/src/utils/api.js b/frontend/src/utils/api.js
index 561457e..9807fc6 100644
--- a/frontend/src/utils/api.js
+++ b/frontend/src/utils/api.js
@@ -58,6 +58,12 @@ api.interceptors.response.use(
 api.interceptors.request.use(
   (config) => {
     const token = localStorage.getItem("finmen_token");
+    console.log('ðŸ” API Request interceptor:', {
+      url: config.url,
+      method: config.method,
+      hasToken: !!token,
+      tokenLength: token ? token.length : 0
+    });
 
     if (token) {
       try {
@@ -78,6 +84,7 @@ api.interceptors.request.use(
           }
           
           config.headers.Authorization = `Bearer ${token}`;
+          console.log('âœ… Token added to request headers');
         } else {
           console.warn("âš ï¸ Malformed token found. Removing...");
           localStorage.removeItem("finmen_token");
@@ -86,6 +93,8 @@ api.interceptors.request.use(
         console.error("âŒ Token parsing error:", err.message);
         localStorage.removeItem("finmen_token");
       }
+    } else {
+      console.warn("âš ï¸ No token found in localStorage");
     }
 
     return config;
